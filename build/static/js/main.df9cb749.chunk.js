(this.webpackJsonpfrontend_app=this.webpackJsonpfrontend_app||[]).push([[0],{179:function(e,t,r){},180:function(e,t,r){},226:function(e,t,r){},227:function(e,t,r){},303:function(e,t,r){},305:function(e,t,r){},306:function(e,t,r){},307:function(e,t,r){},308:function(e,t,r){},309:function(e,t,r){},310:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),s=r(34),c=r.n(s),o=r(28),i=r(32),l=r(7),u=r(192),d=r(184),j=r(317),b=r(318),p=r(320),O=r(113),h=r(59),x=r(104),f=r(61),m=r(37),_=r.n(m),g=r(12),v=r.n(g),y=r(325),T=r(326),w=(r(74),r(226),r(227),"http://144.34.175.242/api/customer_api/"),S="http://144.34.175.242/api/customer_food_shop_api/",k="http://144.34.175.242/api/customer_food_item_api/",E="http://144.34.175.242/api/customer_order_api/",A={DEFAULT_URL:w,REGISTER_URL:w+"customer_register/",LOGIN_URL:w+"customer_login/",LOGOUT_URL:w+"customer_logout/",RESET_PASSWORD:w+"customer_password_reset/",GET_CUSTOMER_DETAIL:w+"customer_detail",UPDATE_CUSTOMER_PROFILE:w+"customer_update_profile",CUSTOMER_UPLOAD_AVATAR:w+"customer_upload_avatar",RANDOM_FOOD_SHOP_POP_UP:S+"get_random_food_shops",GET_FAVOURITE_FOOD_SHOPS:S+"get_favourite_food_shops",GET_FOOD_SHOP_DETAIL:S+"get_food_shop_detail",GET_FOOD_CATEGORIES:S+"get_food_category_by_food_shop_id",UPDATE_FAVOURITE_FOOD_SHOP:S+"update_favourite_food_shop",GET_FOOD_ITEMS_BY_SHOP_ID:k+"get_food_items_by_shop_id",GET_FOOD_ITEMS_BY_CATEGORY_ID:k+"get_food_items_by_category_id",GET_FOOD_ITEM_DETAIL_BY_ID:k+"get_food_item_by_id",GET_ALL_DRIVER_DETAIL:"http://144.34.175.242/api/deliver_driver_api/get_all_driver_detail",CREATE_ORDER:E+"create_order",ADD_ORDER_TO_DATABASE:E+"add_order_to_database"},C=r(1),D=function(){return Object(C.jsxs)("div",{className:"footer-div",children:["Copyright \xa9 ",Object(C.jsx)(o.b,{to:{pathname:A.DEFAULT_URL},target:"_blank",children:"Charlie's Food Shop"}),Object(C.jsx)("div",{children:(new Date).getFullYear()})]})},I={reCAPTCHA_site_key:"6LcaKtIZAAAAAK6RCXm1AoJfpgWNWo7wUzwzUZA-",BingMap_key:"AiJHkuJR5r6HBFPmJ7tu1mxwEGVWLymQ1CmIVRwXBTdpvx5ImKJMOVDr2_qRfgro"},P=function(e){var t=Object(a.useState)(!1),r=Object(l.a)(t,2),n=r[0],s=r[1],c=Object(a.useRef)(),i=Object(a.useRef)(),m=Object(a.useRef)(),g=I.reCAPTCHA_site_key,w=null;Object(a.useEffect)((function(){if(localStorage.getItem("customerSessionId"))return e.history.push("/customer")}),[]);var S=function(t){s(!0);var r={email_address:c.current.state.value,password:i.current.state.value,captcha:t};v()({method:"post",url:A.LOGIN_URL,data:r,withCredentials:!0}).then((function(t){return s(!1),t.data.success?(m.current.state.checked&&(localStorage.setItem("rememberEmail",c.current.state.value),localStorage.setItem("rememberPass",i.current.state.value)),localStorage.setItem("customerSessionId",t.data.customerSessionId),localStorage.setItem("customerEmail",c.current.state.value),u.b.success(t.data.message),e.history.push("/customer")):u.b.error(t.data.message)})).catch((function(e){return s(!1),u.b.error(e.response.data.message)}))};return Object(C.jsx)("div",{className:"login-div",children:Object(C.jsxs)(d.a,{tip:"Loading...",spinning:n,children:[Object(C.jsx)(j.a,{title:"Welcome to Charlie's Food Shop",style:{width:400},bordered:!0,children:Object(C.jsxs)(b.a,{children:[Object(C.jsx)(p.a,{id:"emailAddress",size:"large",type:"email",prefix:Object(C.jsx)(y.a,{style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Enter Your Email Address",autoFocus:!0,defaultValue:localStorage.getItem("rememberEmail")?localStorage.getItem("rememberEmail"):null,ref:c,required:!0}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(p.a.Password,{id:"password",size:"large",placeholder:"Enter Your Password",required:!0,defaultValue:localStorage.getItem("rememberPass")?localStorage.getItem("rememberPass"):null,ref:i,prefix:Object(C.jsx)(T.a,{style:{color:"rgba(0,0,0,.25)"}})}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(O.a,{ref:m,children:"Remember me"}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(h.a,{type:"primary",size:"large",block:!0,htmlType:"submit",onClick:function(e){if(e.preventDefault(),!c.current.state.value||!i.current.state.value)return u.b.error("Please complete all the information!");w&&w.execute(g,{action:"login"}).then((function(e){S(e)}))},children:"LOG IN"}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsxs)(x.a,{children:[Object(C.jsx)(f.a,{span:12,children:Object(C.jsx)(o.b,{to:"/customer/register",children:"Do not have account?"})}),Object(C.jsx)(f.a,{span:12,style:{textAlign:"right"},children:Object(C.jsx)(o.b,{to:"/customer/reset-password",children:"Forget password?"})})]})]})}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(_.a,{ref:function(e){return w=e},sitekey:g,onResolved:function(){return console.log("Human detected.")}}),Object(C.jsx)(D,{})]})})},L=r(319),R=(r(303),function(e){var t=Object(a.useState)(!1),r=Object(l.a)(t,2),n=r[0],s=r[1],c=Object(a.useRef)(),i=Object(a.useRef)(),O=Object(a.useRef)(),m=Object(a.useRef)(),g=Object(a.useRef)(),y=Object(a.useRef)(),T=I.reCAPTCHA_site_key,w=null,S=function(t){s(!0);var r={first_name:c.current.state.value,last_name:i.current.state.value,email_address:O.current.state.value,phone:m.current.state.value,password:g.current.state.value,captcha:t};v()({method:"post",url:A.REGISTER_URL,data:r}).then((function(t){return s(!1),t.data.success?(u.b.success(t.data.message),e.history.push("/customer/login")):u.b.error(t.data.message)})).catch((function(e){return s(!1),u.b.error(e.response.data.message)}))};return Object(C.jsx)("div",{className:"register-div",children:Object(C.jsxs)(d.a,{tip:"Loading...",spinning:n,children:[Object(C.jsx)(j.a,{title:"Create Your Own Customer Account",style:{width:600},bordered:!0,children:Object(C.jsxs)(b.a,{children:[Object(C.jsxs)(x.a,{children:[Object(C.jsxs)(f.a,{span:12,children:[Object(C.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"First Name"}),Object(C.jsx)(p.a,{size:"large",style:{width:"90%"},type:"text",id:"firstName",placeholder:"Java",ref:c,required:!0})]}),Object(C.jsxs)(f.a,{span:12,children:[Object(C.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Last Name"}),Object(C.jsx)(p.a,{size:"large",style:{width:"90%"},type:"text",id:"lastName",placeholder:"JavaScript",ref:i,required:!0})]})]}),Object(C.jsx)("br",{}),Object(C.jsxs)(x.a,{children:[Object(C.jsxs)(f.a,{span:12,children:[Object(C.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Email Address"}),Object(C.jsx)(p.a,{size:"large",style:{width:"90%"},type:"email",id:"emailAddress",placeholder:"abc@abc.com",ref:O,required:!0})]}),Object(C.jsxs)(f.a,{span:12,children:[Object(C.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Phone Number"}),Object(C.jsx)(p.a,{size:"large",style:{width:"90%"},type:"tel",pattern:"\\([0-9]{3}\\) [0-9]{3}-[0-9]{4}",id:"phone",placeholder:"(111) 111-1111",ref:m,required:!0})]})]}),Object(C.jsx)("br",{}),Object(C.jsxs)(x.a,{children:[Object(C.jsxs)(f.a,{span:12,children:[Object(C.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Password"}),Object(C.jsx)(p.a.Password,{size:"large",style:{width:"90%"},id:"password",placeholder:"Password",ref:g,required:!0})]}),Object(C.jsxs)(f.a,{span:12,children:[Object(C.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Confirm Your Password"}),Object(C.jsx)(p.a,{size:"large",style:{width:"90%"},type:"password",id:"confirmPassword",placeholder:"Confirm Password",ref:y,required:!0})]})]}),Object(C.jsx)("br",{}),Object(C.jsx)(L.a.Text,{type:"danger",children:"Note: Password should be at least 8 characters, with 1 Uppercase, 1 Lowercase, 1 Number and 1 Symbol."}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(h.a,{type:"primary",size:"large",block:!0,htmlType:"submit",onClick:function(e){return e.preventDefault(),c.current.state.value&&i.current.state.value&&O.current.state.value&&m.current.state.value&&g.current.state.value&&y.current.state.value?g.current.state.value!==y.current.state.value?u.b.error("Confirm password is not same as the password you set. Please try again!"):void(w&&w.execute(T,{action:"register"}).then((function(e){S(e)}))):u.b.error("Please complete all the information!")},children:"Submit"}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)("div",{span:12,style:{textAlign:"right"},children:Object(C.jsx)(o.b,{to:"/customer/login",children:"Already have account?"})})]})}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(_.a,{ref:function(e){return w=e},sitekey:T,onResolved:function(){return console.log("Human detected.")}}),Object(C.jsx)(D,{})]})})}),F=r(327),G=(r(179),function(e){var t=Object(a.useState)(!1),r=Object(l.a)(t,2),n=r[0],s=r[1],c=Object(a.useRef)(),i=I.reCAPTCHA_site_key,O=null,x=function(t){s(!0);var r={email_address:c.current.state.value,captcha:t};v()({method:"post",url:A.RESET_PASSWORD,data:r}).then((function(t){return s(!1),u.b.success(t.data.message),e.history.push("/customer/login")})).catch((function(e){return s(!1),u.b.error(e.response.data.message)}))};return Object(C.jsx)("div",{className:"reset-password-div",children:Object(C.jsxs)(d.a,{tip:"Loading...",spinning:n,children:[Object(C.jsx)(j.a,{title:"Give your email address to reset password",style:{width:400},bordered:!0,children:Object(C.jsxs)(b.a,{children:[Object(C.jsx)(p.a,{id:"emailAddress",size:"large",type:"email",prefix:Object(C.jsx)(F.a,{style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Your Email Address",ref:c,required:!0}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(h.a,{type:"primary",size:"large",block:!0,htmlType:"submit",onClick:function(e){if(e.preventDefault(),!c.current.state.value)return u.b.error("Please complete all the information!");O&&O.execute(i,{action:"reset-password"}).then((function(e){x(e)}))},children:"Submit"}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(o.b,{to:"/customer/login",children:"Go Back"})]})}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(_.a,{ref:function(e){return O=e},sitekey:i,onResolved:function(){return console.log("Human detected.")}}),Object(C.jsx)(D,{})]})})}),U=function(e){var t=Object(a.useState)(!1),r=Object(l.a)(t,2),n=r[0],s=r[1],c=Object(a.useRef)(),o=Object(a.useRef)(),i=I.reCAPTCHA_site_key,O=null,x=function(t){s(!0);var r={password:c.current.state.value,captcha:t};v()({method:"post",url:A.RESET_PASSWORD+e.match.params.token,data:r}).then((function(t){return s(!1),u.b.success(t.data.message),e.history.push("/customer/login")})).catch((function(t){return s(!1),"Invalid link or expired"===t.response.data.message?(u.b.error(t.response.data.message),e.history.push("/customer/login")):u.b.error(t.response.data.message)}))};return Object(C.jsx)("div",{className:"reset-password-div",children:Object(C.jsxs)(d.a,{tip:"Loading...",spinning:n,children:[Object(C.jsx)(j.a,{title:"Reset your password",style:{width:400},bordered:!0,children:Object(C.jsxs)(b.a,{children:[Object(C.jsx)(p.a.Password,{id:"resetPassword",size:"large",placeholder:"New Password Here",ref:c,required:!0}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(p.a,{id:"confirmResetPassword",size:"large",type:"password",placeholder:"Confirm Password",ref:o,required:!0}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(h.a,{type:"primary",size:"large",block:!0,htmlType:"submit",onClick:function(e){return e.preventDefault(),c.current.state.value&&o.current.state.value?c.current.state.value!==o.current.state.value?u.b.error("Confirm password is not same to the password you reset, please try again."):void(O&&O.execute(i,{action:"reset-password-final"}).then((function(e){x(e)}))):u.b.error("Please complete all the information!")},children:"Submit"})]})}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(_.a,{ref:function(e){return O=e},sitekey:i,onResolved:function(){return console.log("Human detected.")}}),Object(C.jsx)(D,{})]})})},N=r(8),z=r.n(N),M=r(15),q=r(87),H=r(323),B=r(322),Y=r(137),V=r(314),W=r(312),J=r(330),$=(r(305),r(306),r(328)),K=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),r=t[0],n=t[1];Object(a.useEffect)(Object(M.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s(localStorage.getItem("customerEmail"));case 3:t=e.sent,n(t),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",u.b.error("Sorry, could not get food shops!"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]);var s=function(){var e=Object(M.a)(z.a.mark((function e(t){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:A.RANDOM_FOOD_SHOP_POP_UP+"?email_address="+t});case 2:return r=e.sent,e.abrupt("return",r.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsx)("div",{children:r.map((function(e,t){return Object(C.jsx)("div",{style:{width:220,float:"left",margin:"2%"},children:Object(C.jsx)(o.b,{to:"/customer/food_shop/"+e.food_shop_id,children:Object(C.jsx)(j.a,{hoverable:!0,cover:Object(C.jsx)("img",{style:{height:200},alt:"food_shop",src:e.image_url}),bordered:!1,children:Object(C.jsx)(j.a.Meta,{title:e.food_shop_name,description:Object(C.jsxs)("div",{children:[Object(C.jsx)("p",{children:e.working_address}),Object(C.jsxs)("p",{children:[e.food_shop_category_name,e.on_favourite?Object(C.jsx)("span",{style:{float:"right"},children:Object(C.jsx)($.a,{})}):Object(C.jsx)(C.Fragment,{})]})]})})})})},t)}))})},Q=r(321),X=r(136),Z=function(e){var t=Object(a.useState)(0),r=Object(l.a)(t,2),n=r[0],s=r[1],c=Object(a.useState)(""),i=Object(l.a)(c,2),d=i[0],b=i[1],p=Object(a.useState)(""),O=Object(l.a)(p,2),m=O[0],_=O[1],g=Object(a.useState)(""),y=Object(l.a)(g,2),T=y[0],w=y[1],S=Object(a.useState)(null),k=Object(l.a)(S,2),E=k[0],D=k[1],I=Object(a.useState)(""),P=Object(l.a)(I,2),R=P[0],F=P[1],G=Object(a.useState)(!1),U=Object(l.a)(G,2),N=U[0],q=U[1],H=Object(a.useState)(!1),B=Object(l.a)(H,2),Y=B[0],V=B[1],J=Object(a.useState)(""),$=Object(l.a)(J,2),K=$[0],Z=$[1],ee=Object(a.useState)(""),te=Object(l.a)(ee,2),re=te[0],ae=te[1],ne=Object(a.useState)([]),se=Object(l.a)(ne,2),ce=se[0],oe=se[1],ie=Object(a.useState)([]),le=Object(l.a)(ie,2),ue=le[0],de=le[1];Object(a.useEffect)(Object(M.a)(z.a.mark((function t(){var r,a,n;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,je(localStorage.getItem("customerEmail"),e.match.params.food_shop_id);case 3:return r=t.sent,s(r.food_shop_id),b(r.food_shop_name),_(r.food_shop_category_name),w(r.food_shop_description),D(r.food_shop_rating),F(r.image_url),q(r.active),V(r.on_favourite),Z(r.open_time),ae(r.working_address),t.next=16,be(e.match.params.food_shop_id);case 16:return a=t.sent,oe(a),t.next=20,pe(e.match.params.food_shop_id);case 20:n=t.sent,de(n),t.next=27;break;case 24:return t.prev=24,t.t0=t.catch(0),t.abrupt("return",u.b.error("Sorry, fail to get food shop detail!"));case 27:case"end":return t.stop()}}),t,null,[[0,24]])}))),[]);var je=function(){var e=Object(M.a)(z.a.mark((function e(t,r){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:A.GET_FOOD_SHOP_DETAIL+"?email_address="+t+"&&food_shop_id="+r});case 2:return a=e.sent,e.abrupt("return",a.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),be=function(){var e=Object(M.a)(z.a.mark((function e(t){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:A.GET_FOOD_CATEGORIES+"?food_shop_id="+t});case 2:return r=e.sent,e.abrupt("return",r.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=Object(M.a)(z.a.mark((function e(t){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:A.GET_FOOD_ITEMS_BY_SHOP_ID+"?food_shop_id="+t});case 2:return r=e.sent,e.abrupt("return",r.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(M.a)(z.a.mark((function e(t){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:A.GET_FOOD_ITEMS_BY_CATEGORY_ID+"?food_category_id="+t});case 2:return r=e.sent,e.abrupt("return",r.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=Object(M.a)(z.a.mark((function e(t){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Oe(t);case 3:r=e.sent,de(r),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",u.b.error("Sorry, fail to get food list"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=Object(M.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v()({method:"post",url:A.UPDATE_FAVOURITE_FOOD_SHOP,data:{email_address:localStorage.getItem("customerEmail"),food_shop_id:n,on_favourite:Y}});case 3:if(!e.sent.data.success){e.next=8;break}V((function(e){return!e})),e.next=9;break;case 8:return e.abrupt("return",u.b.error("Error occured, please try again"));case 9:e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",u.b.error("Error occured, please try again"));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{style:{width:"100%",height:"150px",overflow:"hidden"},children:Object(C.jsx)("img",{alt:"shop-image",src:R,style:{width:"100%",marginTop:"-50%"}})}),Object(C.jsx)("br",{}),Object(C.jsxs)(x.a,{children:[Object(C.jsx)(f.a,{span:12,children:Object(C.jsx)(h.a,{style:{float:"left"},type:"primary",onClick:function(){return e.history.push("/customer/")},children:"Go Back"})}),Object(C.jsx)(f.a,{span:12,children:Object(C.jsx)(h.a,{style:{float:"right"},type:"primary",onClick:xe,children:Y?"Remove from My Favoruite":"Add to My Favoruite"})})]}),Object(C.jsx)(W.a,{}),Object(C.jsx)(L.a.Title,{level:2,children:d}),Object(C.jsxs)(x.a,{children:[Object(C.jsx)(f.a,{span:8,children:Object(C.jsxs)(L.a.Title,{level:5,children:["Type: ",m]})}),Object(C.jsx)(f.a,{span:8,children:Object(C.jsxs)(L.a.Title,{level:5,children:["Rating:",E?Object(C.jsx)(Q.a,{disabled:!0,defaultValue:E}):"   Not Available"]})}),Object(C.jsx)(f.a,{span:8,children:Object(C.jsxs)(L.a.Title,{level:5,children:["Address: ",re]})})]}),Object(C.jsxs)(L.a.Text,{children:["Description: ",T]}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsxs)(L.a.Title,{level:5,children:["Status:",N?Object(C.jsx)("span",{style:{color:"green"},children:"   Opening"}):Object(C.jsxs)("span",{children:[Object(C.jsx)("span",{style:{color:"red"},children:"    Closed"}),"(Will be open at ",K,")"]})]}),Object(C.jsx)(W.a,{}),Object(C.jsxs)("div",{children:[Object(C.jsx)(L.a.Text,{children:"Category: "}),Object(C.jsx)(X.a.Group,{onChange:function(e){return he(e.target.value)},children:ce.map((function(e,t){return Object(C.jsx)(X.a.Button,{value:e.food_category_id,children:e.food_category_name},t)}))})]}),Object(C.jsx)("br",{}),Object(C.jsx)("div",{children:ue.map((function(e,t){return Object(C.jsx)("div",{style:{width:220,float:"left",margin:"2%"},children:Object(C.jsx)(o.b,{to:"/customer/food_item/"+e.food_item_id,children:Object(C.jsx)(j.a,{hoverable:!0,cover:Object(C.jsx)("img",{style:{height:200},alt:"food_item",src:e.image_url}),bordered:!1,children:Object(C.jsx)(j.a.Meta,{title:e.food_name,description:Object(C.jsxs)("div",{children:[Object(C.jsx)("p",{children:e.food_category_name}),Object(C.jsxs)("p",{children:["$ ",e.food_price]}),e.food_average_rating?Object(C.jsx)(Q.a,{disabled:!0,defaultValue:e.food_average_rating}):Object(C.jsx)(C.Fragment,{})]})})})})},t)}))})]})},ee=r(329),te=r(195),re=n.a.createContext({cart:[],addProductToCart:function(e){},addProductToCartByOne:function(e){},deleteProductFromCartByOne:function(e){},removeProductFromCart:function(e){},clearCart:function(){}}),ae=function(e){var t=Object(a.useContext)(re),r=Object(a.useState)(0),n=Object(l.a)(r,2),s=n[0],c=n[1],o=Object(a.useState)(0),i=Object(l.a)(o,2),d=i[0],j=i[1],b=Object(a.useState)(!1),p=Object(l.a)(b,2),O=p[0],m=p[1],_=Object(a.useState)(null),g=Object(l.a)(_,2),y=g[0],T=g[1],w=Object(a.useState)(""),S=Object(l.a)(w,2),k=S[0],E=S[1],D=Object(a.useState)(""),I=Object(l.a)(D,2),P=I[0],R=I[1],F=Object(a.useState)(""),G=Object(l.a)(F,2),U=G[0],N=G[1],q=Object(a.useState)(0),H=Object(l.a)(q,2),B=H[0],Y=H[1],V=Object(a.useState)(""),J=Object(l.a)(V,2),$=J[0],K=J[1],X=Object(a.useState)(0),Z=Object(l.a)(X,2),ae=Z[0],ne=Z[1];Object(a.useEffect)(Object(M.a)(z.a.mark((function t(){var r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,se(e.match.params.food_item_id);case 3:r=t.sent,c(r.food_item_id),j(r.food_shop_id),m(r.active),T(r.food_average_rating),E(r.food_category_name),R(r.food_description),N(r.food_name),Y(r.food_price),K(r.image_url),t.next=18;break;case 15:return t.prev=15,t.t0=t.catch(0),t.abrupt("return",u.b.error("Sorry, fail to get food item detail!"));case 18:case"end":return t.stop()}}),t,null,[[0,15]])}))),[]);var se=function(){var e=Object(M.a)(z.a.mark((function e(t){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:A.GET_FOOD_ITEM_DETAIL_BY_ID+"?food_item_id="+t});case 2:return r=e.sent,e.abrupt("return",r.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsxs)("div",{children:[Object(C.jsx)(h.a,{style:{float:"left"},type:"primary",onClick:function(){return e.history.push("/customer/food_shop/"+d)},children:"Go Back"}),Object(C.jsx)("br",{}),Object(C.jsx)(W.a,{}),Object(C.jsxs)(x.a,{children:[Object(C.jsx)(f.a,{span:12,children:Object(C.jsx)("img",{alt:"food_item",src:$,style:{width:"80%"}})}),Object(C.jsxs)(f.a,{span:12,children:[Object(C.jsx)(L.a.Title,{level:2,children:U}),Object(C.jsxs)(L.a.Text,{children:["Description: ",P]})]})]}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsxs)(x.a,{children:[Object(C.jsx)(f.a,{span:8,children:Object(C.jsxs)(L.a.Title,{level:5,children:["Price: $",B]})}),Object(C.jsx)(f.a,{span:8,children:Object(C.jsxs)(L.a.Title,{level:5,children:["Category: ",k]})}),Object(C.jsx)(f.a,{span:8,children:Object(C.jsxs)(L.a.Title,{level:5,children:["Rating:",y?Object(C.jsx)(Q.a,{disabled:!0,defaultValue:y}):"   Not Available"]})})]}),Object(C.jsx)("br",{}),Object(C.jsxs)(x.a,{children:[Object(C.jsxs)(f.a,{span:12,children:[Object(C.jsx)(L.a.Title,{level:5,style:{marginTop:"2%",marginRight:"2%",float:"left"},children:"Quantity:"}),Object(C.jsx)(h.a,{shape:"circle",size:"small",icon:Object(C.jsx)(ee.a,{}),style:{margin:"2%"},disabled:!O,onClick:function(){ae>=1&&ne((function(e){return e-1}))}}),Object(C.jsx)(L.a.Text,{children:ae}),Object(C.jsx)(h.a,{shape:"circle",size:"small",icon:Object(C.jsx)(te.a,{}),style:{margin:"2%"},disabled:!O,onClick:function(){ne((function(e){return e+1}))}})]}),Object(C.jsx)(f.a,{span:12,children:Object(C.jsx)(h.a,{type:"primary",style:{width:"80%",float:"right"},disabled:!O,onClick:function(){return ae<=0?u.b.error("Sorry, quantity can not be zero!"):(t.addProductToCart({food_item_id:s,food_name:U,food_price:B,quantity:ae}),e.history.push("/customer/food_shop/"+d))},children:"Add to Cart"})})]})]})},ne=r(313),se=r(71),ce=function(e){var t=Object(a.useContext)(re),r=Object(a.useRef)();return Object(a.useEffect)((function(){window.paypal.Buttons({createOrder:function(){return v()({method:"post",url:A.CREATE_ORDER,data:{email_address:localStorage.getItem("customerEmail"),item_list:t.cart,address:e.address,driver_id:e.driverId,lat:e.lat,lon:e.lon,note:e.note}}).then((function(e){return e.data.success?e.data.id:u.b.error(e.data.message)})).catch((function(e){return u.b.error(e.message)}))},onApprove:function(r,a){return a.order.capture().then((function(){v()({method:"post",url:A.ADD_ORDER_TO_DATABASE,data:{email_address:localStorage.getItem("customerEmail"),item_list:t.cart,address:e.address,driver_id:e.driverId,lat:e.lat,lon:e.lon,note:e.note}}).then((function(e){return e.data.success?(t.clearCart(),u.b.success("Purchase Complete")):u.b.error(e.data.message)})).catch((function(e){return u.b.error(e.message)}))}))}}).render(r.current)}),[]),Object(C.jsx)("div",{children:Object(C.jsx)("div",{ref:r})})},oe=function(){var e=Object(a.useContext)(re),t=Object(a.useState)([]),r=Object(l.a)(t,2),n=r[0],s=r[1],c=Object(a.useState)([]),o=Object(l.a)(c,2),i=o[0],d=o[1],b=Object(a.useState)(null),O=Object(l.a)(b,2),m=O[0],_=O[1],g=Object(a.useState)(null),y=Object(l.a)(g,2),T=y[0],w=y[1],S=Object(a.useState)(null),k=Object(l.a)(S,2),E=k[0],D=k[1],P=Object(a.useState)(-1),R=Object(l.a)(P,2),F=R[0],G=R[1],U=Object(a.useState)(""),N=Object(l.a)(U,2),q=N[0],H=N[1],Y=Object(a.useState)(0),V=Object(l.a)(Y,2),J=V[0],$=V[1],K=Object(a.useState)(0),Q=Object(l.a)(K,2),X=Q[0],Z=Q[1],ae=Object(a.useState)(!1),oe=Object(l.a)(ae,2),ie=oe[0],le=oe[1];Object(a.useEffect)(Object(M.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue();case 2:t=e.sent,s(t);case 4:case"end":return e.stop()}}),e)}))),[]),Object(a.useEffect)((function(){$(je())}),[e.cart]);var ue=function(){var e=Object(M.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:A.GET_ALL_DRIVER_DETAIL});case 2:return t=e.sent,e.abrupt("return",t.data.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=Object(M.a)(z.a.mark((function e(t){var r,a,n,s,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0," "!==t[t.length-1]&&""!==t){e.next=5;break}return e.abrupt("return");case 5:return r=t.replace(" ","%20"),e.next=8,v()({method:"get",url:"http://dev.virtualearth.net/REST/v1/Locations/"+r+"?key="+I.BingMap_key});case 8:for(a=e.sent,n=a.data.resourceSets[0].resources,s=[],c=0;c<n.length;c++)s.push({value:n[c].name,key:c});d(s);case 13:e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return");case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),je=function(){for(var t=0,r=0;r<e.cart.length;r++)t+=e.cart[r].food_price*e.cart[r].quantity;return t},be=function(){var e=Object(M.a)(z.a.mark((function e(t){var r,a,n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0," "!==t[t.length-1]&&""!==t){e.next=5;break}return e.abrupt("return");case 5:return r=t.replace(" ","%20"),e.next=8,v()({method:"get",url:"http://dev.virtualearth.net/REST/v1/Locations/"+r+"?key="+I.BingMap_key});case 8:if(a=e.sent,1!==(n=a.data.resourceSets[0].resources).length){e.next=16;break}_(t),w(n[0].point.coordinates[0]),D(n[0].point.coordinates[1]),e.next=17;break;case 16:return e.abrupt("return");case 17:e.next=22;break;case 19:return e.prev=19,e.t0=e.catch(0),e.abrupt("return");case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsx)("div",{children:0===e.cart.length?Object(C.jsx)(L.a.Title,{level:3,children:"Nothing in the cart"}):Object(C.jsxs)("div",{children:[Object(C.jsxs)(x.a,{children:[Object(C.jsx)(f.a,{span:5,children:Object(C.jsx)(L.a.Title,{level:4,children:"Quantity"})}),Object(C.jsx)(f.a,{span:5,children:Object(C.jsx)(L.a.Title,{level:4,children:"Name"})}),Object(C.jsx)(f.a,{span:5,children:Object(C.jsx)(L.a.Title,{level:4,children:"Price"})}),Object(C.jsx)(f.a,{span:5,children:Object(C.jsx)(L.a.Title,{level:4,children:"Sub Total"})}),Object(C.jsx)(f.a,{span:4,children:Object(C.jsx)(L.a.Title,{level:4,children:"Action"})})]}),Object(C.jsx)("br",{}),e.cart.map((function(t,r){return Object(C.jsxs)("div",{children:[Object(C.jsxs)(x.a,{children:[Object(C.jsxs)(f.a,{span:5,children:[Object(C.jsx)(h.a,{shape:"circle",size:"small",icon:Object(C.jsx)(ee.a,{}),style:{margin:"2%"},onClick:function(){return r=t,void e.deleteProductFromCartByOne(r);var r}}),Object(C.jsx)(L.a.Text,{children:t.quantity}),Object(C.jsx)(h.a,{shape:"circle",size:"small",icon:Object(C.jsx)(te.a,{}),style:{margin:"2%"},onClick:function(){return r=t,void e.addProductToCartByOne(r);var r}})]}),Object(C.jsx)(f.a,{span:5,children:Object(C.jsx)(L.a.Text,{children:t.food_name})}),Object(C.jsx)(f.a,{span:5,children:Object(C.jsxs)(L.a.Text,{children:["$",t.food_price]})}),Object(C.jsx)(f.a,{span:5,children:Object(C.jsxs)(L.a.Text,{children:["$",t.food_price*t.quantity]})}),Object(C.jsx)(f.a,{span:4,children:Object(C.jsx)(h.a,{danger:!0,onClick:function(){return r=t,void e.removeProductFromCart(r);var r},children:"Delete"})})]}),Object(C.jsx)("br",{})]},r)})),Object(C.jsx)(W.a,{}),Object(C.jsx)(L.a.Title,{level:5,children:"Please Provide Your Address"}),Object(C.jsx)("br",{}),Object(C.jsxs)(x.a,{children:[Object(C.jsx)(f.a,{span:12,children:T&&E&&Object(C.jsx)("img",{style:{width:"90%"},src:"https://dev.virtualearth.net/REST/v1/Imagery/Map/Road/".concat(T,",").concat(E,"/15?mapSize=500,300&format=png&pushpin=").concat(T,",").concat(E,";64;&key=").concat(I.BingMap_key),alt:"map"})}),Object(C.jsxs)(f.a,{span:12,children:[Object(C.jsx)(ne.a,{size:"large",style:{width:"80%"},id:"addressText",options:i,onSearch:de,onSelect:be}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsxs)(L.a.Title,{level:5,style:{marginLeft:"20px"},children:["Delivery Address: ",m||""]}),Object(C.jsxs)(L.a.Title,{level:5,style:{marginLeft:"20px"},children:["Latitude: ",T||""]}),Object(C.jsxs)(L.a.Title,{level:5,style:{marginLeft:"20px"},children:["Longitude: ",E||""]})]})]}),Object(C.jsx)(W.a,{}),Object(C.jsx)(L.a.Title,{level:5,children:"Please Select Delivery Driver"}),Object(C.jsx)("br",{}),Object(C.jsxs)(x.a,{children:[Object(C.jsx)(f.a,{span:12,children:-1===F?Object(C.jsx)(C.Fragment,{}):Object(C.jsx)(j.a,{style:{width:"80%"},children:Object(C.jsx)(j.a.Meta,{avatar:Object(C.jsx)(B.a,{src:n[F].avatar_url}),title:n[F].first_name+" "+n[F].last_name,description:Object(C.jsxs)("div",{children:[Object(C.jsxs)("p",{children:["Cost: $",n[F].cost]}),Object(C.jsxs)("p",{children:["Speed: ",n[F].speed," km/h"]})]})})})}),Object(C.jsx)(f.a,{span:12,children:Object(C.jsx)(se.a,{size:"large",style:{width:"80%"},placeholder:"Please select the delivery driver",onChange:function(e){G(e),Z(n[e].cost)},children:n.map((function(e,t){return Object(C.jsx)(se.a.Option,{value:t,children:e.first_name+" "+e.last_name},t)}))})})]}),Object(C.jsx)(W.a,{}),Object(C.jsx)(L.a.Title,{level:5,children:"Please add note for your order"}),Object(C.jsx)("br",{}),Object(C.jsx)(p.a.TextArea,{rows:5,value:q,onChange:function(e){return H(e.target.value)},placeholder:"eg. please add ketchup"}),Object(C.jsx)(W.a,{}),Object(C.jsx)("div",{children:ie?Object(C.jsx)(ce,{address:m,lat:T,lon:E,note:q,driverId:n[F].deliver_driver_id}):Object(C.jsx)(C.Fragment,{})}),Object(C.jsxs)(x.a,{children:[Object(C.jsx)(f.a,{span:12,children:Object(C.jsxs)(L.a.Title,{level:5,style:{float:"left"},children:["Total: $",Math.floor(100*(J+X))/100]})}),Object(C.jsx)(f.a,{span:12,children:Object(C.jsx)(h.a,{onClick:function(){return m?-1===F?u.b.error("Please select the delivering driver for order"):void le(!0):u.b.error("Please provide the address for receiving order")},type:"primary",style:{float:"right"},children:"Purchase"})})]})]})})},ie=function(e){var t=Object(a.useContext)(re),r=Object(a.useState)(!1),n=Object(l.a)(r,2),s=n[0],c=n[1],j=Object(a.useState)(""),b=Object(l.a)(j,2),O=b[0],h=b[1],m=Object(a.useState)(null),_=Object(l.a)(m,2),g=_[0],T=_[1];Object(a.useEffect)(Object(M.a)(z.a.mark((function t(){var r,a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,localStorage.getItem("customerSessionId")&&localStorage.getItem("customerEmail")){t.next=3;break}return t.abrupt("return",e.history.push("/customer/login"));case 3:return t.next=5,w(localStorage.getItem("customerEmail"));case 5:r=t.sent,T(r.avatar_url),a=S(),h(a+", "+r.first_name+" "+r.last_name),t.next=14;break;case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return",u.b.error(t.t0.message));case 14:case"end":return t.stop()}}),t,null,[[0,11]])}))),[]);var w=function(){var e=Object(M.a)(z.a.mark((function e(t){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:A.GET_CUSTOMER_DETAIL+"?email_address="+t});case 2:return r=e.sent,e.abrupt("return",r.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=(new Date).getHours();return e>=6&&e<=12?"Good Morning":e>12&&e<=18?"Good Afternoon":"Good Night"},k=Object(C.jsxs)(q.a,{onClick:function(r){switch(r.key){case"7":c(!0),v()({method:"post",url:A.LOGOUT_URL,withCredentials:!0}).then((function(r){return c(!1),r.data.success?(localStorage.removeItem("customerSessionId"),localStorage.removeItem("customerEmail"),u.b.success(r.data.message),t.clearCart(),e.history.push("/customer/login")):u.b.error(r.data.message)})).catch((function(e){return c(!1),u.b.error(e.response.data.message)}))}},children:[Object(C.jsx)(q.a.Item,{style:{borderBottom:"1px solid black"},children:"Current Order"},"1"),Object(C.jsx)(q.a.Item,{children:"Order History"},"2"),Object(C.jsx)(q.a.Item,{children:"Profile"},"3"),Object(C.jsx)(q.a.Item,{children:"My Favourite"},"4"),Object(C.jsx)(q.a.Item,{children:"Message"},"5"),Object(C.jsx)(q.a.Item,{children:"Help"},"6"),Object(C.jsx)(q.a.Item,{children:"Log Out"},"7")]});return Object(C.jsx)("div",{children:Object(C.jsxs)(d.a,{tip:"Loading...",spinning:s,children:[Object(C.jsx)("div",{className:"header",children:Object(C.jsxs)(x.a,{type:"flex",justify:"center",children:[Object(C.jsx)(f.a,{xs:24,sm:24,md:8,lg:12,xl:12,children:Object(C.jsx)(o.b,{to:"/customer/",children:Object(C.jsx)("span",{className:"header-logo",children:O})})}),Object(C.jsxs)(f.a,{xs:0,sm:0,md:16,lg:10,xl:8,children:[Object(C.jsx)(p.a.Search,{allowClear:!0,enterButton:!0,style:{width:"60%",margin:"1% auto"},placeholder:"Search what you want",onSearch:function(e){console.log(e)}}),Object(C.jsx)("span",{onClick:function(){return e.history.push("/customer/cart")},style:{cursor:"pointer",margin:"3%"},children:Object(C.jsx)(H.a,{count:t.cart.length,children:Object(C.jsx)(B.a,{size:"large",icon:Object(C.jsx)(J.a,{})})})}),Object(C.jsx)("span",{style:{cursor:"pointer"},children:Object(C.jsx)(Y.a,{overlay:k,placement:"bottomCenter",children:g?Object(C.jsx)(B.a,{size:"large",src:g}):Object(C.jsx)(B.a,{size:"large",icon:Object(C.jsx)(y.a,{})})})})]})]})}),Object(C.jsx)(V.a,{className:"comm-main",children:Object(C.jsx)(V.a.Content,{style:{margin:"10px 5%"},children:Object(C.jsxs)("div",{style:{padding:24,minHeight:360},children:[Object(C.jsx)(i.b,{path:"/customer/",exact:!0,component:K}),Object(C.jsx)(i.b,{path:"/customer/food_shop/:food_shop_id",exact:!0,component:Z}),Object(C.jsx)(i.b,{path:"/customer/food_item/:food_item_id",exact:!0,component:ae}),Object(C.jsx)(i.b,{path:"/customer/cart",exact:!0,component:oe})]})})}),Object(C.jsx)(W.a,{}),Object(C.jsx)(D,{})]})})},le=(r(307),r(308),"http://144.34.175.242/api/manager_api/"),ue="http://144.34.175.242/api/manager_food_shop_api/",de="http://144.34.175.242/api/manager_food_item_api/",je={DEFAULT_URL:le,REGISTER_URL:le+"manager_register/",LOGIN_URL:le+"manager_login/",LOGOUT_URL:le+"manager_logout/",RESET_PASSWORD:le+"manager_password_reset/",GET_MANAGER_DETAIL:le+"manager_detail",UPDATE_MANAGER_ACCOUNT:le+"manager_update_account",UPDATE_MANAGER_PROFILE:le+"manager_update_profile",MANAGER_UPLOAD_AVATAR:le+"manager_upload_avatar",ADD_FOOD_SHOP_URL:ue+"add_food_shop",ADD_FOOD_CATEGORY:ue+"add_food_category",GET_FOOD_SHOP_LIST:ue+"get_food_shops_by_manager",GET_FOOD_SHOP_DETAIL:ue+"get_food_shops_by_food_shop",GET_FOOD_SHOP_CATEGORY_LIST:ue+"get_all_food_shop_category",GET_ALL_MATCH_FOOD_CATEGORY:ue+"get_match_food_category",UPDATE_FOOD_SHOP_ACTIVE:ue+"update_food_shop_active",UPDATE_FOOD_SHOP:ue+"update_food_shop",UPLOAD_FOOD_SHOP_IMAGE:ue+"upload_food_shop_image",ADD_FOOD_ITEM_URL:de+"add_food_item",GET_FOOD_ITEM_LIST:de+"get_all_food_item_by_category",GET_FOOD_ITEM_CATEGORY_LIST:ue+"get_food_category_by_food_shop",GET_FOOD_ITEM_DETAIL:de+"get_food_item_by_food_item_id",UPDATE_FOOD_ITEM:de+"update_food_item",UPLOAD_FOOD_ITEM_IMAGE:de+"upload_food_item_image"},be=function(){return Object(C.jsxs)("div",{className:"footer-div",children:["Copyright \xa9 ",Object(C.jsx)(o.b,{to:{pathname:je.DEFAULT_URL},target:"_blank",children:"Charlie's Food Shop for Managers"}),Object(C.jsx)("div",{children:(new Date).getFullYear()})]})},pe=function(e){var t=Object(a.useState)(!1),r=Object(l.a)(t,2),n=r[0],s=r[1],c=Object(a.useRef)(),i=Object(a.useRef)(),m=Object(a.useRef)(),g=I.reCAPTCHA_site_key,w=null;Object(a.useEffect)((function(){if(localStorage.getItem("sessionId"))return e.history.push("/manager")}),[]);var S=function(t){s(!0);var r={email_address:c.current.state.value,password:i.current.state.value,captcha:t};v()({method:"post",url:je.LOGIN_URL,data:r,withCredentials:!0}).then((function(t){return s(!1),t.data.success?(m.current.state.checked&&(localStorage.setItem("rememberEmail",c.current.state.value),localStorage.setItem("rememberPass",i.current.state.value)),localStorage.setItem("sessionId",t.data.sessionId),localStorage.setItem("managerEmail",c.current.state.value),u.b.success(t.data.message),e.history.push("/manager")):u.b.error(t.data.message)})).catch((function(e){return s(!1),u.b.error(e.response.data.message)}))};return Object(C.jsx)("div",{className:"login-div",children:Object(C.jsxs)(d.a,{tip:"Loading...",spinning:n,children:[Object(C.jsx)(j.a,{title:"Welcome to Charlie's Food Shop for Managers",style:{width:400},bordered:!0,children:Object(C.jsxs)(b.a,{children:[Object(C.jsx)(p.a,{id:"emailAddress",size:"large",type:"email",prefix:Object(C.jsx)(y.a,{style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Enter Your Email Address",autoFocus:!0,defaultValue:localStorage.getItem("rememberEmail")?localStorage.getItem("rememberEmail"):null,ref:c,required:!0}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(p.a.Password,{id:"password",size:"large",placeholder:"Enter Your Password",required:!0,defaultValue:localStorage.getItem("rememberPass")?localStorage.getItem("rememberPass"):null,ref:i,prefix:Object(C.jsx)(T.a,{style:{color:"rgba(0,0,0,.25)"}})}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(O.a,{ref:m,children:"Remember me"}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(h.a,{type:"primary",size:"large",block:!0,htmlType:"submit",onClick:function(e){if(e.preventDefault(),!c.current.state.value||!i.current.state.value)return u.b.error("Please complete all the information!");w&&w.execute(g,{action:"login"}).then((function(e){S(e)}))},children:"LOG IN"}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsxs)(x.a,{children:[Object(C.jsx)(f.a,{span:12,children:Object(C.jsx)(o.b,{to:"/manager/register",children:"Do not have account?"})}),Object(C.jsx)(f.a,{span:12,style:{textAlign:"right"},children:Object(C.jsx)(o.b,{to:"/manager/reset-password",children:"Forget password?"})})]})]})}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(_.a,{ref:function(e){return w=e},sitekey:g,onResolved:function(){return console.log("Human detected.")}}),Object(C.jsx)(be,{})]})})},Oe=(r(309),function(e){var t=Object(a.useState)(!1),r=Object(l.a)(t,2),n=r[0],s=r[1],c=Object(a.useRef)(),i=Object(a.useRef)(),O=Object(a.useRef)(),m=Object(a.useRef)(),g=Object(a.useRef)(),y=Object(a.useRef)(),T=I.reCAPTCHA_site_key,w=null,S=function(t){s(!0);var r={first_name:c.current.state.value,last_name:i.current.state.value,email_address:O.current.state.value,phone:m.current.state.value,password:g.current.state.value,captcha:t};v()({method:"post",url:je.REGISTER_URL,data:r}).then((function(t){return s(!1),t.data.success?(u.b.success(t.data.message),e.history.push("/manager/login")):u.b.error(t.data.message)})).catch((function(e){return s(!1),u.b.error(e.response.data.message)}))};return Object(C.jsx)("div",{className:"register-div",children:Object(C.jsxs)(d.a,{tip:"Loading...",spinning:n,children:[Object(C.jsx)(j.a,{title:"Create Your Own Manager Account",style:{width:600},bordered:!0,children:Object(C.jsxs)(b.a,{children:[Object(C.jsxs)(x.a,{children:[Object(C.jsxs)(f.a,{span:12,children:[Object(C.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"First Name"}),Object(C.jsx)(p.a,{size:"large",style:{width:"90%"},type:"text",id:"firstName",placeholder:"Java",ref:c,required:!0})]}),Object(C.jsxs)(f.a,{span:12,children:[Object(C.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Last Name"}),Object(C.jsx)(p.a,{size:"large",style:{width:"90%"},type:"text",id:"lastName",placeholder:"JavaScript",ref:i,required:!0})]})]}),Object(C.jsx)("br",{}),Object(C.jsxs)(x.a,{children:[Object(C.jsxs)(f.a,{span:12,children:[Object(C.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Email Address"}),Object(C.jsx)(p.a,{size:"large",style:{width:"90%"},type:"email",id:"emailAddress",placeholder:"abc@abc.com",ref:O,required:!0})]}),Object(C.jsxs)(f.a,{span:12,children:[Object(C.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Phone Number"}),Object(C.jsx)(p.a,{size:"large",style:{width:"90%"},type:"tel",pattern:"\\([0-9]{3}\\) [0-9]{3}-[0-9]{4}",id:"phone",placeholder:"(111) 111-1111",ref:m,required:!0})]})]}),Object(C.jsx)("br",{}),Object(C.jsxs)(x.a,{children:[Object(C.jsxs)(f.a,{span:12,children:[Object(C.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Password"}),Object(C.jsx)(p.a.Password,{size:"large",style:{width:"90%"},id:"password",placeholder:"Password",ref:g,required:!0})]}),Object(C.jsxs)(f.a,{span:12,children:[Object(C.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Confirm Your Password"}),Object(C.jsx)(p.a,{size:"large",style:{width:"90%"},type:"password",id:"confirmPassword",placeholder:"Confirm Password",ref:y,required:!0})]})]}),Object(C.jsx)("br",{}),Object(C.jsx)(L.a.Text,{type:"danger",children:"Note: Password should be at least 8 characters, with 1 Uppercase, 1 Lowercase, 1 Number and 1 Symbol."}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(h.a,{type:"primary",size:"large",block:!0,htmlType:"submit",onClick:function(e){return e.preventDefault(),c.current.state.value&&i.current.state.value&&O.current.state.value&&m.current.state.value&&g.current.state.value&&y.current.state.value?g.current.state.value!==y.current.state.value?u.b.error("Confirm password is not same as the password you set. Please try again!"):void(w&&w.execute(T,{action:"register"}).then((function(e){S(e)}))):u.b.error("Please complete all the information!")},children:"Submit"}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)("div",{span:12,style:{textAlign:"right"},children:Object(C.jsx)(o.b,{to:"/manager/login",children:"Already have account?"})})]})}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(_.a,{ref:function(e){return w=e},sitekey:T,onResolved:function(){return console.log("Human detected.")}}),Object(C.jsx)(be,{})]})})}),he=(r(180),function(e){var t=Object(a.useState)(!1),r=Object(l.a)(t,2),n=r[0],s=r[1],c=Object(a.useRef)(),i=I.reCAPTCHA_site_key,O=null,x=function(t){s(!0);var r={email_address:c.current.state.value,captcha:t};v()({method:"post",url:je.RESET_PASSWORD,data:r}).then((function(t){return s(!1),u.b.success(t.data.message),e.history.push("/manager/login")})).catch((function(e){return s(!1),u.b.error(e.response.data.message)}))};return Object(C.jsx)("div",{className:"reset-password-div",children:Object(C.jsxs)(d.a,{tip:"Loading...",spinning:n,children:[Object(C.jsx)(j.a,{title:"Give your email address to reset password",style:{width:400},bordered:!0,children:Object(C.jsxs)(b.a,{children:[Object(C.jsx)(p.a,{id:"emailAddress",size:"large",type:"email",prefix:Object(C.jsx)(F.a,{style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Your Email Address",ref:c,required:!0}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(h.a,{type:"primary",size:"large",block:!0,htmlType:"submit",onClick:function(e){if(e.preventDefault(),!c.current.state.value)return u.b.error("Please complete all the information!");O&&O.execute(i,{action:"reset-password"}).then((function(e){x(e)}))},children:"Submit"}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(o.b,{to:"/manager/login",children:"Go Back"})]})}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(_.a,{ref:function(e){return O=e},sitekey:i,onResolved:function(){return console.log("Human detected.")}}),Object(C.jsx)(be,{})]})})}),xe=function(e){var t=Object(a.useState)(!1),r=Object(l.a)(t,2),n=r[0],s=r[1],c=Object(a.useRef)(),o=Object(a.useRef)(),i=I.reCAPTCHA_site_key,O=null,x=function(t){s(!0);var r={password:c.current.state.value,captcha:t};v()({method:"post",url:je.RESET_PASSWORD+e.match.params.token,data:r}).then((function(t){return s(!1),u.b.success(t.data.message),e.history.push("/manager/login")})).catch((function(t){return s(!1),"Invalid link or expired"===t.response.data.message?(u.b.error(t.response.data.message),e.history.push("/manager/login")):u.b.error(t.response.data.message)}))};return Object(C.jsx)("div",{className:"reset-password-div",children:Object(C.jsxs)(d.a,{tip:"Loading...",spinning:n,children:[Object(C.jsx)(j.a,{title:"Reset your password",style:{width:400},bordered:!0,children:Object(C.jsxs)(b.a,{children:[Object(C.jsx)(p.a.Password,{id:"resetPassword",size:"large",placeholder:"New Password Here",ref:c,required:!0}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(p.a,{id:"confirmResetPassword",size:"large",type:"password",placeholder:"Confirm Password",ref:o,required:!0}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(h.a,{type:"primary",size:"large",block:!0,htmlType:"submit",onClick:function(e){return e.preventDefault(),c.current.state.value&&o.current.state.value?c.current.state.value!==o.current.state.value?u.b.error("Confirm password is not same to the password you reset, please try again."):void(O&&O.execute(i,{action:"reset-password-final"}).then((function(e){x(e)}))):u.b.error("Please complete all the information!")},children:"Submit"})]})}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(_.a,{ref:function(e){return O=e},sitekey:i,onResolved:function(){return console.log("Human detected.")}}),Object(C.jsx)(be,{})]})})},fe=r(331),me=r(332),_e=r(145),ge=r(333),ve=function(e){var t=Object(a.useState)(""),r=Object(l.a)(t,2),n=r[0],s=r[1],c=Object(a.useState)([]),i=Object(l.a)(c,2),d=i[0],b=i[1],p=Object(a.useState)(null),O=Object(l.a)(p,2),m=O[0],_=O[1];Object(a.useEffect)(Object(M.a)(z.a.mark((function e(){var t,r,a,n,c,o;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g();case 3:return t=e.sent,r=t.data.data.first_name,a=t.data.data.last_name,n=t.data.data.manager_id,_(n),c=T(),s(c+", "+r+" "+a),e.next=12,y(n);case 12:o=e.sent,b(o.data.data),e.next=19;break;case 16:return e.prev=16,e.t0=e.catch(0),e.abrupt("return");case 19:case"end":return e.stop()}}),e,null,[[0,16]])}))),[]);var g=function(){var e=Object(M.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:je.GET_MANAGER_DETAIL+"?email_address="+localStorage.getItem("managerEmail")});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(M.a)(z.a.mark((function e(t){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:je.GET_FOOD_SHOP_LIST+"?manager_id="+t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=(new Date).getHours();return e>=6&&e<=12?"Good Morning":e>12&&e<=18?"Good Afternoon":"Good Night"};return Object(C.jsxs)("div",{children:[Object(C.jsxs)(x.a,{children:[Object(C.jsx)(f.a,{span:12,children:Object(C.jsx)(L.a.Title,{level:5,children:n})}),Object(C.jsx)(f.a,{span:12,children:Object(C.jsx)(h.a,{style:{float:"right"},type:"primary",onClick:function(){return m?e.history.push("/manager/add_food_shop/"+m):u.b.error("Manager ID not exist.")},children:"ADD NEW FOOD SHOP"})})]}),Object(C.jsx)(W.a,{}),d.map((function(e,t){return Object(C.jsx)("div",{style:{width:220,float:"left",margin:"2%"},children:Object(C.jsx)(o.b,{to:"/manager/food_shop_detail/"+e.food_shop_id,children:Object(C.jsx)(j.a,{hoverable:!0,cover:Object(C.jsx)("img",{style:{height:200},alt:"food_shop",src:e.image_url}),bordered:!1,children:Object(C.jsx)(j.a.Meta,{title:e.food_shop_name,description:e.food_shop_description})})})},t)}))]})},ye=r(316),Te=function(e){var t=Object(a.useState)([]),r=Object(l.a)(t,2),n=r[0],s=r[1],c=Object(a.useState)([]),o=Object(l.a)(c,2),i=o[0],d=o[1],j=Object(a.useState)(1),O=Object(l.a)(j,2),m=O[0],_=O[1],g=Object(a.useState)(null),y=Object(l.a)(g,2),T=y[0],w=y[1],S=Object(a.useState)(null),k=Object(l.a)(S,2),E=k[0],A=k[1],D=Object(a.useState)(null),P=Object(l.a)(D,2),R=P[0],F=P[1],G=Object(a.useState)(null),U=Object(l.a)(G,2),N=U[0],q=U[1],H=Object(a.useState)(null),B=Object(l.a)(H,2),Y=B[0],V=B[1],J=Object(a.useState)(null),$=Object(l.a)(J,2),K=$[0],Q=$[1],X=Object(a.useRef)(),Z=Object(a.useRef)();Object(a.useEffect)(Object(M.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re();case 3:t=e.sent,s(t.data.data),ee(),e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",u.b.error(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[]);var ee=function(){if(!navigator.geolocation)return u.b.error("Sorry, your location can not be get.");try{navigator.geolocation.getCurrentPosition((function(e){V(e.coords.latitude),Q(e.coords.longitude),ae(e.coords.latitude,e.coords.longitude)}),(function(e){return u.b.error(e.message)}))}catch(e){return u.b.error("Sorry, something wrong happened when getting location.")}},te=function(){var e=Object(M.a)(z.a.mark((function e(t){var r,a,n,s,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0," "!==t[t.length-1]&&""!==t){e.next=5;break}return e.abrupt("return");case 5:return r=t.replace(" ","%20"),e.next=8,v()({method:"get",url:"http://dev.virtualearth.net/REST/v1/Locations/"+r+"?key="+I.BingMap_key});case 8:for(a=e.sent,n=a.data.resourceSets[0].resources,s=[],c=0;c<n.length;c++)s.push({value:n[c].name,key:c});d(s);case 13:e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return");case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(M.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:je.GET_FOOD_SHOP_CATEGORY_LIST});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(M.a)(z.a.mark((function e(t,r){var a,n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v()({method:"get",url:"http://dev.virtualearth.net/REST/v1/Locations/".concat(t,",").concat(r,"?key=").concat(I.BingMap_key)});case 3:if(a=e.sent,1!==(n=a.data.resourceSets[0].resources).length){e.next=9;break}q(n[0].name),e.next=10;break;case 9:return e.abrupt("return");case 10:e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return");case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r){return e.apply(this,arguments)}}(),ce=function(){var e=Object(M.a)(z.a.mark((function e(t){var r,a,n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0," "!==t[t.length-1]&&""!==t){e.next=5;break}return e.abrupt("return");case 5:return r=t.replace(" ","%20"),e.next=8,v()({method:"get",url:"http://dev.virtualearth.net/REST/v1/Locations/"+r+"?key="+I.BingMap_key});case 8:if(a=e.sent,1!==(n=a.data.resourceSets[0].resources).length){e.next=16;break}q(t),V(n[0].point.coordinates[0]),Q(n[0].point.coordinates[1]),e.next=17;break;case 16:return e.abrupt("return");case 17:e.next=22;break;case 19:return e.prev=19,e.t0=e.catch(0),e.abrupt("return");case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var t=Object(M.a)(z.a.mark((function t(r){var a,n;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),t.prev=1,!(X.current.state.value&&Z.current.resizableTextArea.props.value&&m&&T&&N&&Y&&K&&E&&R)){t.next=18;break}return a={manager_id:e.match.params.manager_id,food_shop_category_id:m,food_shop_name:X.current.state.value,food_shop_description:Z.current.resizableTextArea.props.value,working_address:N,lat:Y,lon:K,open_time:E,close_time:R},t.next=6,v()({method:"post",url:je.ADD_FOOD_SHOP_URL,data:a});case 6:return n=t.sent,t.next=9,v()({method:"post",url:je.UPLOAD_FOOD_SHOP_IMAGE+"?id="+n.data.food_shop_id,data:T,headers:{"Content-Type":"multipart/form-data;charset=UTF-8"}});case 9:if(!t.sent.data.success){t.next=15;break}return u.b.success("Add Food Shop Successful!"),t.abrupt("return",e.history.push("/manager/"));case 15:return t.abrupt("return",u.b.error("Something wrong happened, please try again!"));case 16:t.next=19;break;case 18:return t.abrupt("return",u.b.error("Please complete all the information!"));case 19:t.next=24;break;case 21:return t.prev=21,t.t0=t.catch(1),t.abrupt("return",u.b.error("Something wrong happened, please try again!"));case 24:case"end":return t.stop()}}),t,null,[[1,21]])})));return function(e){return t.apply(this,arguments)}}();return Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{children:Object(C.jsx)(h.a,{type:"primary",style:{float:"left"},onClick:function(){return e.history.push("/manager/")},children:"Go Back"})}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(L.a.Title,{level:5,children:"Please Add New Food Shop Here"}),Object(C.jsx)(W.a,{}),Object(C.jsxs)(b.a,{children:[Object(C.jsxs)(x.a,{children:[Object(C.jsxs)(f.a,{span:8,children:[Object(C.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Food Shop Name"}),Object(C.jsx)(p.a,{size:"large",style:{width:"80%"},id:"foodShopName",ref:X,required:!0})]}),Object(C.jsx)(f.a,{span:7}),Object(C.jsxs)(f.a,{span:8,children:[Object(C.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Food Shop Category"}),Object(C.jsx)(se.a,{size:"large",style:{width:"80%"},id:"shopCategoryId",onChange:function(e){return _(e)},defaultValue:1,required:!0,children:n.map((function(e,t){return Object(C.jsx)(se.a.Option,{value:e.food_shop_category_id,children:e.food_shop_category_name},t)}))})]})]}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Please Select Your Working Address"}),Object(C.jsxs)(x.a,{children:[Object(C.jsx)(f.a,{span:12,children:Y&&K&&Object(C.jsx)("img",{style:{width:"90%"},src:"https://dev.virtualearth.net/REST/v1/Imagery/Map/Road/".concat(Y,",").concat(K,"/15?mapSize=500,300&format=png&pushpin=").concat(Y,",").concat(K,";64;&key=").concat(I.BingMap_key),alt:"map"})}),Object(C.jsxs)(f.a,{span:12,children:[Object(C.jsx)(ne.a,{size:"large",style:{width:"80%"},id:"workingAddressText",options:i,onSearch:te,onSelect:ce,required:!0}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsxs)(L.a.Title,{level:5,style:{marginLeft:"20px"},children:["Working Address: ",N||""]}),Object(C.jsxs)(L.a.Title,{level:5,style:{marginLeft:"20px"},children:["Latitude: ",Y||""]}),Object(C.jsxs)(L.a.Title,{level:5,style:{marginLeft:"20px"},children:["Longitude: ",K||""]})]})]}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsxs)(x.a,{children:[Object(C.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Food Shop Description"}),Object(C.jsx)(p.a.TextArea,{id:"description",rows:5,ref:Z,required:!0})]}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsxs)(x.a,{children:[Object(C.jsxs)(f.a,{span:8,children:[Object(C.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Food Shop Image"}),Object(C.jsx)(p.a,{required:!0,size:"large",style:{width:"80%"},type:"file",accept:"image/jpeg,image/jpg,image/png",id:"imageFile",onChange:function(e){var t=e.target.files[0],r=new FormData;r.append("image",t),w(r)}})]}),Object(C.jsxs)(f.a,{span:8,children:[Object(C.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Open Time"}),Object(C.jsx)(ye.a,{required:!0,size:"large",style:{width:"80%"},id:"openTime",onChange:function(e,t){return A(t)}})]}),Object(C.jsxs)(f.a,{span:8,children:[Object(C.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Close Time"}),Object(C.jsx)(ye.a,{required:!0,size:"large",style:{width:"80%"},id:"closeTime",onChange:function(e,t){return F(t)}})]})]}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(h.a,{type:"primary",size:"large",block:!0,htmlType:"submit",onClick:oe,children:"Submit"})]})]})},we=r(324),Se=r(315),ke=function(e){var t=Object(a.useState)([]),r=Object(l.a)(t,2),n=r[0],s=r[1],c=Object(a.useState)([]),o=Object(l.a)(c,2),i=o[0],d=o[1],j=Object(a.useState)(!1),b=Object(l.a)(j,2),p=b[0],O=b[1],m=Object(a.useState)(""),_=Object(l.a)(m,2),g=_[0],y=_[1],T=Object(a.useState)(""),w=Object(l.a)(T,2),S=w[0],k=w[1],E=Object(a.useState)(""),A=Object(l.a)(E,2),D=A[0],I=A[1],P=Object(a.useState)(""),R=Object(l.a)(P,2),F=R[0],G=R[1],U=Object(a.useState)(""),N=Object(l.a)(U,2),q=N[0],H=N[1],B=Object(a.useState)(""),Y=Object(l.a)(B,2),V=Y[0],J=Y[1],$=Object(a.useState)(""),K=Object(l.a)($,2),Z=K[0],ee=K[1],te=Object(a.useState)(null),re=Object(l.a)(te,2),ae=re[0],ne=re[1],se=Object(a.useState)(""),ce=Object(l.a)(se,2),oe=ce[0],ie=ce[1],le=Object(a.useState)(""),ue=Object(l.a)(le,2),de=ue[0],be=ue[1];Object(a.useEffect)(Object(M.a)(z.a.mark((function t(){var r,a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,pe(e.match.params.food_shop_id);case 3:return r=t.sent,t.next=6,Oe(e.match.params.food_shop_id);case 6:a=t.sent,ie(r.image_url),O(r.active),y(r.close_time),k(r.open_time),I(r.created_at),G(r.updated_at),H(r.food_shop_category_name),J(r.food_shop_description),ee(r.food_shop_name),ne(r.food_shop_rating),be(r.working_address),s(a),t.next=24;break;case 21:return t.prev=21,t.t0=t.catch(0),t.abrupt("return",u.b.error(t.t0.message));case 24:case"end":return t.stop()}}),t,null,[[0,21]])}))),[]);var pe=function(){var e=Object(M.a)(z.a.mark((function e(t){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:je.GET_FOOD_SHOP_DETAIL+"?food_shop_id="+t});case 2:return r=e.sent,e.abrupt("return",r.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(M.a)(z.a.mark((function e(t){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:je.GET_FOOD_ITEM_CATEGORY_LIST+"?food_shop_id="+t});case 2:return r=e.sent,e.abrupt("return",r.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=Object(M.a)(z.a.mark((function e(t){var r,a,n,s;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:je.GET_FOOD_ITEM_LIST+"?food_category_id="+t});case 2:for(r=e.sent,a=r.data.data,n=[],s=0;s<a.length;s++)n.push({key:s,food_name:a[s].food_name,food_description:a[s].food_description,food_item_id:a[s].food_item_id,image_url:a[s].image_url});return e.abrupt("return",d(n));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var t=Object(M.a)(z.a.mark((function t(r){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v()({method:"post",url:je.UPDATE_FOOD_SHOP_ACTIVE,data:{food_shop_id:e.match.params.food_shop_id,active:r}});case 3:t.next=8;break;case 5:return t.prev=5,t.t0=t.catch(0),t.abrupt("return",u.b.error("Sorry, fail to update active status"));case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}();return Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{children:Object(C.jsx)(h.a,{type:"primary",style:{float:"left"},onClick:function(){return e.history.push("/manager/")},children:"Go Back"})}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)("div",{style:{width:"100%",height:"150px",overflow:"hidden"},children:Object(C.jsx)("img",{alt:"shop-image",src:oe,style:{width:"100%",marginTop:"-50%"}})}),Object(C.jsx)("br",{}),Object(C.jsxs)(x.a,{children:[Object(C.jsx)(f.a,{span:12,children:Object(C.jsx)(L.a.Title,{level:3,children:Z})}),Object(C.jsx)(f.a,{span:12,children:Object(C.jsx)(L.a.Title,{level:4,children:de})})]}),Object(C.jsx)(W.a,{}),Object(C.jsxs)(L.a.Text,{children:["Description: ",V]}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsxs)(x.a,{children:[Object(C.jsx)(f.a,{span:8,children:Object(C.jsxs)(L.a.Title,{level:5,children:["Open At: ",S]})}),Object(C.jsx)(f.a,{span:8,children:Object(C.jsxs)(L.a.Title,{level:5,children:["Close At: ",g]})}),Object(C.jsx)(f.a,{span:8,children:Object(C.jsxs)(L.a.Title,{level:5,children:["On Active:",Object(C.jsx)(we.a,{style:{marginLeft:"5%"},defaultChecked:p,onChange:xe},Z)]})})]}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsxs)(x.a,{children:[Object(C.jsx)(f.a,{span:8,children:Object(C.jsxs)(L.a.Title,{level:5,children:["Created At: ",D]})}),Object(C.jsx)(f.a,{span:8,children:Object(C.jsxs)(L.a.Title,{level:5,children:["Updated At: ",F||"No Updation Record"]})}),Object(C.jsxs)(f.a,{span:8,children:[Object(C.jsxs)(L.a.Title,{level:5,children:["Rating: ",ae||"Not Available"]}),Object(C.jsx)(Q.a,{disabled:!0,defaultValue:ae||0})]})]}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsxs)(x.a,{children:[Object(C.jsx)(f.a,{span:12,children:Object(C.jsxs)(L.a.Title,{level:5,children:["Shop Category: ",q]})}),Object(C.jsx)(f.a,{span:12,children:Object(C.jsx)("div",{style:{float:"right"},children:Object(C.jsx)(h.a,{type:"primary",onClick:function(){return e.history.push("/manager/edit_food_shop/"+e.match.params.food_shop_id)},children:"Edit Food Shop Profile"})})})]}),Object(C.jsx)(W.a,{}),Object(C.jsxs)(x.a,{children:[Object(C.jsx)(f.a,{span:12,children:Object(C.jsx)(h.a,{type:"primary",onClick:function(){return e.history.push("/manager/add_food_item_category/"+e.match.params.food_shop_id)},children:"Add Item Category"})}),Object(C.jsx)(f.a,{span:12,children:Object(C.jsx)("div",{style:{float:"right"},children:Object(C.jsx)(h.a,{type:"primary",onClick:function(){return e.history.push("/manager/add_food_item/"+e.match.params.food_shop_id)},children:"Add New Food Item"})})})]}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsxs)("div",{children:[Object(C.jsx)(L.a.Text,{children:"Food Item Category: "}),Object(C.jsx)(X.a.Group,{onChange:function(e){return he(e.target.value)},children:n.map((function(e,t){return Object(C.jsx)(X.a.Button,{value:e.food_category_id,children:e.food_category_name},t)}))}),Object(C.jsx)("br",{}),Object(C.jsx)(Se.a,{bordered:!0,columns:[{title:"Food Name",dataIndex:"food_name"},{title:"Food Description",dataIndex:"food_description"},{title:"Food Image",dataIndex:"image_url",render:function(e){return Object(C.jsx)("img",{alt:"food_img",src:e,style:{width:"100px"}})}},{title:"Action",dataIndex:"food_item_id",render:function(t){return Object(C.jsx)(h.a,{type:"primary",onClick:function(){return function(t){return e.history.push("/manager/food_item_detail/"+t)}(t)},children:"Detail"})}}],dataSource:i})]})]})},Ee=function(e){var t=Object(a.useState)(""),r=Object(l.a)(t,2),n=r[0],s=r[1],c=Object(a.useState)(""),o=Object(l.a)(c,2),i=o[0],d=o[1],j=Object(a.useState)(0),b=Object(l.a)(j,2),p=b[0],O=b[1],m=Object(a.useState)(""),_=Object(l.a)(m,2),g=_[0],y=_[1],T=Object(a.useState)(""),w=Object(l.a)(T,2),S=w[0],k=w[1],E=Object(a.useState)(""),A=Object(l.a)(E,2),D=A[0],I=A[1],P=Object(a.useState)(0),R=Object(l.a)(P,2),F=R[0],G=R[1],U=Object(a.useState)(0),N=Object(l.a)(U,2),q=N[0],H=N[1],B=Object(a.useState)(""),Y=Object(l.a)(B,2),V=Y[0],J=Y[1];Object(a.useEffect)(Object(M.a)(z.a.mark((function t(){var r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,$(e.match.params.food_item_id);case 3:r=t.sent,s(r.created_at),d(r.updated_at),O(r.food_average_rating),y(r.food_category_name),k(r.food_description),I(r.food_name),G(r.food_price),H(r.food_shop_id),J(r.image_url),t.next=18;break;case 15:return t.prev=15,t.t0=t.catch(0),t.abrupt("return",u.b.error(t.t0.message));case 18:case"end":return t.stop()}}),t,null,[[0,15]])}))),[]);var $=function(){var e=Object(M.a)(z.a.mark((function e(t){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:je.GET_FOOD_ITEM_DETAIL+"?food_item_id="+t});case 2:return r=e.sent,e.abrupt("return",r.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{children:Object(C.jsx)(h.a,{type:"primary",style:{float:"left"},onClick:function(){return e.history.push("/manager/food_shop_detail/"+q)},children:"Go Back"})}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(L.a.Title,{level:4,children:D}),Object(C.jsx)(W.a,{}),Object(C.jsxs)(x.a,{children:[Object(C.jsx)(f.a,{span:12,children:Object(C.jsx)("img",{alt:"food_image",src:V,style:{width:"80%"}})}),Object(C.jsx)(f.a,{span:12,children:Object(C.jsxs)(L.a.Text,{children:["Description: ",S]})})]}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsxs)(x.a,{children:[Object(C.jsx)(f.a,{span:8,children:Object(C.jsxs)(L.a.Title,{level:5,children:["Food Category: ",g]})}),Object(C.jsx)(f.a,{span:8,children:Object(C.jsxs)(L.a.Title,{level:5,children:["Created At: ",n]})}),Object(C.jsx)(f.a,{span:8,children:Object(C.jsxs)(L.a.Title,{level:5,children:["Last Updated At: ",i||"Not Available"]})})]}),Object(C.jsx)(W.a,{}),Object(C.jsxs)(x.a,{children:[Object(C.jsx)(f.a,{span:12,children:Object(C.jsxs)(L.a.Title,{level:5,children:["Price: $",F]})}),Object(C.jsx)(f.a,{span:12,children:Object(C.jsx)("div",{style:{float:"right"},children:Object(C.jsxs)(L.a.Title,{level:5,children:["Rating: ",p||"Not Available",Object(C.jsx)(Q.a,{disabled:!0,defaultValue:p||0})]})})})]}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsxs)(x.a,{children:[Object(C.jsx)(f.a,{span:12,children:Object(C.jsx)(h.a,{type:"primary",children:"See Comments"})}),Object(C.jsx)(f.a,{span:12,children:Object(C.jsx)("div",{style:{float:"right"},children:Object(C.jsx)(h.a,{type:"primary",onClick:function(){return e.history.push("/manager/edit_food_item/"+e.match.params.food_item_id)},children:"Edit Food Profile"})})})]})]})},Ae=function(e){var t=Object(a.useState)([]),r=Object(l.a)(t,2),n=r[0],s=r[1],c=Object(a.useState)(null),o=Object(l.a)(c,2),i=o[0],d=o[1],j=Object(a.useState)(""),O=Object(l.a)(j,2),m=O[0],_=O[1],g=Object(a.useState)(0),y=Object(l.a)(g,2),T=y[0],w=y[1],S=Object(a.useState)(""),k=Object(l.a)(S,2),E=k[0],A=k[1],D=Object(a.useState)(null),I=Object(l.a)(D,2),P=I[0],R=I[1];Object(a.useEffect)(Object(M.a)(z.a.mark((function t(){var r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F(e.match.params.food_shop_id);case 2:r=t.sent,s(r);case 4:case"end":return t.stop()}}),t)}))),[]);var F=function(){var e=Object(M.a)(z.a.mark((function e(t){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v()({method:"get",url:je.GET_FOOD_ITEM_CATEGORY_LIST+"?food_shop_id="+t});case 3:return r=e.sent,e.abrupt("return",r.data.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),G=function(){var t=Object(M.a)(z.a.mark((function t(r){var a,n;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),t.prev=1,!(i&&m&&T&&E&&P)){t.next=18;break}return a={food_category_id:i,food_name:m,food_price:T,food_description:E},t.next=6,v()({method:"post",url:je.ADD_FOOD_ITEM_URL,data:a});case 6:return n=t.sent,t.next=9,v()({method:"post",url:je.UPLOAD_FOOD_ITEM_IMAGE+"?id="+n.data.food_item_id,data:P,headers:{"Content-Type":"multipart/form-data;charset=UTF-8"}});case 9:if(!t.sent.data.success){t.next=15;break}return u.b.success("Add Food Item Successful!"),t.abrupt("return",e.history.push("/manager/food_shop_detail/"+e.match.params.food_shop_id));case 15:return t.abrupt("return",u.b.error("Something wrong happened, please try again!"));case 16:t.next=19;break;case 18:return t.abrupt("return",u.b.error("Please complete all the information!"));case 19:t.next=24;break;case 21:return t.prev=21,t.t0=t.catch(1),t.abrupt("return",u.b.error("Something wrong happened, please try again!"));case 24:case"end":return t.stop()}}),t,null,[[1,21]])})));return function(e){return t.apply(this,arguments)}}();return Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{children:Object(C.jsx)(h.a,{type:"primary",style:{float:"left"},onClick:function(){return e.history.push("/manager/food_shop_detail/"+e.match.params.food_shop_id)},children:"Go Back"})}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(L.a.Title,{level:3,children:"Add New Food Item"}),Object(C.jsx)(W.a,{}),Object(C.jsxs)(b.a,{children:[Object(C.jsxs)(x.a,{children:[Object(C.jsxs)(f.a,{span:8,children:[Object(C.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Food Name"}),Object(C.jsx)(p.a,{size:"large",type:"text",id:"foodName",style:{width:"80%"},onChange:function(e){return _(e.target.value)},required:!0})]}),Object(C.jsxs)(f.a,{span:8,children:[Object(C.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Food Price"}),Object(C.jsx)(p.a,{size:"large",prefix:"$",type:"number",id:"foodPrice",style:{width:"80%",textAlign:"right"},onChange:function(e){return w(e.target.value)},required:!0})]}),Object(C.jsxs)(f.a,{span:8,children:[Object(C.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Category"}),Object(C.jsx)(se.a,{size:"large",style:{width:"80%"},id:"itemCategoryId",onChange:function(e){return d(e)},required:!0,children:n.map((function(e,t){return Object(C.jsx)(se.a.Option,{value:e.food_category_id,children:e.food_category_name},t)}))})]})]}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Food Description"}),Object(C.jsx)(p.a.TextArea,{id:"foodDescription",rows:5,onChange:function(e){return A(e.target.value)},required:!0}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(x.a,{children:Object(C.jsxs)(f.a,{span:8,children:[Object(C.jsx)(L.a.Title,{level:5,children:"Food Image"}),Object(C.jsx)(p.a,{required:!0,size:"large",style:{width:"80%"},type:"file",accept:"image/jpeg,image/jpg,image/png",id:"imageFile",onChange:function(e){var t=e.target.files[0],r=new FormData;r.append("image",t),R(r)}})]})}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(h.a,{type:"primary",size:"large",block:!0,htmlType:"submit",onClick:G,children:"Add New Food Item"})]})]})},Ce=function(e){var t=Object(a.useState)([]),r=Object(l.a)(t,2),n=r[0],s=r[1],c=Object(a.useState)(""),o=Object(l.a)(c,2),i=o[0],d=o[1],j=function(){var e=Object(M.a)(z.a.mark((function e(t){var r,a,n,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=9;break}return e.next=4,v()({method:"get",url:je.GET_ALL_MATCH_FOOD_CATEGORY+"?content="+t});case 4:for(r=e.sent,a=r.data.data,n=[],c=0;c<a.length;c++)n.push({value:a[c].food_category_example_name,key:c});s(n);case 9:e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return");case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var t=Object(M.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(i),t.prev=1,!i){t.next=14;break}return t.next=5,v()({method:"post",url:je.ADD_FOOD_CATEGORY,data:{food_shop_id:e.match.params.food_shop_id,food_category_name:i}});case 5:if(!t.sent.data.success){t.next=11;break}return u.b.success("Add food category successful!"),t.abrupt("return",e.history.push("/manager/food_shop_detail/"+e.match.params.food_shop_id));case 11:return t.abrupt("return",u.b.error("Fail to add item category, please try again"));case 12:t.next=15;break;case 14:return t.abrupt("return",u.b.error("Please complete the information"));case 15:t.next=20;break;case 17:return t.prev=17,t.t0=t.catch(1),t.abrupt("return",u.b.error("Fail to add item category, please try again"));case 20:case"end":return t.stop()}}),t,null,[[1,17]])})));return function(){return t.apply(this,arguments)}}();return Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{children:Object(C.jsx)(h.a,{type:"primary",style:{float:"left"},onClick:function(){return e.history.push("/manager/food_shop_detail/"+e.match.params.food_shop_id)},children:"Go Back"})}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(L.a.Title,{level:4,children:"Add New Food Category"}),Object(C.jsx)(W.a,{}),Object(C.jsxs)(x.a,{children:[Object(C.jsx)(f.a,{span:12,children:Object(C.jsx)(ne.a,{style:{width:"80%"},id:"categoryText",options:n,onSearch:j,onChange:function(e){return d(e)},onSelect:function(e){return d(e)}})}),Object(C.jsx)(f.a,{span:12,children:Object(C.jsx)(h.a,{style:{width:"50%"},type:"primary",onClick:b,children:"Add"})})]})]})},De=r(60),Ie=r.n(De),Pe=function(e){var t=Object(a.useState)([]),r=Object(l.a)(t,2),n=r[0],s=r[1],c=Object(a.useState)([]),o=Object(l.a)(c,2),i=o[0],d=o[1],j=Object(a.useState)(1),O=Object(l.a)(j,2),m=O[0],_=O[1],g=Object(a.useState)(null),y=Object(l.a)(g,2),T=y[0],w=y[1],S=Object(a.useState)(null),k=Object(l.a)(S,2),E=k[0],A=k[1],D=Object(a.useState)(null),P=Object(l.a)(D,2),R=P[0],F=P[1],G=Object(a.useState)(null),U=Object(l.a)(G,2),N=U[0],q=U[1],H=Object(a.useState)(null),B=Object(l.a)(H,2),Y=B[0],V=B[1],J=Object(a.useState)(""),$=Object(l.a)(J,2),K=$[0],Q=$[1],X=Object(a.useState)(""),Z=Object(l.a)(X,2),ee=Z[0],te=Z[1],re=Object(a.useState)(""),ae=Object(l.a)(re,2),ce=ae[0],oe=ae[1];Object(a.useEffect)(Object(M.a)(z.a.mark((function t(){var r,a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ie(e.match.params.food_shop_id);case 3:return r=t.sent,t.next=6,ue();case 6:a=t.sent,s(a.data.data),_(r.food_shop_category_id),oe(r.image_url),w(r.open_time),A(r.close_time),F(r.working_address),q(r.lat),V(r.lon),Q(r.food_shop_name),te(r.food_shop_description),t.next=22;break;case 19:return t.prev=19,t.t0=t.catch(0),t.abrupt("return",u.b.error(t.t0.message));case 22:case"end":return t.stop()}}),t,null,[[0,19]])}))),[]);var ie=function(){var e=Object(M.a)(z.a.mark((function e(t){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:je.GET_FOOD_SHOP_DETAIL+"?food_shop_id="+t});case 2:return r=e.sent,e.abrupt("return",r.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(M.a)(z.a.mark((function e(t){var r,a,n,s,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0," "!==t[t.length-1]&&""!==t){e.next=5;break}return e.abrupt("return");case 5:return r=t.replace(" ","%20"),e.next=8,v()({method:"get",url:"http://dev.virtualearth.net/REST/v1/Locations/"+r+"?key="+I.BingMap_key});case 8:for(a=e.sent,n=a.data.resourceSets[0].resources,s=[],c=0;c<n.length;c++)s.push({value:n[c].name,key:c});d(s);case 13:e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return");case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(M.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:je.GET_FOOD_SHOP_CATEGORY_LIST});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=Object(M.a)(z.a.mark((function e(t){var r,a,n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0," "!==t[t.length-1]&&""!==t){e.next=5;break}return e.abrupt("return");case 5:return r=t.replace(" ","%20"),e.next=8,v()({method:"get",url:"http://dev.virtualearth.net/REST/v1/Locations/"+r+"?key="+I.BingMap_key});case 8:if(a=e.sent,1!==(n=a.data.resourceSets[0].resources).length){e.next=16;break}F(t),q(n[0].point.coordinates[0]),V(n[0].point.coordinates[1]),e.next=17;break;case 16:return e.abrupt("return");case 17:e.next=22;break;case 19:return e.prev=19,e.t0=e.catch(0),e.abrupt("return");case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t){return e.apply(this,arguments)}}(),be=function(){var t=Object(M.a)(z.a.mark((function t(r){var a,n,s;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=r.target.files[0],(n=new FormData).append("image",a),t.next=6,v()({method:"post",url:je.UPLOAD_FOOD_SHOP_IMAGE+"?id="+e.match.params.food_shop_id,data:n,headers:{"Content-Type":"multipart/form-data;charset=UTF-8"}});case 6:if(!(s=t.sent).data.success){t.next=12;break}return u.b.success("Upload Image Successful"),t.abrupt("return",oe(s.data.message));case 12:return t.abrupt("return",u.b.error("Upload Image fail, please try again!"));case 13:t.next=18;break;case 15:return t.prev=15,t.t0=t.catch(0),t.abrupt("return",u.b.error(t.t0.message));case 18:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e){return t.apply(this,arguments)}}(),pe=function(){var t=Object(M.a)(z.a.mark((function t(r){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),t.prev=1,!(m&&K&&ee&&R&&N&&Y&&T&&E&&ce)){t.next=15;break}return a={food_shop_id:e.match.params.food_shop_id,food_shop_category_id:m,food_shop_name:K,food_shop_description:ee,working_address:R,lat:N,lon:Y,open_time:T,close_time:E,image_url:ce},t.next=6,v()({method:"post",url:je.UPDATE_FOOD_SHOP,data:a});case 6:if(!t.sent.data.success){t.next=12;break}return u.b.success("Update food shop successful!"),t.abrupt("return",e.history.push("/manager/food_shop_detail/"+e.match.params.food_shop_id));case 12:return t.abrupt("return",u.b.error("Update fail, pleaes try again!"));case 13:t.next=16;break;case 15:return t.abrupt("return",u.b.error("Please complete information!"));case 16:t.next=21;break;case 18:return t.prev=18,t.t0=t.catch(1),t.abrupt("return",u.b.error("Something wrong happened, please try again!"));case 21:case"end":return t.stop()}}),t,null,[[1,18]])})));return function(e){return t.apply(this,arguments)}}();return Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{children:Object(C.jsx)(h.a,{type:"primary",style:{float:"left"},onClick:function(){return e.history.push("/manager/food_shop_detail/"+e.match.params.food_shop_id)},children:"Go Back"})}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(L.a.Title,{level:5,children:"Edit Food Shop"}),Object(C.jsx)(W.a,{}),Object(C.jsxs)(b.a,{children:[Object(C.jsxs)(x.a,{children:[Object(C.jsxs)(f.a,{span:8,children:[Object(C.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Food Shop Name"}),Object(C.jsx)(p.a,{size:"large",style:{width:"80%"},id:"foodShopName",value:K,onChange:function(e){return Q(e.target.value)},required:!0})]}),Object(C.jsx)(f.a,{span:7}),Object(C.jsxs)(f.a,{span:8,children:[Object(C.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Food Shop Category"}),Object(C.jsx)(se.a,{size:"large",style:{width:"80%"},id:"shopCategoryId",onChange:function(e){return _(e)},value:m,required:!0,children:n.map((function(e,t){return Object(C.jsx)(se.a.Option,{value:e.food_shop_category_id,children:e.food_shop_category_name},t)}))})]})]}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Please Select Your Working Address"}),Object(C.jsxs)(x.a,{children:[Object(C.jsx)(f.a,{span:12,children:N&&Y&&Object(C.jsx)("img",{style:{width:"90%"},src:"https://dev.virtualearth.net/REST/v1/Imagery/Map/Road/".concat(N,",").concat(Y,"/15?mapSize=500,300&format=png&pushpin=").concat(N,",").concat(Y,";64;&key=").concat(I.BingMap_key),alt:"map"})}),Object(C.jsxs)(f.a,{span:12,children:[Object(C.jsx)(ne.a,{size:"large",style:{width:"80%"},id:"workingAddressText",options:i,onSearch:le,onSelect:de,required:!0}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsxs)(L.a.Title,{level:5,style:{marginLeft:"20px"},children:["Working Address: ",R||""]}),Object(C.jsxs)(L.a.Title,{level:5,style:{marginLeft:"20px"},children:["Latitude: ",N||""]}),Object(C.jsxs)(L.a.Title,{level:5,style:{marginLeft:"20px"},children:["Longitude: ",Y||""]})]})]}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsxs)(x.a,{children:[Object(C.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Food Shop Description"}),Object(C.jsx)(p.a.TextArea,{id:"description",rows:5,value:ee,onChange:function(e){return te(e.target.value)},required:!0})]}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsxs)(x.a,{children:[Object(C.jsxs)(f.a,{span:8,children:[Object(C.jsx)("img",{alt:"img",src:ce,style:{width:"60%"}}),Object(C.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Food Shop Image"}),Object(C.jsx)(p.a,{required:!0,size:"large",style:{width:"80%"},type:"file",accept:"image/jpeg,image/jpg,image/png",id:"imageFile",onChange:be})]}),Object(C.jsxs)(f.a,{span:8,children:[Object(C.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Open Time"}),Object(C.jsx)(ye.a,{required:!0,size:"large",style:{width:"80%"},id:"openTime",value:Ie()(T,"HH:mm:ss"),onChange:function(e,t){return w(t)}})]}),Object(C.jsxs)(f.a,{span:8,children:[Object(C.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Close Time"}),Object(C.jsx)(ye.a,{required:!0,size:"large",style:{width:"80%"},id:"closeTime",value:Ie()(E,"HH:mm:ss"),onChange:function(e,t){return A(t)}})]})]}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(h.a,{type:"primary",size:"large",block:!0,htmlType:"submit",onClick:pe,children:"Submit"})]})]})},Le=function(e){var t=Object(a.useState)([]),r=Object(l.a)(t,2),n=r[0],s=r[1],c=Object(a.useState)(null),o=Object(l.a)(c,2),i=o[0],d=o[1],j=Object(a.useState)(""),O=Object(l.a)(j,2),m=O[0],_=O[1],g=Object(a.useState)(0),y=Object(l.a)(g,2),T=y[0],w=y[1],S=Object(a.useState)(""),k=Object(l.a)(S,2),E=k[0],A=k[1],D=Object(a.useState)(""),I=Object(l.a)(D,2),P=I[0],R=I[1];Object(a.useEffect)(Object(M.a)(z.a.mark((function t(){var r,a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,G(e.match.params.food_item_id);case 3:return r=t.sent,d(r.food_category_id),_(r.food_name),w(r.food_price),A(r.food_description),R(r.image_url),t.next=11,F(r.food_shop_id);case 11:a=t.sent,s(a),t.next=18;break;case 15:return t.prev=15,t.t0=t.catch(0),t.abrupt("return",u.b.error(t.t0.message));case 18:case"end":return t.stop()}}),t,null,[[0,15]])}))),[]);var F=function(){var e=Object(M.a)(z.a.mark((function e(t){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v()({method:"get",url:je.GET_FOOD_ITEM_CATEGORY_LIST+"?food_shop_id="+t});case 3:return r=e.sent,e.abrupt("return",r.data.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(M.a)(z.a.mark((function e(t){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:je.GET_FOOD_ITEM_DETAIL+"?food_item_id="+t});case 2:return r=e.sent,e.abrupt("return",r.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var t=Object(M.a)(z.a.mark((function t(r){var a,n,s;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=r.target.files[0],(n=new FormData).append("image",a),t.next=6,v()({method:"post",url:je.UPLOAD_FOOD_ITEM_IMAGE+"?id="+e.match.params.food_item_id,data:n,headers:{"Content-Type":"multipart/form-data;charset=UTF-8"}});case 6:if(!(s=t.sent).data.success){t.next=12;break}return u.b.success("Upload Image Successful"),t.abrupt("return",R(s.data.message));case 12:return t.abrupt("return",u.b.error("Upload Image fail, please try again!"));case 13:t.next=18;break;case 15:return t.prev=15,t.t0=t.catch(0),t.abrupt("return",u.b.error("Something wrong happened, please try again!"));case 18:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e){return t.apply(this,arguments)}}(),N=function(){var t=Object(M.a)(z.a.mark((function t(r){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),t.prev=1,!(i&&m&&T&&E&&P)){t.next=15;break}return a={food_item_id:e.match.params.food_item_id,food_category_id:i,food_name:m,food_price:T,food_description:E,image_url:P},t.next=6,v()({method:"post",url:je.UPDATE_FOOD_ITEM,data:a});case 6:if(!t.sent.data.success){t.next=12;break}return u.b.success("Update food item successful!"),t.abrupt("return",e.history.push("/manager/food_item_detail/"+e.match.params.food_item_id));case 12:return t.abrupt("return",u.b.error("Update fail, pleaes try again!"));case 13:t.next=16;break;case 15:return t.abrupt("return",u.b.error("Please complete information!"));case 16:t.next=21;break;case 18:return t.prev=18,t.t0=t.catch(1),t.abrupt("return",u.b.error("Something wrong happened, please try again!"));case 21:case"end":return t.stop()}}),t,null,[[1,18]])})));return function(e){return t.apply(this,arguments)}}();return Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{children:Object(C.jsx)(h.a,{type:"primary",style:{float:"left"},onClick:function(){return e.history.push("/manager/food_item_detail/"+e.match.params.food_item_id)},children:"Go Back"})}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(L.a.Title,{level:3,children:"Edit Food Item Profile"}),Object(C.jsx)(W.a,{}),Object(C.jsxs)(b.a,{children:[Object(C.jsxs)(x.a,{children:[Object(C.jsxs)(f.a,{span:8,children:[Object(C.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Food Name"}),Object(C.jsx)(p.a,{size:"large",type:"text",id:"foodName",style:{width:"80%"},onChange:function(e){return _(e.target.value)},value:m,required:!0})]}),Object(C.jsxs)(f.a,{span:8,children:[Object(C.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Food Price"}),Object(C.jsx)(p.a,{size:"large",prefix:"$",type:"number",id:"foodPrice",style:{width:"80%",textAlign:"right"},onChange:function(e){return w(e.target.value)},value:T,required:!0})]}),Object(C.jsxs)(f.a,{span:8,children:[Object(C.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Category"}),Object(C.jsx)(se.a,{size:"large",style:{width:"80%"},id:"itemCategoryId",onChange:function(e){return d(e)},value:i,required:!0,children:n.map((function(e,t){return Object(C.jsx)(se.a.Option,{value:e.food_category_id,children:e.food_category_name},t)}))})]})]}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Food Description"}),Object(C.jsx)(p.a.TextArea,{id:"foodDescription",rows:5,onChange:function(e){return A(e.target.value)},value:E,required:!0}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(x.a,{children:Object(C.jsxs)(f.a,{span:8,children:[Object(C.jsx)("img",{src:P,alt:"img",style:{width:"60%"}}),Object(C.jsx)(L.a.Title,{level:5,children:"Food Image"}),Object(C.jsx)(p.a,{required:!0,size:"large",style:{width:"80%"},type:"file",accept:"image/jpeg,image/jpg,image/png",id:"imageFile",onChange:U})]})}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(h.a,{type:"primary",size:"large",block:!0,htmlType:"submit",onClick:N,children:"Edit Food Item"})]})]})},Re=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),r=t[0],n=t[1],s=Object(a.useState)(null),c=Object(l.a)(s,2),o=c[0],i=c[1],d=Object(a.useState)(null),j=Object(l.a)(d,2),O=j[0],x=j[1];Object(a.useEffect)(Object(M.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f();case 3:t=e.sent,n(t.client_id),i(t.client_secret),x(t.manager_id),e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",u.b.error(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),[]);var f=function(){var e=Object(M.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:je.GET_MANAGER_DETAIL+"?email_address="+localStorage.getItem("managerEmail")});case 2:return t=e.sent,e.abrupt("return",t.data.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(M.a)(z.a.mark((function e(t){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!(r&&o&&O)){e.next=14;break}return a={client_id:r,client_secret:o,manager_id:O},e.next=6,v()({method:"post",url:je.UPDATE_MANAGER_ACCOUNT,data:a});case 6:if(!e.sent.data.success){e.next=11;break}u.b.success("Update account successful!"),e.next=12;break;case 11:return e.abrupt("return",u.b.error("Update fail, pleaes try again!"));case 12:e.next=15;break;case 14:return e.abrupt("return",u.b.error("Please complete information!"));case 15:e.next=20;break;case 17:return e.prev=17,e.t0=e.catch(1),e.abrupt("return",u.b.error("Something wrong happened, please try again!"));case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsxs)("div",{children:[Object(C.jsx)(L.a.Title,{level:5,children:"Edit Your Paypal Detail Here"}),Object(C.jsx)(W.a,{}),Object(C.jsxs)(b.a,{children:[Object(C.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Client ID"}),Object(C.jsx)(p.a,{size:"large",style:{width:"80%"},id:"clientId",value:r,onChange:function(e){return n(e.target.value)},required:!0}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Client Secret"}),Object(C.jsx)(p.a.TextArea,{id:"clientSecret",rows:5,value:o,onChange:function(e){return i(e.target.value)},required:!0}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(h.a,{type:"primary",size:"large",block:!0,htmlType:"submit",onClick:m,children:"Submit"})]})]})},Fe=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),r=t[0],n=t[1],s=Object(a.useState)(null),c=Object(l.a)(s,2),o=c[0],i=c[1],d=Object(a.useState)(null),j=Object(l.a)(d,2),O=j[0],m=j[1],_=Object(a.useState)(null),g=Object(l.a)(_,2),T=g[0],w=g[1],S=Object(a.useState)(null),k=Object(l.a)(S,2),E=k[0],A=k[1],D=Object(a.useState)(null),I=Object(l.a)(D,2),P=I[0],R=I[1],F=Object(a.useState)(null),G=Object(l.a)(F,2),U=G[0],N=G[1],q=Object(a.useState)(null),H=Object(l.a)(q,2),Y=H[0],V=H[1],J=Object(a.useState)(null),$=Object(l.a)(J,2),K=$[0],Q=$[1],X=Object(a.useState)(null),Z=Object(l.a)(X,2),ee=Z[0],te=Z[1];Object(a.useEffect)(Object(M.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re();case 3:t=e.sent,n(t.first_name),i(t.last_name),m(t.email_address),w(t.email_address),A(t.phone),R(t.phone),Q(t.manager_id),te(t.avatar_url),e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",u.b.error(e.t0.message));case 17:case"end":return e.stop()}}),e,null,[[0,14]])}))),[]);var re=function(){var e=Object(M.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:je.GET_MANAGER_DETAIL+"?email_address="+localStorage.getItem("managerEmail")});case 2:return t=e.sent,e.abrupt("return",t.data.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(M.a)(z.a.mark((function e(t){var r,a,n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.target.files[0],(a=new FormData).append("image",r),e.next=6,v()({method:"post",url:je.MANAGER_UPLOAD_AVATAR+"?id="+K,data:a,headers:{"Content-Type":"multipart/form-data;charset=UTF-8"}});case 6:if(!(n=e.sent).data.success){e.next=12;break}return u.b.success("Upload Avatar Successful"),e.abrupt("return",te(n.data.message));case 12:return e.abrupt("return",u.b.error("Upload Avatar fail, please try again!"));case 13:e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return",u.b.error("Something wrong happened, please try again!"));case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(M.a)(z.a.mark((function e(t){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!(r&&o&&O&&T&&E&&P&&U&&Y&&K)){e.next=18;break}if(U===Y){e.next=7;break}return e.abrupt("return",u.b.error("Confirm password is not same as the new password you set. Please try again!"));case 7:return a={first_name:r,last_name:o,old_email_address:O,new_email_address:T,old_phone:E,new_phone:P,password:U,manager_id:K,avatar_url:ee},e.next=10,v()({method:"post",url:je.UPDATE_MANAGER_PROFILE,data:a});case 10:if(!e.sent.data.success){e.next=15;break}return e.abrupt("return",u.b.success("Update profile successful!"));case 15:return e.abrupt("return",u.b.error("Update fail, pleaes try again!"));case 16:e.next=19;break;case 18:return e.abrupt("return",u.b.error("Please complete information!"));case 19:e.next=24;break;case 21:return e.prev=21,e.t0=e.catch(1),e.abrupt("return",u.b.error(e.t0.response.data.message));case 24:case"end":return e.stop()}}),e,null,[[1,21]])})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsxs)("div",{children:[Object(C.jsx)(L.a.Title,{level:5,children:"Edit Your Profile Here"}),Object(C.jsx)(W.a,{}),Object(C.jsxs)(b.a,{children:[Object(C.jsx)(L.a.Title,{level:5,children:"Set Avatar"}),Object(C.jsxs)("div",{style:{textAlign:"center"},children:[ee?Object(C.jsx)(B.a,{size:128,src:ee}):Object(C.jsx)(B.a,{size:128,icon:Object(C.jsx)(y.a,{})}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(p.a,{required:!0,size:"large",style:{width:"90%"},type:"file",accept:"image/jpeg,image/jpg,image/png",id:"imageFile",onChange:ae})]}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsxs)(x.a,{children:[Object(C.jsxs)(f.a,{span:12,children:[Object(C.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"First Name"}),Object(C.jsx)(p.a,{size:"large",type:"text",id:"firstName",style:{width:"80%"},onChange:function(e){return n(e.target.value)},value:r,required:!0})]}),Object(C.jsxs)(f.a,{span:12,children:[Object(C.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Last Name"}),Object(C.jsx)(p.a,{size:"large",type:"text",id:"lastName",style:{width:"80%"},onChange:function(e){return i(e.target.value)},value:o,required:!0})]})]}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsxs)(x.a,{children:[Object(C.jsxs)(f.a,{span:12,children:[Object(C.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Email Address"}),Object(C.jsx)(p.a,{size:"large",type:"email",placeholder:"abc@abc.com",id:"emailAddress",style:{width:"80%"},onChange:function(e){return w(e.target.value)},value:T,required:!0})]}),Object(C.jsxs)(f.a,{span:12,children:[Object(C.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Phone Number"}),Object(C.jsx)(p.a,{size:"large",type:"tel",pattern:"\\([0-9]{3}\\) [0-9]{3}-[0-9]{4}",placeholder:"(111) 111-1111",id:"phone",style:{width:"80%"},onChange:function(e){return R(e.target.value)},value:P,required:!0})]})]}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsxs)(x.a,{children:[Object(C.jsxs)(f.a,{span:12,children:[Object(C.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"New Password"}),Object(C.jsx)(p.a.Password,{size:"large",style:{width:"80%"},id:"newPassword",placeholder:"New Password",value:U,onChange:function(e){return N(e.target.value)},required:!0})]}),Object(C.jsxs)(f.a,{span:12,children:[Object(C.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Confirm Your Password"}),Object(C.jsx)(p.a,{size:"large",style:{width:"80%"},type:"password",id:"confirmNewPassword",placeholder:"Confirm New Password",value:Y,onChange:function(e){return V(e.target.value)},required:!0})]})]}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(h.a,{type:"primary",size:"large",block:!0,htmlType:"submit",onClick:ne,children:"Submit"})]})]})},Ge=function(e){var t=Object(a.useState)(!1),r=Object(l.a)(t,2),n=r[0],s=r[1];Object(a.useEffect)((function(){localStorage.getItem("sessionId")&&localStorage.getItem("managerEmail")||e.history.push("/manager/login")}),[]);return Object(C.jsx)("div",{children:Object(C.jsx)(d.a,{tip:"Loading...",spinning:n,children:Object(C.jsxs)(V.a,{style:{minHeight:"100vh"},children:[Object(C.jsx)(V.a.Sider,{collapsible:!0,children:Object(C.jsxs)(q.a,{mode:"inline",theme:"dark",onClick:function(t){switch(t.key){case"1":e.history.push("/manager/");break;case"5":e.history.push("/manager/setting_account");break;case"6":e.history.push("/manager/edit_profile");break;case"7":s(!0),v()({method:"post",url:je.LOGOUT_URL,withCredentials:!0}).then((function(t){return s(!1),t.data.success?(localStorage.removeItem("sessionId"),localStorage.removeItem("managerEmail"),u.b.success(t.data.message),e.history.push("/manager/login")):u.b.error(t.data.message)})).catch((function(e){return s(!1),u.b.error(e.response.data.message)}))}},children:[Object(C.jsx)(q.a.Item,{icon:Object(C.jsx)(fe.a,{}),children:"Food Shops"},"1"),Object(C.jsx)(q.a.Item,{icon:Object(C.jsx)(F.a,{}),children:"Message"},"2"),Object(C.jsx)(q.a.Item,{icon:Object(C.jsx)(me.a,{}),children:"Current Order"},"3"),Object(C.jsx)(q.a.Item,{icon:Object(C.jsx)(_e.a,{}),children:"Order History"},"4"),Object(C.jsx)(q.a.Item,{icon:Object(C.jsx)(ge.a,{}),children:"Setting Account"},"5"),Object(C.jsxs)(q.a.SubMenu,{title:"Account",icon:Object(C.jsx)(y.a,{}),children:[Object(C.jsx)(q.a.Item,{children:"Edit Profile"},"6"),Object(C.jsx)(q.a.Item,{children:"Logout"},"7")]},"sub1")]})}),Object(C.jsxs)(V.a,{className:"site-layout",children:[Object(C.jsx)(V.a.Content,{style:{margin:"0 16px"},children:Object(C.jsxs)("div",{className:"site-layout-background",style:{padding:24,minHeight:360},children:[Object(C.jsx)(i.b,{path:"/manager/",exact:!0,component:ve}),Object(C.jsx)(i.b,{path:"/manager/add_food_shop/:manager_id",exact:!0,component:Te}),Object(C.jsx)(i.b,{path:"/manager/food_shop_detail/:food_shop_id",exact:!0,component:ke}),Object(C.jsx)(i.b,{path:"/manager/food_item_detail/:food_item_id",exact:!0,component:Ee}),Object(C.jsx)(i.b,{path:"/manager/add_food_item/:food_shop_id",exact:!0,component:Ae}),Object(C.jsx)(i.b,{path:"/manager/add_food_item_category/:food_shop_id",exact:!0,component:Ce}),Object(C.jsx)(i.b,{path:"/manager/edit_food_shop/:food_shop_id",exact:!0,component:Pe}),Object(C.jsx)(i.b,{path:"/manager/edit_food_item/:food_item_id",exact:!0,component:Le}),Object(C.jsx)(i.b,{path:"/manager/setting_account",exact:!0,component:Re}),Object(C.jsx)(i.b,{path:"/manager/edit_profile",exact:!0,component:Fe})]})}),Object(C.jsx)(be,{})]})]})})})},Ue=r(62),Ne=r(115),ze="ADD_PRODUCT",Me="REMOVE_PRODUCT",qe="ADD_PRODUCT_BY_ONE",He="DELETE_PRODUCT_BY_ONE",Be="CLEAR_CART",Ye=function(e,t){switch(t.type){case ze:return function(e,t){console.log("adding product",e);var r=Object(Ne.a)(t.cart),a=r.findIndex((function(t){return t.food_item_id===e.food_item_id}));if(a<0)r.push(e);else{var n=r[a];n.quantity+=e.quantity,r[a]=n}return Object(Ue.a)(Object(Ue.a)({},t),{},{cart:r})}(t.product,e);case qe:return function(e,t){console.log("adding product by one",e);var r=Object(Ne.a)(t.cart),a=r.findIndex((function(t){return t.food_item_id===e.food_item_id}));if(a>=0){var n=r[a];n.quantity++,r[a]=n}return Object(Ue.a)(Object(Ue.a)({},t),{},{cart:r})}(t.product,e);case He:return function(e,t){console.log("deleting product by one",e);var r=Object(Ne.a)(t.cart),a=r.findIndex((function(t){return t.food_item_id===e.food_item_id}));if(a>=0){var n=r[a];n.quantity--,0===n.quantity?r.splice(a,1):r[a]=n}return Object(Ue.a)(Object(Ue.a)({},t),{},{cart:r})}(t.product,e);case Me:return function(e,t){console.log("remove product: "+e);var r=Object(Ne.a)(t.cart),a=r.findIndex((function(t){return t.food_item_id===e.food_item_id}));return a>=0&&r.splice(a,1),Object(Ue.a)(Object(Ue.a)({},t),{},{cart:r})}(t.product,e);case Be:return function(e){return console.log("clear cart"),Object(Ue.a)(Object(Ue.a)({},e),{},{cart:[]})}(e);default:return e}},Ve=function(e){var t=Object(a.useReducer)(Ye,{cart:[]}),r=Object(l.a)(t,2),n=r[0],s=r[1];return Object(C.jsx)(re.Provider,{value:{cart:n.cart,addProductToCart:function(e){s({type:ze,product:e})},removeProductFromCart:function(e){s({type:Me,product:e})},addProductToCartByOne:function(e){s({type:qe,product:e})},deleteProductFromCartByOne:function(e){s({type:He,product:e})},clearCart:function(){s({type:Be})}},children:e.children})};var We=function(){return Object(C.jsx)(Ve,{children:Object(C.jsx)(o.a,{children:Object(C.jsxs)(i.d,{children:[Object(C.jsx)(i.b,{path:"/customer/login",exact:!0,component:P}),Object(C.jsx)(i.b,{path:"/customer/register",exact:!0,component:R}),Object(C.jsx)(i.b,{path:"/customer/reset-password/",exact:!0,component:G}),Object(C.jsx)(i.b,{path:"/customer/reset-password/:token",exact:!0,component:U}),Object(C.jsx)(i.b,{path:"/customer/",component:ie}),Object(C.jsx)(i.b,{path:"/manager/login",exact:!0,component:pe}),Object(C.jsx)(i.b,{path:"/manager/register",exact:!0,component:Oe}),Object(C.jsx)(i.b,{path:"/manager/reset-password/",exact:!0,component:he}),Object(C.jsx)(i.b,{path:"/manager/reset-password/:token",exact:!0,component:xe}),Object(C.jsx)(i.b,{path:"/manager/",component:Ge}),Object(C.jsx)(i.a,{to:"/manager/login"})]})})})};c.a.render(Object(C.jsx)(We,{}),document.getElementById("root"))}},[[310,1,2]]]);
//# sourceMappingURL=main.df9cb749.chunk.js.map