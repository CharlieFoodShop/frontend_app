(this.webpackJsonpfrontend_app=this.webpackJsonpfrontend_app||[]).push([[0],{179:function(e,t,r){},180:function(e,t,r){},226:function(e,t,r){},227:function(e,t,r){},303:function(e,t,r){},305:function(e,t,r){},306:function(e,t,r){},307:function(e,t,r){},308:function(e,t,r){},309:function(e,t,r){},310:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(34),s=r.n(c),o=r(28),i=r(32),l=r(8),u=r(192),d=r(184),j=r(317),b=r(318),p=r(320),O=r(113),h=r(60),x=r(104),m=r(62),f=r(37),_=r.n(f),g=r(11),v=r.n(g),y=r(325),T=r(326),S=(r(74),r(226),r(227),"http://144.34.175.242/api/customer_api/"),w="http://144.34.175.242/api/customer_food_shop_api/",E="http://144.34.175.242/api/customer_food_item_api/",k="http://144.34.175.242/api/customer_order_api/",C="http://144.34.175.242/api/customer_comment_api/",A={DEFAULT_URL:S,APPLICATION_URL:"http://144.34.175.242/customer/",REGISTER_URL:S+"customer_register/",LOGIN_URL:S+"customer_login/",LOGOUT_URL:S+"customer_logout/",RESET_PASSWORD:S+"customer_password_reset/",GET_CUSTOMER_DETAIL:S+"customer_detail",UPDATE_CUSTOMER_PROFILE:S+"customer_update_profile",CUSTOMER_UPLOAD_AVATAR:S+"customer_upload_avatar",RANDOM_FOOD_SHOP_POP_UP:w+"get_random_food_shops",GET_FAVOURITE_FOOD_SHOPS:w+"get_favourite_food_shops",GET_FOOD_SHOP_DETAIL:w+"get_food_shop_detail",GET_FOOD_CATEGORIES:w+"get_food_category_by_food_shop_id",GET_SEARCH_RESULTS:w+"get_search_results",UPDATE_FAVOURITE_FOOD_SHOP:w+"update_favourite_food_shop",ADD_RATING_FOR_FOOD_SHOP:w+"add_rating_for_food_shop",GET_FOOD_ITEMS_BY_SHOP_ID:E+"get_food_items_by_shop_id",GET_FOOD_ITEMS_BY_CATEGORY_ID:E+"get_food_items_by_category_id",GET_FOOD_ITEMS_BY_SEARCH_TEXT:E+"get_food_items_by_search_text",GET_FOOD_ITEM_DETAIL_BY_ID:E+"get_food_item_by_id",GET_ALL_DRIVER_DETAIL:"http://144.34.175.242/api/deliver_driver_api/get_all_driver_detail",GET_QUESTION_ANSWER:"http://144.34.175.242/api/customer_help_api/get_question_answer",CREATE_ORDER:k+"create_order",GET_CURRENT_ORDERS:k+"get_current_orders",GET_ORDER_HISTORY:k+"get_order_history",GET_ORDER_DETAIL:k+"get_order_detail_by_order_id",ADD_ORDER_TO_DATABASE:k+"add_order_to_database",GET_COMMENT_LIST:C+"get_comment_list_by_item_id",GET_COMMENT_DETAIL:C+"get_comment_detail_by_id",ADD_NEW_COMMENT:C+"add_new_comment",EDIT_COMMENT:C+"edit_comment",DELETE_COMMENT:C+"delete_comment"},I=r(1),R=function(){return Object(I.jsxs)("div",{className:"footer-div",children:["Copyright \xa9 ",Object(I.jsx)(o.b,{to:{pathname:A.APPLICATION_URL},target:"_blank",children:"Charlie's Food Shop"}),Object(I.jsx)("div",{children:(new Date).getFullYear()})]})},D={reCAPTCHA_site_key:"6LcaKtIZAAAAAK6RCXm1AoJfpgWNWo7wUzwzUZA-",BingMap_key:"AiJHkuJR5r6HBFPmJ7tu1mxwEGVWLymQ1CmIVRwXBTdpvx5ImKJMOVDr2_qRfgro"},P=function(e){var t=Object(a.useState)(!1),r=Object(l.a)(t,2),n=r[0],c=r[1],s=Object(a.useRef)(),i=Object(a.useRef)(),f=Object(a.useRef)(),g=D.reCAPTCHA_site_key,S=null;Object(a.useEffect)((function(){if(localStorage.getItem("customerSessionId"))return e.history.push("/customer")}),[]);var w=function(t){c(!0);var r={email_address:s.current.state.value,password:i.current.state.value,captcha:t};v()({method:"post",url:A.LOGIN_URL,data:r,withCredentials:!0}).then((function(t){return c(!1),t.data.success?(f.current.state.checked&&(localStorage.setItem("rememberEmail",s.current.state.value),localStorage.setItem("rememberPass",i.current.state.value)),localStorage.setItem("customerSessionId",t.data.customerSessionId),localStorage.setItem("customerEmail",s.current.state.value),u.b.success(t.data.message),e.history.push("/customer")):u.b.error(t.data.message)})).catch((function(e){return c(!1),u.b.error(e.response.data.message)}))};return Object(I.jsx)("div",{className:"login-div",children:Object(I.jsxs)(d.a,{tip:"Loading...",spinning:n,children:[Object(I.jsx)(j.a,{title:"Welcome to Charlie's Food Shop",style:{width:400},bordered:!0,children:Object(I.jsxs)(b.a,{children:[Object(I.jsx)(p.a,{id:"emailAddress",size:"large",type:"email",prefix:Object(I.jsx)(y.a,{style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Enter Your Email Address",autoFocus:!0,defaultValue:localStorage.getItem("rememberEmail")?localStorage.getItem("rememberEmail"):null,ref:s,required:!0}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(p.a.Password,{id:"password",size:"large",placeholder:"Enter Your Password",required:!0,defaultValue:localStorage.getItem("rememberPass")?localStorage.getItem("rememberPass"):null,ref:i,prefix:Object(I.jsx)(T.a,{style:{color:"rgba(0,0,0,.25)"}})}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(O.a,{ref:f,children:"Remember me"}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(h.a,{type:"primary",size:"large",block:!0,htmlType:"submit",onClick:function(e){if(e.preventDefault(),!s.current.state.value||!i.current.state.value)return u.b.error("Please complete all the information!");S&&S.execute(g,{action:"login"}).then((function(e){w(e)}))},children:"LOG IN"}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsxs)(x.a,{children:[Object(I.jsx)(m.a,{span:12,children:Object(I.jsx)(o.b,{to:"/customer/register",children:"Do not have account?"})}),Object(I.jsx)(m.a,{span:12,style:{textAlign:"right"},children:Object(I.jsx)(o.b,{to:"/customer/reset-password",children:"Forget password?"})})]})]})}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(_.a,{ref:function(e){return S=e},sitekey:g,onResolved:function(){return console.log("Human detected.")}}),Object(I.jsx)(R,{})]})})},L=r(319),F=(r(303),function(e){var t=Object(a.useState)(!1),r=Object(l.a)(t,2),n=r[0],c=r[1],s=Object(a.useRef)(),i=Object(a.useRef)(),O=Object(a.useRef)(),f=Object(a.useRef)(),g=Object(a.useRef)(),y=Object(a.useRef)(),T=D.reCAPTCHA_site_key,S=null,w=function(t){c(!0);var r={first_name:s.current.state.value,last_name:i.current.state.value,email_address:O.current.state.value,phone:f.current.state.value,password:g.current.state.value,captcha:t};v()({method:"post",url:A.REGISTER_URL,data:r}).then((function(t){return c(!1),t.data.success?(u.b.success(t.data.message),e.history.push("/customer/login")):u.b.error(t.data.message)})).catch((function(e){return c(!1),u.b.error(e.response.data.message)}))};return Object(I.jsx)("div",{className:"register-div",children:Object(I.jsxs)(d.a,{tip:"Loading...",spinning:n,children:[Object(I.jsx)(j.a,{title:"Create Your Own Customer Account",style:{width:600},bordered:!0,children:Object(I.jsxs)(b.a,{children:[Object(I.jsxs)(x.a,{children:[Object(I.jsxs)(m.a,{span:12,children:[Object(I.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"First Name"}),Object(I.jsx)(p.a,{size:"large",style:{width:"90%"},type:"text",id:"firstName",placeholder:"Java",ref:s,required:!0})]}),Object(I.jsxs)(m.a,{span:12,children:[Object(I.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Last Name"}),Object(I.jsx)(p.a,{size:"large",style:{width:"90%"},type:"text",id:"lastName",placeholder:"JavaScript",ref:i,required:!0})]})]}),Object(I.jsx)("br",{}),Object(I.jsxs)(x.a,{children:[Object(I.jsxs)(m.a,{span:12,children:[Object(I.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Email Address"}),Object(I.jsx)(p.a,{size:"large",style:{width:"90%"},type:"email",id:"emailAddress",placeholder:"abc@abc.com",ref:O,required:!0})]}),Object(I.jsxs)(m.a,{span:12,children:[Object(I.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Phone Number"}),Object(I.jsx)(p.a,{size:"large",style:{width:"90%"},type:"tel",pattern:"\\([0-9]{3}\\) [0-9]{3}-[0-9]{4}",id:"phone",placeholder:"(111) 111-1111",ref:f,required:!0})]})]}),Object(I.jsx)("br",{}),Object(I.jsxs)(x.a,{children:[Object(I.jsxs)(m.a,{span:12,children:[Object(I.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Password"}),Object(I.jsx)(p.a.Password,{size:"large",style:{width:"90%"},id:"password",placeholder:"Password",ref:g,required:!0})]}),Object(I.jsxs)(m.a,{span:12,children:[Object(I.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Confirm Your Password"}),Object(I.jsx)(p.a,{size:"large",style:{width:"90%"},type:"password",id:"confirmPassword",placeholder:"Confirm Password",ref:y,required:!0})]})]}),Object(I.jsx)("br",{}),Object(I.jsx)(L.a.Text,{type:"danger",children:"Note: Password should be at least 8 characters, with 1 Uppercase, 1 Lowercase, 1 Number and 1 Symbol."}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(h.a,{type:"primary",size:"large",block:!0,htmlType:"submit",onClick:function(e){return e.preventDefault(),s.current.state.value&&i.current.state.value&&O.current.state.value&&f.current.state.value&&g.current.state.value&&y.current.state.value?g.current.state.value!==y.current.state.value?u.b.error("Confirm password is not same as the password you set. Please try again!"):void(S&&S.execute(T,{action:"register"}).then((function(e){w(e)}))):u.b.error("Please complete all the information!")},children:"Submit"}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)("div",{span:12,style:{textAlign:"right"},children:Object(I.jsx)(o.b,{to:"/customer/login",children:"Already have account?"})})]})}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(_.a,{ref:function(e){return S=e},sitekey:T,onResolved:function(){return console.log("Human detected.")}}),Object(I.jsx)(R,{})]})})}),G=r(327),M=(r(179),function(e){var t=Object(a.useState)(!1),r=Object(l.a)(t,2),n=r[0],c=r[1],s=Object(a.useRef)(),i=D.reCAPTCHA_site_key,O=null,x=function(t){c(!0);var r={email_address:s.current.state.value,captcha:t};v()({method:"post",url:A.RESET_PASSWORD,data:r}).then((function(t){return c(!1),u.b.success(t.data.message),e.history.push("/customer/login")})).catch((function(e){return c(!1),u.b.error(e.response.data.message)}))};return Object(I.jsx)("div",{className:"reset-password-div",children:Object(I.jsxs)(d.a,{tip:"Loading...",spinning:n,children:[Object(I.jsx)(j.a,{title:"Give your email address to reset password",style:{width:400},bordered:!0,children:Object(I.jsxs)(b.a,{children:[Object(I.jsx)(p.a,{id:"emailAddress",size:"large",type:"email",prefix:Object(I.jsx)(G.a,{style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Your Email Address",ref:s,required:!0}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(h.a,{type:"primary",size:"large",block:!0,htmlType:"submit",onClick:function(e){if(e.preventDefault(),!s.current.state.value)return u.b.error("Please complete all the information!");O&&O.execute(i,{action:"reset-password"}).then((function(e){x(e)}))},children:"Submit"}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(o.b,{to:"/customer/login",children:"Go Back"})]})}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(_.a,{ref:function(e){return O=e},sitekey:i,onResolved:function(){return console.log("Human detected.")}}),Object(I.jsx)(R,{})]})})}),N=function(e){var t=Object(a.useState)(!1),r=Object(l.a)(t,2),n=r[0],c=r[1],s=Object(a.useRef)(),o=Object(a.useRef)(),i=D.reCAPTCHA_site_key,O=null,x=function(t){c(!0);var r={password:s.current.state.value,captcha:t};v()({method:"post",url:A.RESET_PASSWORD+e.match.params.token,data:r}).then((function(t){return c(!1),u.b.success(t.data.message),e.history.push("/customer/login")})).catch((function(t){return c(!1),"Invalid link or expired"===t.response.data.message?(u.b.error(t.response.data.message),e.history.push("/customer/login")):u.b.error(t.response.data.message)}))};return Object(I.jsx)("div",{className:"reset-password-div",children:Object(I.jsxs)(d.a,{tip:"Loading...",spinning:n,children:[Object(I.jsx)(j.a,{title:"Reset your password",style:{width:400},bordered:!0,children:Object(I.jsxs)(b.a,{children:[Object(I.jsx)(p.a.Password,{id:"resetPassword",size:"large",placeholder:"New Password Here",ref:s,required:!0}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(p.a,{id:"confirmResetPassword",size:"large",type:"password",placeholder:"Confirm Password",ref:o,required:!0}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(h.a,{type:"primary",size:"large",block:!0,htmlType:"submit",onClick:function(e){return e.preventDefault(),s.current.state.value&&o.current.state.value?s.current.state.value!==o.current.state.value?u.b.error("Confirm password is not same to the password you reset, please try again."):void(O&&O.execute(i,{action:"reset-password-final"}).then((function(e){x(e)}))):u.b.error("Please complete all the information!")},children:"Submit"})]})}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(_.a,{ref:function(e){return O=e},sitekey:i,onResolved:function(){return console.log("Human detected.")}}),Object(I.jsx)(R,{})]})})},U=r(7),z=r.n(U),H=r(10),q=r(87),B=r(323),Y=r(322),$=r(137),V=r(314),W=r(312),J=r(330),Q=(r(305),r(306),r(328)),X=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),r=t[0],n=t[1];Object(a.useEffect)(Object(H.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c(localStorage.getItem("customerEmail"));case 3:t=e.sent,n(t),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",u.b.error("Sorry, could not get food shops!"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]);var c=function(){var e=Object(H.a)(z.a.mark((function e(t){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:A.RANDOM_FOOD_SHOP_POP_UP+"?email_address="+t});case 2:return r=e.sent,e.abrupt("return",r.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsx)("div",{children:r.map((function(e,t){return Object(I.jsx)("div",{style:{width:220,float:"left",margin:"2%"},children:Object(I.jsx)(o.b,{to:"/customer/food_shop/"+e.food_shop_id,children:Object(I.jsx)(j.a,{hoverable:!0,style:{height:400},cover:Object(I.jsx)("img",{style:{height:200},alt:"food_shop",src:e.image_url}),bordered:!1,children:Object(I.jsx)(j.a.Meta,{title:e.food_shop_name,description:Object(I.jsxs)("div",{children:[Object(I.jsx)("p",{children:e.working_address}),Object(I.jsxs)("p",{children:[e.food_shop_category_name,e.on_favourite?Object(I.jsx)("span",{style:{float:"right"},children:Object(I.jsx)(Q.a,{})}):Object(I.jsx)(I.Fragment,{})]})]})})})})},t)}))})},K=r(321),Z=r(136),ee=function(e){var t=Object(a.useState)(0),r=Object(l.a)(t,2),n=r[0],c=r[1],s=Object(a.useState)(""),i=Object(l.a)(s,2),d=i[0],b=i[1],O=Object(a.useState)(""),f=Object(l.a)(O,2),_=f[0],g=f[1],y=Object(a.useState)(""),T=Object(l.a)(y,2),S=T[0],w=T[1],E=Object(a.useState)(null),k=Object(l.a)(E,2),C=k[0],R=k[1],D=Object(a.useState)(""),P=Object(l.a)(D,2),F=P[0],G=P[1],M=Object(a.useState)(!1),N=Object(l.a)(M,2),U=N[0],q=N[1],B=Object(a.useState)(!1),Y=Object(l.a)(B,2),$=Y[0],V=Y[1],J=Object(a.useState)(""),Q=Object(l.a)(J,2),X=Q[0],ee=Q[1],te=Object(a.useState)(""),re=Object(l.a)(te,2),ae=re[0],ne=re[1],ce=Object(a.useState)([]),se=Object(l.a)(ce,2),oe=se[0],ie=se[1],le=Object(a.useState)([]),ue=Object(l.a)(le,2),de=ue[0],je=ue[1],be=Object(a.useState)(0),pe=Object(l.a)(be,2),Oe=pe[0],he=pe[1],xe=Object(a.useState)(!1),me=Object(l.a)(xe,2),fe=me[0],_e=me[1];Object(a.useEffect)(Object(H.a)(z.a.mark((function t(){var r,a,n;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ge(localStorage.getItem("customerEmail"),e.match.params.food_shop_id);case 3:return r=t.sent,c(r.food_shop_id),b(r.food_shop_name),g(r.food_shop_category_name),w(r.food_shop_description),R(r.food_shop_rating),G(r.image_url),q(r.active),V(r.on_favourite),ee(r.open_time),ne(r.working_address),t.next=16,ve(e.match.params.food_shop_id);case 16:return a=t.sent,ie(a),t.next=20,ye(e.match.params.food_shop_id);case 20:n=t.sent,je(n),t.next=27;break;case 24:return t.prev=24,t.t0=t.catch(0),t.abrupt("return",u.b.error("Sorry, fail to get food shop detail!"));case 27:case"end":return t.stop()}}),t,null,[[0,24]])}))),[]);var ge=function(){var e=Object(H.a)(z.a.mark((function e(t,r){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:A.GET_FOOD_SHOP_DETAIL+"?email_address="+t+"&&food_shop_id="+r});case 2:return a=e.sent,e.abrupt("return",a.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),ve=function(){var e=Object(H.a)(z.a.mark((function e(t){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:A.GET_FOOD_CATEGORIES+"?food_shop_id="+t});case 2:return r=e.sent,e.abrupt("return",r.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=Object(H.a)(z.a.mark((function e(t){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:A.GET_FOOD_ITEMS_BY_SHOP_ID+"?food_shop_id="+t});case 2:return r=e.sent,e.abrupt("return",r.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Te=function(){var e=Object(H.a)(z.a.mark((function e(t){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:A.GET_FOOD_ITEMS_BY_CATEGORY_ID+"?food_category_id="+t});case 2:return r=e.sent,e.abrupt("return",r.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Se=function(){var e=Object(H.a)(z.a.mark((function e(t){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Te(t);case 3:r=e.sent,je(r),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",u.b.error("Sorry, fail to get food list"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),we=function(){var e=Object(H.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v()({method:"post",url:A.UPDATE_FAVOURITE_FOOD_SHOP,data:{email_address:localStorage.getItem("customerEmail"),food_shop_id:n,on_favourite:$}});case 3:if(!e.sent.data.success){e.next=8;break}V((function(e){return!e})),e.next=9;break;case 8:return e.abrupt("return",u.b.error("Error occured, please try again"));case 9:e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",u.b.error("Error occured, please try again"));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),Ee=function(){var t=Object(H.a)(z.a.mark((function t(){var r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,Oe){t.next=3;break}return t.abrupt("return",u.b.warn("Sorry, rating can not be blank!"));case 3:return r={food_shop_id:e.match.params.food_shop_id,rating:Oe},t.next=6,v()({method:"post",url:A.ADD_RATING_FOR_FOOD_SHOP,data:r});case 6:if(!t.sent.data.success){t.next=12;break}return u.b.success("Thanks for your feedback!"),t.abrupt("return",_e(!0));case 12:return t.abrupt("return",u.b.error("Action failed, please try again!"));case 13:t.next=18;break;case 15:return t.prev=15,t.t0=t.catch(0),t.abrupt("return",u.b.error("Action failed, please try again!"));case 18:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(){return t.apply(this,arguments)}}(),ke=function(){var t=Object(H.a)(z.a.mark((function t(r){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r){t.next=3;break}return t.abrupt("return",u.b.warn("Search text can not be blank!"));case 3:return t.next=5,v()({method:"get",url:A.GET_FOOD_ITEMS_BY_SEARCH_TEXT+"?food_shop_id="+e.match.params.food_shop_id+"&&search_text="+r});case 5:if(!(a=t.sent).data.success){t.next=10;break}return t.abrupt("return",je(a.data.data));case 10:return t.abrupt("return",u.b.error("Action failed, please try again!"));case 11:t.next=16;break;case 13:return t.prev=13,t.t0=t.catch(0),t.abrupt("return",u.b.error("Action Failed, please try again!"));case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}();return Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{style:{width:"100%",height:"150px",overflow:"hidden"},children:Object(I.jsx)("img",{alt:"shop-image",src:F,style:{width:"100%",marginTop:"-50%"}})}),Object(I.jsx)("br",{}),Object(I.jsxs)(x.a,{children:[Object(I.jsx)(m.a,{span:12,children:Object(I.jsx)(h.a,{style:{float:"left"},type:"primary",onClick:function(){return e.history.push("/customer/")},children:"Go Back"})}),Object(I.jsx)(m.a,{span:12,children:Object(I.jsx)(h.a,{style:{float:"right"},type:"primary",onClick:we,children:$?"Remove from My Favoruite":"Add to My Favoruite"})})]}),Object(I.jsx)(W.a,{}),Object(I.jsx)(L.a.Title,{level:2,children:d}),Object(I.jsxs)(x.a,{children:[Object(I.jsx)(m.a,{span:8,children:Object(I.jsxs)(L.a.Title,{level:5,children:["Type: ",_]})}),Object(I.jsx)(m.a,{span:8,children:Object(I.jsxs)(L.a.Title,{level:5,children:["Rating:",C?Object(I.jsx)(K.a,{disabled:!0,defaultValue:C}):"   Not Available"]})}),Object(I.jsx)(m.a,{span:8,children:Object(I.jsxs)(L.a.Title,{level:5,children:["Address: ",ae]})})]}),Object(I.jsxs)(L.a.Text,{children:["Description: ",S]}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsxs)(L.a.Title,{level:5,children:["Status:",U?Object(I.jsx)("span",{style:{color:"green"},children:"   Opening"}):Object(I.jsxs)("span",{children:[Object(I.jsx)("span",{style:{color:"red"},children:"    Closed"}),"(Will be open at ",X,")"]})]}),Object(I.jsx)(W.a,{}),Object(I.jsx)("br",{}),Object(I.jsx)(K.a,{style:{backgroundColor:"white",padding:"1%"},onChange:function(e){return he(e)},disabled:fe,value:Oe}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(h.a,{type:"primary",onClick:Ee,disabled:fe,children:"Add Rate For Food Shop"}),Object(I.jsx)("br",{}),Object(I.jsx)(W.a,{}),Object(I.jsx)(p.a.Search,{allowClear:!0,enterButton:!0,style:{width:"50%"},placeholder:"Search for food",onSearch:ke}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsxs)("div",{children:[Object(I.jsx)(L.a.Text,{children:"Category Filter: "}),Object(I.jsx)(Z.a.Group,{onChange:function(e){return Se(e.target.value)},children:oe.map((function(e,t){return Object(I.jsx)(Z.a.Button,{value:e.food_category_id,children:e.food_category_name},t)}))})]}),Object(I.jsx)("br",{}),Object(I.jsxs)("div",{children:[0===de.length?Object(I.jsx)(L.a.Title,{level:3,children:"Sorry, no food items found"}):Object(I.jsx)(I.Fragment,{}),de.map((function(e,t){return Object(I.jsx)("div",{style:{width:220,float:"left",margin:"2%"},children:Object(I.jsx)(o.b,{to:"/customer/food_item/"+e.food_item_id,children:Object(I.jsx)(j.a,{hoverable:!0,cover:Object(I.jsx)("img",{style:{height:200},alt:"food_item",src:e.image_url}),bordered:!1,children:Object(I.jsx)(j.a.Meta,{title:e.food_name,description:Object(I.jsxs)("div",{children:[Object(I.jsx)("p",{children:e.food_category_name}),Object(I.jsxs)("p",{children:["$ ",e.food_price]}),e.food_average_rating?Object(I.jsx)(K.a,{disabled:!0,defaultValue:e.food_average_rating}):Object(I.jsx)(K.a,{disabled:!0,defaultValue:0})]})})})})},t)}))]})]})},te=r(329),re=r(195),ae=n.a.createContext({cart:[],addProductToCart:function(e){},addProductToCartByOne:function(e){},deleteProductFromCartByOne:function(e){},removeProductFromCart:function(e){},clearCart:function(){}}),ne=function(e){var t=Object(a.useContext)(ae),r=Object(a.useState)(0),n=Object(l.a)(r,2),c=n[0],s=n[1],o=Object(a.useState)(0),i=Object(l.a)(o,2),d=i[0],j=i[1],b=Object(a.useState)(!1),p=Object(l.a)(b,2),O=p[0],f=p[1],_=Object(a.useState)(null),g=Object(l.a)(_,2),y=g[0],T=g[1],S=Object(a.useState)(""),w=Object(l.a)(S,2),E=w[0],k=w[1],C=Object(a.useState)(""),R=Object(l.a)(C,2),D=R[0],P=R[1],F=Object(a.useState)(""),G=Object(l.a)(F,2),M=G[0],N=G[1],U=Object(a.useState)(0),q=Object(l.a)(U,2),B=q[0],Y=q[1],$=Object(a.useState)(""),V=Object(l.a)($,2),J=V[0],Q=V[1],X=Object(a.useState)(0),Z=Object(l.a)(X,2),ee=Z[0],ne=Z[1];Object(a.useEffect)(Object(H.a)(z.a.mark((function t(){var r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ce(e.match.params.food_item_id);case 3:r=t.sent,s(r.food_item_id),j(r.food_shop_id),f(r.active),T(r.food_average_rating),k(r.food_category_name),P(r.food_description),N(r.food_name),Y(r.food_price),Q(r.image_url),t.next=18;break;case 15:return t.prev=15,t.t0=t.catch(0),t.abrupt("return",u.b.error("Sorry, fail to get food item detail!"));case 18:case"end":return t.stop()}}),t,null,[[0,15]])}))),[]);var ce=function(){var e=Object(H.a)(z.a.mark((function e(t){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:A.GET_FOOD_ITEM_DETAIL_BY_ID+"?food_item_id="+t});case 2:return r=e.sent,e.abrupt("return",r.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsxs)("div",{children:[Object(I.jsx)(h.a,{style:{float:"left"},type:"primary",onClick:function(){return e.history.push("/customer/food_shop/"+d)},children:"Go Back"}),Object(I.jsx)("br",{}),Object(I.jsx)(W.a,{}),Object(I.jsxs)(x.a,{children:[Object(I.jsx)(m.a,{span:12,children:Object(I.jsx)("img",{alt:"food_item",src:J,style:{width:"80%"}})}),Object(I.jsxs)(m.a,{span:12,children:[Object(I.jsx)(L.a.Title,{level:2,children:M}),Object(I.jsxs)(L.a.Text,{children:["Description: ",D]})]})]}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsxs)(x.a,{children:[Object(I.jsx)(m.a,{span:8,children:Object(I.jsxs)(L.a.Title,{level:5,children:["Price: $",B]})}),Object(I.jsx)(m.a,{span:8,children:Object(I.jsxs)(L.a.Title,{level:5,children:["Category: ",E]})}),Object(I.jsx)(m.a,{span:8,children:Object(I.jsxs)(L.a.Title,{level:5,children:["Rating:",y?Object(I.jsx)(K.a,{disabled:!0,defaultValue:y}):"   Not Available"]})})]}),Object(I.jsx)("br",{}),Object(I.jsxs)(x.a,{children:[Object(I.jsxs)(m.a,{span:12,children:[Object(I.jsx)(L.a.Title,{level:5,style:{marginTop:"2%",marginRight:"2%",float:"left"},children:"Quantity:"}),Object(I.jsx)(h.a,{shape:"circle",size:"small",icon:Object(I.jsx)(te.a,{}),style:{margin:"2%"},disabled:!O,onClick:function(){ee>=1&&ne((function(e){return e-1}))}}),Object(I.jsx)(L.a.Text,{children:ee}),Object(I.jsx)(h.a,{shape:"circle",size:"small",icon:Object(I.jsx)(re.a,{}),style:{margin:"2%"},disabled:!O,onClick:function(){ne((function(e){return e+1}))}})]}),Object(I.jsx)(m.a,{span:12,children:Object(I.jsx)(h.a,{type:"primary",style:{width:"80%",float:"right"},disabled:!O,onClick:function(){return ee<=0?u.b.error("Sorry, quantity can not be zero!"):(t.addProductToCart({food_item_id:c,food_name:M,food_price:B,quantity:ee}),e.history.push("/customer/food_shop/"+d))},children:"Add to Cart"})})]})]})},ce=function(e){var t=Object(a.useContext)(ae),r=Object(a.useRef)();return Object(a.useEffect)((function(){window.paypal.Buttons({createOrder:function(){return v()({method:"post",url:A.CREATE_ORDER,data:{email_address:localStorage.getItem("customerEmail"),item_list:t.cart,hst:e.hst,note:e.note}}).then((function(e){return e.data.success?e.data.id:u.b.error(e.data.message)})).catch((function(e){return u.b.error(e.message)}))},onApprove:function(r,a){return a.order.capture().then((function(){v()({method:"post",url:A.ADD_ORDER_TO_DATABASE,data:{email_address:localStorage.getItem("customerEmail"),item_list:t.cart,hst:e.hst,note:e.note}}).then((function(e){return e.data.success?(t.clearCart(),u.b.success("Purchase Complete")):u.b.error(e.data.message)})).catch((function(e){return u.b.error(e.message)}))}))}}).render(r.current)}),[]),Object(I.jsx)("div",{children:Object(I.jsx)("div",{ref:r})})},se=function(){var e=Object(a.useContext)(ae),t=Object(a.useState)(""),r=Object(l.a)(t,2),n=r[0],c=r[1],s=Object(a.useState)(0),o=Object(l.a)(s,2),i=o[0],u=o[1],d=Object(a.useState)(0),j=Object(l.a)(d,2),b=j[0],O=j[1],f=Object(a.useState)(!1),_=Object(l.a)(f,2),g=_[0],v=_[1];Object(a.useEffect)((function(){var e=y();u(e),O(.05*e+.08*e)}),[e.cart]);var y=function(){for(var t=0,r=0;r<e.cart.length;r++)t+=e.cart[r].food_price*e.cart[r].quantity;return t};return Object(I.jsx)("div",{children:0===e.cart.length?Object(I.jsx)(L.a.Title,{level:3,children:"Nothing in the cart"}):Object(I.jsxs)("div",{children:[Object(I.jsxs)(x.a,{children:[Object(I.jsx)(m.a,{span:5,children:Object(I.jsx)(L.a.Title,{level:4,children:"Quantity"})}),Object(I.jsx)(m.a,{span:5,children:Object(I.jsx)(L.a.Title,{level:4,children:"Name"})}),Object(I.jsx)(m.a,{span:5,children:Object(I.jsx)(L.a.Title,{level:4,children:"Price"})}),Object(I.jsx)(m.a,{span:5,children:Object(I.jsx)(L.a.Title,{level:4,children:"Sub Total"})}),Object(I.jsx)(m.a,{span:4,children:Object(I.jsx)(L.a.Title,{level:4,children:"Action"})})]}),Object(I.jsx)("br",{}),e.cart.map((function(t,r){return Object(I.jsxs)("div",{children:[Object(I.jsxs)(x.a,{children:[Object(I.jsxs)(m.a,{span:5,children:[Object(I.jsx)(h.a,{shape:"circle",size:"small",icon:Object(I.jsx)(te.a,{}),style:{margin:"2%"},onClick:function(){return r=t,void e.deleteProductFromCartByOne(r);var r}}),Object(I.jsx)(L.a.Text,{children:t.quantity}),Object(I.jsx)(h.a,{shape:"circle",size:"small",icon:Object(I.jsx)(re.a,{}),style:{margin:"2%"},onClick:function(){return r=t,void e.addProductToCartByOne(r);var r}})]}),Object(I.jsx)(m.a,{span:5,children:Object(I.jsx)(L.a.Text,{children:t.food_name})}),Object(I.jsx)(m.a,{span:5,children:Object(I.jsxs)(L.a.Text,{children:["$",t.food_price]})}),Object(I.jsx)(m.a,{span:5,children:Object(I.jsxs)(L.a.Text,{children:["$",Math.floor(t.food_price*t.quantity*100)/100]})}),Object(I.jsx)(m.a,{span:4,children:Object(I.jsx)(h.a,{danger:!0,onClick:function(){return r=t,void e.removeProductFromCart(r);var r},children:"Delete"})})]}),Object(I.jsx)("br",{})]},r)})),Object(I.jsx)(W.a,{}),Object(I.jsx)(L.a.Title,{level:5,children:"Please add note for your order"}),Object(I.jsx)("br",{}),Object(I.jsx)(p.a.TextArea,{rows:5,value:n,onChange:function(e){return c(e.target.value)},placeholder:"eg. please add ketchup"}),Object(I.jsx)(W.a,{}),Object(I.jsx)("div",{children:g?Object(I.jsx)(ce,{hst:b,note:n}):Object(I.jsx)(I.Fragment,{})}),Object(I.jsxs)(L.a.Title,{level:5,children:["Foods: $",Math.floor(100*i)/100]}),Object(I.jsxs)(L.a.Title,{level:5,children:["HST: $",Math.floor(100*b)/100]}),Object(I.jsxs)(L.a.Title,{level:3,children:["Total: $",Math.floor(100*(i+b))/100]}),Object(I.jsx)("br",{}),Object(I.jsx)(h.a,{onClick:function(){v(!0)},type:"primary",block:!0,style:{float:"right"},children:"Purchase"})]})})},oe=r(313),ie=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),r=t[0],n=t[1],c=Object(a.useState)(null),s=Object(l.a)(c,2),o=s[0],i=s[1],d=Object(a.useState)(null),j=Object(l.a)(d,2),b=j[0],O=j[1],f=Object(a.useState)(null),_=Object(l.a)(f,2),g=_[0],T=_[1],S=Object(a.useState)(null),w=Object(l.a)(S,2),E=w[0],k=w[1],C=Object(a.useState)(null),R=Object(l.a)(C,2),P=R[0],F=R[1],G=Object(a.useState)(null),M=Object(l.a)(G,2),N=M[0],U=M[1],q=Object(a.useState)(null),B=Object(l.a)(q,2),$=B[0],V=B[1],J=Object(a.useState)(null),Q=Object(l.a)(J,2),X=Q[0],K=Q[1],Z=Object(a.useState)(null),ee=Object(l.a)(Z,2),te=ee[0],re=ee[1],ae=Object(a.useState)(null),ne=Object(l.a)(ae,2),ce=ne[0],se=ne[1],ie=Object(a.useState)(null),le=Object(l.a)(ie,2),ue=le[0],de=le[1],je=Object(a.useState)(null),be=Object(l.a)(je,2),pe=be[0],Oe=be[1],he=Object(a.useState)([]),xe=Object(l.a)(he,2),me=xe[0],fe=xe[1];Object(a.useEffect)(Object(H.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_e(localStorage.getItem("customerEmail"));case 3:t=e.sent,n(t.first_name),i(t.last_name),O(t.email_address),T(t.email_address),k(t.phone),F(t.phone),de(t.customer_id),Oe(t.avatar_url),K(t.address),re(t.lat),se(t.lon),e.next=20;break;case 17:return e.prev=17,e.t0=e.catch(0),e.abrupt("return",u.b.error(e.t0.message));case 20:case"end":return e.stop()}}),e,null,[[0,17]])}))),[]);var _e=function(){var e=Object(H.a)(z.a.mark((function e(t){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:A.GET_CUSTOMER_DETAIL+"?email_address="+t});case 2:return r=e.sent,e.abrupt("return",r.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=Object(H.a)(z.a.mark((function e(t){var r,a,n,c,s;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0," "!==t[t.length-1]&&""!==t){e.next=5;break}return e.abrupt("return");case 5:return r=t.replace(" ","%20"),e.next=8,v()({method:"get",url:"http://dev.virtualearth.net/REST/v1/Locations/"+r+"?key="+D.BingMap_key});case 8:for(a=e.sent,n=a.data.resourceSets[0].resources,c=[],s=0;s<n.length;s++)c.push({value:n[s].name,key:s});fe(c);case 13:e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return");case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=Object(H.a)(z.a.mark((function e(t){var r,a,n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0," "!==t[t.length-1]&&""!==t){e.next=5;break}return e.abrupt("return");case 5:return r=t.replace(" ","%20"),e.next=8,v()({method:"get",url:"http://dev.virtualearth.net/REST/v1/Locations/"+r+"?key="+D.BingMap_key});case 8:if(a=e.sent,1!==(n=a.data.resourceSets[0].resources).length){e.next=16;break}K(t),re(n[0].point.coordinates[0]),se(n[0].point.coordinates[1]),e.next=17;break;case 16:return e.abrupt("return");case 17:e.next=22;break;case 19:return e.prev=19,e.t0=e.catch(0),e.abrupt("return");case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=Object(H.a)(z.a.mark((function e(t){var r,a,n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.target.files[0],(a=new FormData).append("image",r),e.next=6,v()({method:"post",url:A.CUSTOMER_UPLOAD_AVATAR+"?id="+ue,data:a,headers:{"Content-Type":"multipart/form-data;charset=UTF-8"}});case 6:if(!(n=e.sent).data.success){e.next=12;break}return u.b.success("Upload Avatar Successful"),e.abrupt("return",Oe(n.data.message));case 12:return e.abrupt("return",u.b.error("Upload Avatar fail, please try again!"));case 13:e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return",u.b.error("Something wrong happened, please try again!"));case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),Te=function(){var e=Object(H.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(r&&o&&b&&g&&E&&P&&N&&$&&ue&&X&&te&&ce)){e.next=17;break}if(N===$){e.next=6;break}return e.abrupt("return",u.b.error("Confirm password is not same as the new password you set. Please try again!"));case 6:return t={first_name:r,last_name:o,old_email_address:b,new_email_address:g,old_phone:E,new_phone:P,password:N,customer_id:ue,address:X,lat:te,lon:ce,avatar_url:pe},e.next=9,v()({method:"post",url:A.UPDATE_CUSTOMER_PROFILE,data:t});case 9:if(!e.sent.data.success){e.next=14;break}return e.abrupt("return",u.b.success("Update profile successful!"));case 14:return e.abrupt("return",u.b.error("Update fail, pleaes try again!"));case 15:e.next=18;break;case 17:return e.abrupt("return",u.b.error("Please complete information!"));case 18:e.next=23;break;case 20:return e.prev=20,e.t0=e.catch(0),e.abrupt("return",u.b.error(e.t0.response.data.message));case 23:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(){return e.apply(this,arguments)}}();return Object(I.jsxs)("div",{children:[Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{style:{marginLeft:"40%"},children:pe?Object(I.jsx)(Y.a,{size:128,src:pe}):Object(I.jsx)(Y.a,{size:128,icon:Object(I.jsx)(y.a,{})})}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(p.a,{size:"large",style:{width:"90%"},type:"file",accept:"image/jpeg,image/jpg,image/png",id:"imageFile",onChange:ye})]}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsxs)(x.a,{children:[Object(I.jsxs)(m.a,{span:12,children:[Object(I.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"First Name"}),Object(I.jsx)(p.a,{size:"large",type:"text",id:"firstName",style:{width:"80%"},onChange:function(e){return n(e.target.value)},value:r})]}),Object(I.jsxs)(m.a,{span:12,children:[Object(I.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Last Name"}),Object(I.jsx)(p.a,{size:"large",type:"text",id:"lastName",style:{width:"80%"},onChange:function(e){return i(e.target.value)},value:o})]})]}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsxs)(x.a,{children:[Object(I.jsxs)(m.a,{span:12,children:[Object(I.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Email Address"}),Object(I.jsx)(p.a,{size:"large",type:"email",placeholder:"abc@abc.com",id:"emailAddress",style:{width:"80%"},onChange:function(e){return T(e.target.value)},value:g})]}),Object(I.jsxs)(m.a,{span:12,children:[Object(I.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Phone Number"}),Object(I.jsx)(p.a,{size:"large",type:"tel",pattern:"\\([0-9]{3}\\) [0-9]{3}-[0-9]{4}",placeholder:"(111) 111-1111",id:"phone",style:{width:"80%"},onChange:function(e){return F(e.target.value)},value:P})]})]}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsxs)(x.a,{children:[Object(I.jsxs)(m.a,{span:12,children:[Object(I.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"New Password"}),Object(I.jsx)(p.a.Password,{size:"large",style:{width:"80%"},id:"newPassword",placeholder:"New Password",value:N,onChange:function(e){return U(e.target.value)}})]}),Object(I.jsxs)(m.a,{span:12,children:[Object(I.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Confirm Your Password"}),Object(I.jsx)(p.a,{size:"large",style:{width:"80%"},type:"password",id:"confirmNewPassword",placeholder:"Confirm New Password",value:$,onChange:function(e){return V(e.target.value)}})]})]}),Object(I.jsx)(W.a,{}),Object(I.jsx)(L.a.Title,{level:5,children:"Configure Your Address for Shopping Here"}),Object(I.jsx)("br",{}),Object(I.jsxs)(x.a,{children:[Object(I.jsx)(m.a,{span:12,children:te&&ce&&Object(I.jsx)("img",{style:{width:"90%"},src:"https://dev.virtualearth.net/REST/v1/Imagery/Map/Road/".concat(te,",").concat(ce,"/15?mapSize=500,300&format=png&pushpin=").concat(te,",").concat(ce,";64;&key=").concat(D.BingMap_key),alt:"map"})}),Object(I.jsxs)(m.a,{span:12,children:[Object(I.jsx)(oe.a,{size:"large",style:{width:"80%"},id:"addressText",options:me,onSearch:ge,onSelect:ve,required:!0}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsxs)(L.a.Title,{level:5,style:{marginLeft:"20px"},children:["Address: ",X||""]}),Object(I.jsxs)(L.a.Title,{level:5,style:{marginLeft:"20px"},children:["Latitude: ",te||""]}),Object(I.jsxs)(L.a.Title,{level:5,style:{marginLeft:"20px"},children:["Longitude: ",ce||""]})]})]}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(h.a,{type:"primary",size:"large",block:!0,onClick:Te,children:"Edit Profile"})]})},le=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),r=t[0],n=t[1];Object(a.useEffect)(Object(H.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c(localStorage.getItem("customerEmail"));case 3:t=e.sent,n(t),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",u.b.error("Sorry, could not get favourite food shops!"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]);var c=function(){var e=Object(H.a)(z.a.mark((function e(t){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:A.GET_FAVOURITE_FOOD_SHOPS+"?email_address="+t});case 2:return r=e.sent,e.abrupt("return",r.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsxs)("div",{children:[0===r.length?Object(I.jsx)(L.a.Title,{level:3,children:"No Favourite Shops in List"}):Object(I.jsx)(I.Fragment,{}),r.map((function(e,t){return Object(I.jsx)("div",{style:{width:220,float:"left",margin:"2%"},children:Object(I.jsx)(o.b,{to:"/customer/food_shop/"+e.food_shop_id,children:Object(I.jsx)(j.a,{hoverable:!0,cover:Object(I.jsx)("img",{style:{height:200},alt:"food_shop",src:e.image_url}),bordered:!1,children:Object(I.jsx)(j.a.Meta,{title:e.food_shop_name,description:Object(I.jsxs)("div",{children:[Object(I.jsx)("p",{children:e.working_address}),Object(I.jsxs)("p",{children:[e.food_shop_category_name,Object(I.jsx)("span",{style:{float:"right"},children:Object(I.jsx)(Q.a,{})})]})]})})})})},t)}))]})},ue=function(e){var t=Object(a.useState)([]),r=Object(l.a)(t,2),n=r[0],c=r[1];Object(a.useEffect)(Object(H.a)(z.a.mark((function t(){var r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s(e.match.params.text,localStorage.getItem("customerEmail"));case 3:r=t.sent,c(r),t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",u.b.error("Sorry, could not get search reaults!"));case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),[e.match.params.text]);var s=function(){var e=Object(H.a)(z.a.mark((function e(t,r){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:A.GET_SEARCH_RESULTS+"?text="+t+"&&email_address="+r});case 2:return a=e.sent,e.abrupt("return",a.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();return Object(I.jsxs)("div",{children:[0===n.length?Object(I.jsx)(L.a.Title,{level:3,children:"No result found"}):Object(I.jsx)(I.Fragment,{}),n.map((function(e,t){return Object(I.jsx)("div",{style:{width:220,float:"left",margin:"2%"},children:Object(I.jsx)(o.b,{to:"/customer/food_shop/"+e.food_shop_id,children:Object(I.jsx)(j.a,{hoverable:!0,style:{height:400},cover:Object(I.jsx)("img",{style:{height:200},alt:"food_shop",src:e.image_url}),bordered:!1,children:Object(I.jsx)(j.a.Meta,{title:e.food_shop_name,description:Object(I.jsxs)("div",{children:[Object(I.jsx)("p",{children:e.working_address}),Object(I.jsxs)("p",{children:[e.food_shop_category_name,e.on_favourite?Object(I.jsx)("span",{style:{float:"right"},children:Object(I.jsx)(Q.a,{})}):Object(I.jsx)(I.Fragment,{})]})]})})})})},t)}))]})},de=function(e){var t=Object(a.useState)([]),r=Object(l.a)(t,2),n=r[0],c=r[1];Object(a.useEffect)(Object(H.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s(localStorage.getItem("customerEmail"));case 3:t=e.sent,c(t),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",u.b.error("Sorry, fail to get current orders!"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]);var s=function(){var e=Object(H.a)(z.a.mark((function e(t){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:A.GET_CURRENT_ORDERS+"?email_address="+t});case 2:return r=e.sent,e.abrupt("return",r.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsx)("div",{children:0===n.length?Object(I.jsx)(L.a.Title,{level:3,children:"You have no current orders yet"}):Object(I.jsxs)("div",{children:[Object(I.jsxs)(x.a,{children:[Object(I.jsx)(m.a,{span:6,children:Object(I.jsx)(L.a.Title,{level:4,children:"Order ID"})}),Object(I.jsx)(m.a,{span:6,children:Object(I.jsx)(L.a.Title,{level:4,children:"Created At"})}),Object(I.jsx)(m.a,{span:6,children:Object(I.jsx)(L.a.Title,{level:4,children:"Status"})}),Object(I.jsx)(m.a,{span:6,children:Object(I.jsx)(L.a.Title,{level:4,children:"Action"})})]}),Object(I.jsx)("br",{}),n.map((function(t,r){return Object(I.jsxs)("div",{children:[Object(I.jsxs)(x.a,{children:[Object(I.jsx)(m.a,{span:6,children:Object(I.jsx)(L.a.Text,{style:{paddingLeft:"10%"},children:t.order_id})}),Object(I.jsx)(m.a,{span:6,children:Object(I.jsx)(L.a.Text,{children:t.created_at})}),Object(I.jsx)(m.a,{span:6,children:Object(I.jsx)(L.a.Text,{children:t.order_status_name})}),Object(I.jsx)(m.a,{span:6,children:Object(I.jsx)(h.a,{type:"primary",onClick:function(){return r=t.order_id,e.history.push("/customer/order_detail/"+r);var r},children:"See Detail"})})]}),Object(I.jsx)("br",{})]},r)}))]})})},je=function(e){var t=Object(a.useState)([]),r=Object(l.a)(t,2),n=r[0],c=r[1];Object(a.useEffect)(Object(H.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s(localStorage.getItem("customerEmail"));case 3:t=e.sent,c(t),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",u.b.error("Sorry, fail to get order history!"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]);var s=function(){var e=Object(H.a)(z.a.mark((function e(t){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:A.GET_ORDER_HISTORY+"?email_address="+t});case 2:return r=e.sent,e.abrupt("return",r.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsx)("div",{children:0===n.length?Object(I.jsx)(L.a.Title,{level:3,children:"You have no orders in history"}):Object(I.jsxs)("div",{children:[Object(I.jsxs)(x.a,{children:[Object(I.jsx)(m.a,{span:6,children:Object(I.jsx)(L.a.Title,{level:4,children:"Order ID"})}),Object(I.jsx)(m.a,{span:6,children:Object(I.jsx)(L.a.Title,{level:4,children:"Created At"})}),Object(I.jsx)(m.a,{span:6,children:Object(I.jsx)(L.a.Title,{level:4,children:"Status"})}),Object(I.jsx)(m.a,{span:6,children:Object(I.jsx)(L.a.Title,{level:4,children:"Action"})})]}),Object(I.jsx)("br",{}),n.map((function(t,r){return Object(I.jsxs)("div",{children:[Object(I.jsxs)(x.a,{children:[Object(I.jsx)(m.a,{span:6,children:Object(I.jsx)(L.a.Text,{style:{paddingLeft:"10%"},children:t.order_id})}),Object(I.jsx)(m.a,{span:6,children:Object(I.jsx)(L.a.Text,{children:t.created_at})}),Object(I.jsx)(m.a,{span:6,children:"COMPLETE"===t.order_status_name?Object(I.jsx)(L.a.Text,{style:{color:"green",fontWeight:"bold"},children:t.order_status_name}):Object(I.jsx)(L.a.Text,{children:t.order_status_name})}),Object(I.jsx)(m.a,{span:6,children:Object(I.jsx)(h.a,{type:"primary",onClick:function(){return r=t.order_id,e.history.push("/customer/order_detail/"+r);var r},children:"See Detail"})})]}),Object(I.jsx)("br",{})]},r)}))]})})},be=function(e){var t=Object(a.useState)(null),r=Object(l.a)(t,2),n=r[0],c=r[1],s=Object(a.useState)(null),o=Object(l.a)(s,2),i=o[0],d=o[1],j=Object(a.useState)(0),b=Object(l.a)(j,2),p=b[0],O=b[1],f=Object(a.useState)(""),_=Object(l.a)(f,2),g=_[0],y=_[1],T=Object(a.useState)(0),S=Object(l.a)(T,2),w=S[0],E=S[1],k=Object(a.useState)(0),C=Object(l.a)(k,2),R=C[0],D=C[1],P=Object(a.useState)([]),F=Object(l.a)(P,2),G=F[0],M=F[1],N=Object(a.useState)(null),U=Object(l.a)(N,2),q=U[0],B=U[1];Object(a.useEffect)(Object(H.a)(z.a.mark((function t(){var r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Y(e.match.params.order_id);case 3:r=t.sent,c(r.completed_at),d(r.created_at),O(r.hst),y(r.note),E(r.total),D(r.order_id),M(r.order_items),B(r.order_status_name),t.next=18;break;case 14:return t.prev=14,t.t0=t.catch(0),u.b.error("Sorry, fail to get order detail!"),t.abrupt("return",e.history.push("/customer/"));case 18:case"end":return t.stop()}}),t,null,[[0,14]])}))),[]);var Y=function(){var e=Object(H.a)(z.a.mark((function e(t){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:A.GET_ORDER_DETAIL+"?order_id="+t});case 2:return r=e.sent,e.abrupt("return",r.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsxs)("div",{children:[Object(I.jsxs)(L.a.Title,{level:2,children:["Order ID: ",R]}),Object(I.jsxs)(L.a.Title,{level:4,children:["Created At: ",i]}),Object(I.jsxs)(L.a.Title,{level:4,children:["Completed At: ",n||"Not Available"]}),Object(I.jsxs)(L.a.Title,{level:4,children:["Status: ","COMPLETE"===q?Object(I.jsx)("span",{style:{color:"green",fontWeight:"bold"},children:q}):Object(I.jsx)("span",{children:q})]}),Object(I.jsx)("br",{}),Object(I.jsxs)(L.a.Text,{children:["Note: ",g]}),Object(I.jsx)(W.a,{}),Object(I.jsxs)(x.a,{children:[Object(I.jsx)(m.a,{span:4,children:Object(I.jsx)(L.a.Title,{level:4,children:"Food Name"})}),Object(I.jsx)(m.a,{span:4,children:Object(I.jsx)(L.a.Title,{level:4,children:"Food Price"})}),Object(I.jsx)(m.a,{span:4,children:Object(I.jsx)(L.a.Title,{level:4,children:"Quantity"})}),Object(I.jsx)(m.a,{span:4,children:Object(I.jsx)(L.a.Title,{level:4,children:"Sub Total"})}),Object(I.jsx)(m.a,{span:8,children:Object(I.jsx)(L.a.Title,{level:4,style:{paddingLeft:"30%"},children:"Action"})})]}),Object(I.jsx)("br",{}),G.map((function(t,r){return Object(I.jsxs)("div",{children:[Object(I.jsxs)(x.a,{children:[Object(I.jsx)(m.a,{span:4,children:Object(I.jsx)(L.a.Text,{children:t.food_name})}),Object(I.jsx)(m.a,{span:4,children:Object(I.jsxs)(L.a.Text,{children:["$ ",Math.floor(100*t.food_price)/100]})}),Object(I.jsx)(m.a,{span:4,children:Object(I.jsx)(L.a.Text,{children:t.quantity})}),Object(I.jsx)(m.a,{span:4,children:Object(I.jsxs)(L.a.Text,{children:["$ ",Math.floor(100*t.sub_total)/100]})}),Object(I.jsxs)(m.a,{span:8,children:[Object(I.jsx)(h.a,{disabled:"PREPARING"===q,style:{marginRight:"3%"},type:"primary",onClick:function(){return r=t.food_item_id,e.history.push("/customer/food_see_comments/"+r);var r},children:"See My Comments"}),Object(I.jsx)(h.a,{disabled:"PREPARING"===q,type:"primary",onClick:function(){return r=t.food_item_id,e.history.push("/customer/food_add_comment/"+r);var r},children:"Add New Comment"})]})]}),Object(I.jsx)("br",{})]},r)})),Object(I.jsx)(W.a,{}),Object(I.jsxs)(L.a.Title,{level:5,children:["Food Total: $ ",Math.floor(100*w)/100]}),Object(I.jsxs)(L.a.Title,{level:5,children:["HST: $ ",Math.floor(100*p)/100]}),Object(I.jsxs)(L.a.Title,{level:4,children:["Total: $ ",Math.floor(100*(w+p))/100]})]})},pe=function(e){var t=Object(a.useState)(0),r=Object(l.a)(t,2),n=r[0],c=r[1],s=Object(a.useState)(""),o=Object(l.a)(s,2),i=o[0],d=o[1],j=Object(a.useState)(null),b=Object(l.a)(j,2),O=b[0],f=b[1],_=Object(a.useState)(null),g=Object(l.a)(_,2),y=g[0],T=g[1],S=Object(a.useState)(""),w=Object(l.a)(S,2),E=w[0],k=w[1];Object(a.useEffect)(Object(H.a)(z.a.mark((function t(){var r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C(e.match.params.food_item_id);case 3:r=t.sent,c(r.food_item_id),d(r.food_name),f(r.image_url),t.next=12;break;case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",u.b.error("Sorry, fail to get food item detail!"));case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))),[]);var C=function(){var e=Object(H.a)(z.a.mark((function e(t){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:A.GET_FOOD_ITEM_DETAIL_BY_ID+"?food_item_id="+t});case 2:return r=e.sent,e.abrupt("return",r.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var t=Object(H.a)(z.a.mark((function t(){var r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,y){t.next=3;break}return t.abrupt("return",u.b.error("You must provide your rating!"));case 3:return r={food_item_id:n,email_address:localStorage.getItem("customerEmail"),comment:E,rating:y},t.next=6,v()({method:"post",url:A.ADD_NEW_COMMENT,data:r});case 6:if(!t.sent.data.success){t.next=12;break}return u.b.success("Thank you for your feedback!"),t.abrupt("return",e.history.push("/customer/"));case 12:return t.abrupt("return",u.b.error("Sorry, fail to add comment, please try again!"));case 13:t.next=18;break;case 15:return t.prev=15,t.t0=t.catch(0),t.abrupt("return",u.b.error("Sorry, fail to submit comment!"));case 18:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(){return t.apply(this,arguments)}}();return Object(I.jsx)("div",{children:Object(I.jsxs)(x.a,{children:[Object(I.jsx)(m.a,{span:12,children:O&&Object(I.jsx)("img",{src:O,alt:"food",style:{width:"70%"}})}),Object(I.jsxs)(m.a,{span:12,children:[Object(I.jsx)(L.a.Title,{level:3,children:i}),Object(I.jsx)("br",{}),Object(I.jsx)(L.a.Title,{level:5,children:"Provide your rating here"}),Object(I.jsx)(K.a,{style:{backgroundColor:"white",padding:"1%"},value:y,onChange:function(e){return T(e)}}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(L.a.Title,{level:5,children:"Provide your comment here (Optional)"}),Object(I.jsx)(p.a.TextArea,{rows:5,value:E,onChange:function(e){return k(e.target.value)}}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(h.a,{type:"primary",block:!0,onClick:R,children:"Submit"})]})]})})},Oe=r(315),he=function(e){var t=Object(a.useState)(""),r=Object(l.a)(t,2),n=r[0],c=r[1],s=Object(a.useState)(null),o=Object(l.a)(s,2),i=o[0],d=o[1],j=Object(a.useState)([]),b=Object(l.a)(j,2),p=b[0],O=b[1];Object(a.useEffect)(Object(H.a)(z.a.mark((function t(){var r,a,n;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x(localStorage.getItem("customerEmail"),e.match.params.food_item_id);case 3:for(r=t.sent,c(r.food_name),d(r.image_url),a=r.comment_list,n=0;n<a.length;n++)a[n].key=n;O(a),t.next=14;break;case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return",u.b.error("Sorry, fail to get comment list!"));case 14:case"end":return t.stop()}}),t,null,[[0,11]])}))),[]);var x=function(){var e=Object(H.a)(z.a.mark((function e(t,r){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:A.GET_COMMENT_LIST+"?email_address="+t+"&&food_item_id="+r});case 2:return a=e.sent,e.abrupt("return",a.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),m=function(){var t=Object(H.a)(z.a.mark((function t(r){var a,n,c,s;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("delete "+r),t.prev=1,a={food_comment_id:r},t.next=5,v()({method:"post",url:A.DELETE_COMMENT,data:a});case 5:if(!t.sent.data.success){t.next=16;break}return u.b.success("Delete comment successful!"),t.next=10,x(localStorage.getItem("customerEmail"),e.match.params.food_item_id);case 10:for(n=t.sent,c=n.comment_list,s=0;s<c.length;s++)c[s].key=s;O(c),t.next=17;break;case 16:return t.abrupt("return",u.b.error("Fail to delete comment, please try again!"));case 17:t.next=22;break;case 19:return t.prev=19,t.t0=t.catch(1),t.abrupt("return",u.b.error("Fail to delete comment, please try again!"));case 22:case"end":return t.stop()}}),t,null,[[1,19]])})));return function(e){return t.apply(this,arguments)}}();return Object(I.jsxs)("div",{children:[i&&Object(I.jsx)("div",{style:{width:"100%",height:"150px",overflow:"hidden"},children:Object(I.jsx)("img",{alt:"food",src:i,style:{width:"100%",marginTop:"-50%"}})}),Object(I.jsx)("br",{}),Object(I.jsxs)(L.a.Title,{level:3,children:["Your Comments for ",n]}),Object(I.jsx)(W.a,{}),Object(I.jsx)(Oe.a,{bordered:!0,dataSource:p,columns:[{title:"Comment ID",dataIndex:"food_comment_id"},{title:"Created At",dataIndex:"created_at"},{title:"Rating",dataIndex:"rating",render:function(e){return Object(I.jsx)(K.a,{disabled:!0,value:e})}},{title:"Comment",dataIndex:"comment"},{title:"Action",dataIndex:"food_comment_id",render:function(t){return Object(I.jsxs)("div",{children:[Object(I.jsx)(h.a,{type:"primary",style:{marginRight:"5%"},onClick:function(){return function(t){return e.history.push("/customer/food_edit_comment/"+t)}(t)},children:"Edit"}),Object(I.jsx)(h.a,{type:"primary",onClick:function(){return m(t)},children:"Delete"})]})}}]})]})},xe=function(e){var t=Object(a.useState)(0),r=Object(l.a)(t,2),n=r[0],c=r[1],s=Object(a.useState)(""),o=Object(l.a)(s,2),i=o[0],d=o[1],j=Object(a.useState)(""),b=Object(l.a)(j,2),O=b[0],f=b[1],_=Object(a.useState)(null),g=Object(l.a)(_,2),y=g[0],T=g[1],S=Object(a.useState)(null),w=Object(l.a)(S,2),E=w[0],k=w[1];Object(a.useEffect)(Object(H.a)(z.a.mark((function t(){var r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C(e.match.params.food_comment_id);case 3:r=t.sent,c(r.food_comment_id),d(r.food_name),f(r.comment),T(r.image_url),k(r.rating),t.next=14;break;case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return",u.b.error("Sorry, fail to get comment detail!"));case 14:case"end":return t.stop()}}),t,null,[[0,11]])}))),[]);var C=function(){var e=Object(H.a)(z.a.mark((function e(t){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:A.GET_COMMENT_DETAIL+"?food_comment_id="+t});case 2:return r=e.sent,e.abrupt("return",r.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var t=Object(H.a)(z.a.mark((function t(){var r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r={comment:O,rating:E,food_comment_id:n},t.next=4,v()({method:"post",url:A.EDIT_COMMENT,data:r});case 4:if(!t.sent.data.success){t.next=10;break}return u.b.success("Edit feedback successful!"),t.abrupt("return",e.history.push("/customer/"));case 10:return t.abrupt("return",u.b.error("Sorry, fail to edit comment, please try again!"));case 11:t.next=16;break;case 13:return t.prev=13,t.t0=t.catch(0),t.abrupt("return",u.b.error("Sorry, fail to edit comment!"));case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(){return t.apply(this,arguments)}}();return Object(I.jsx)("div",{children:Object(I.jsxs)(x.a,{children:[Object(I.jsx)(m.a,{span:12,children:y&&Object(I.jsx)("img",{src:y,alt:"food",style:{width:"70%"}})}),Object(I.jsxs)(m.a,{span:12,children:[Object(I.jsx)(L.a.Title,{level:3,children:i}),Object(I.jsx)("br",{}),Object(I.jsx)(L.a.Title,{level:5,children:"Edit your rating here"}),Object(I.jsx)(K.a,{style:{backgroundColor:"white",padding:"1%"},value:E||0,onChange:function(e){return k(e)}}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(L.a.Title,{level:5,children:"Edit your comment here"}),Object(I.jsx)(p.a.TextArea,{rows:5,value:O,onChange:function(e){return f(e.target.value)}}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(h.a,{type:"primary",block:!0,onClick:R,children:"Edit"})]})]})})},me=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),r=t[0],n=t[1];Object(a.useEffect)(Object(H.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c();case 3:t=e.sent,n(t),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",u.b.error("Sorry, fail to get data"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]);var c=function(){var e=Object(H.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:A.GET_QUESTION_ANSWER});case 2:return t=e.sent,e.abrupt("return",t.data.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(I.jsx)("div",{children:r.map((function(e,t){return Object(I.jsxs)("div",{children:[Object(I.jsx)(L.a.Title,{level:3,children:e.question_content}),Object(I.jsx)(L.a.Text,{children:e.answer_content}),Object(I.jsx)("br",{}),Object(I.jsx)(W.a,{})]},t)}))})},fe=function(e){var t=Object(a.useContext)(ae),r=Object(a.useState)(!1),n=Object(l.a)(r,2),c=n[0],s=n[1],j=Object(a.useState)(""),b=Object(l.a)(j,2),O=b[0],h=b[1],f=Object(a.useState)(null),_=Object(l.a)(f,2),g=_[0],T=_[1];Object(a.useEffect)(Object(H.a)(z.a.mark((function t(){var r,a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,localStorage.getItem("customerSessionId")&&localStorage.getItem("customerEmail")){t.next=3;break}return t.abrupt("return",e.history.push("/customer/login"));case 3:return t.next=5,S(localStorage.getItem("customerEmail"));case 5:r=t.sent,T(r.avatar_url),a=w(),h(a+", "+r.first_name+" "+r.last_name),t.next=14;break;case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return",u.b.error(t.t0.message));case 14:case"end":return t.stop()}}),t,null,[[0,11]])}))),[]);var S=function(){var e=Object(H.a)(z.a.mark((function e(t){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:A.GET_CUSTOMER_DETAIL+"?email_address="+t});case 2:return r=e.sent,e.abrupt("return",r.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=(new Date).getHours();return e>=6&&e<=12?"Good Morning":e>12&&e<=18?"Good Afternoon":"Good Night"},E=Object(I.jsxs)(q.a,{onClick:function(r){switch(r.key){case"1":e.history.push("/customer/current_order");break;case"2":e.history.push("/customer/order_history");break;case"3":e.history.push("/customer/edit_profile");break;case"4":e.history.push("/customer/my_favourite");break;case"6":e.history.push("/customer/help");break;case"7":s(!0),v()({method:"post",url:A.LOGOUT_URL,withCredentials:!0}).then((function(r){return s(!1),r.data.success?(localStorage.removeItem("customerSessionId"),localStorage.removeItem("customerEmail"),u.b.success(r.data.message),t.clearCart(),e.history.push("/customer/login")):u.b.error(r.data.message)})).catch((function(e){return s(!1),u.b.error(e.response.data.message)}))}},children:[Object(I.jsx)(q.a.Item,{style:{borderBottom:"1px solid black"},children:"Current Order"},"1"),Object(I.jsx)(q.a.Item,{children:"Order History"},"2"),Object(I.jsx)(q.a.Item,{children:"Profile"},"3"),Object(I.jsx)(q.a.Item,{children:"My Favourite"},"4"),Object(I.jsx)(q.a.Item,{children:"Help"},"6"),Object(I.jsx)(q.a.Item,{children:"Log Out"},"7")]});return Object(I.jsx)("div",{children:Object(I.jsxs)(d.a,{tip:"Loading...",spinning:c,children:[Object(I.jsx)("div",{className:"header",children:Object(I.jsxs)(x.a,{type:"flex",justify:"center",children:[Object(I.jsx)(m.a,{xs:24,sm:24,md:8,lg:12,xl:12,children:Object(I.jsx)(o.b,{to:"/customer/",children:Object(I.jsx)("span",{className:"header-logo",children:O})})}),Object(I.jsxs)(m.a,{xs:0,sm:0,md:16,lg:10,xl:8,children:[Object(I.jsx)(p.a.Search,{allowClear:!0,enterButton:!0,style:{width:"60%",margin:"1% auto"},placeholder:"Search what you want",onSearch:function(t){return t?e.history.push("/customer/search_results/"+t):u.b.warn("Search text can not be blank!")}}),Object(I.jsx)("span",{onClick:function(){return e.history.push("/customer/cart")},style:{cursor:"pointer",margin:"3%"},children:Object(I.jsx)(B.a,{count:t.cart.length,children:Object(I.jsx)(Y.a,{size:"large",icon:Object(I.jsx)(J.a,{})})})}),Object(I.jsx)("span",{style:{cursor:"pointer"},children:Object(I.jsx)($.a,{overlay:E,placement:"bottomCenter",children:g?Object(I.jsx)(Y.a,{size:"large",src:g}):Object(I.jsx)(Y.a,{size:"large",icon:Object(I.jsx)(y.a,{})})})})]})]})}),Object(I.jsx)(V.a,{className:"comm-main",children:Object(I.jsx)(V.a.Content,{style:{margin:"10px 5%"},children:Object(I.jsxs)("div",{style:{padding:24,minHeight:360},children:[Object(I.jsx)(i.b,{path:"/customer/",exact:!0,component:X}),Object(I.jsx)(i.b,{path:"/customer/food_shop/:food_shop_id",exact:!0,component:ee}),Object(I.jsx)(i.b,{path:"/customer/food_item/:food_item_id",exact:!0,component:ne}),Object(I.jsx)(i.b,{path:"/customer/cart",exact:!0,component:se}),Object(I.jsx)(i.b,{path:"/customer/edit_profile",exact:!0,component:ie}),Object(I.jsx)(i.b,{path:"/customer/my_favourite",exact:!0,component:le}),Object(I.jsx)(i.b,{path:"/customer/search_results/:text",exact:!0,component:ue}),Object(I.jsx)(i.b,{path:"/customer/current_order",exact:!0,component:de}),Object(I.jsx)(i.b,{path:"/customer/order_history",exact:!0,component:je}),Object(I.jsx)(i.b,{path:"/customer/order_detail/:order_id",exact:!0,component:be}),Object(I.jsx)(i.b,{path:"/customer/food_add_comment/:food_item_id",exact:!0,component:pe}),Object(I.jsx)(i.b,{path:"/customer/food_see_comments/:food_item_id",exact:!0,component:he}),Object(I.jsx)(i.b,{path:"/customer/food_edit_comment/:food_comment_id",exact:!0,component:xe}),Object(I.jsx)(i.b,{path:"/customer/help",exact:!0,component:me})]})})}),Object(I.jsx)(W.a,{}),Object(I.jsx)(R,{})]})})},_e=(r(307),r(308),"http://144.34.175.242/api/manager_api/"),ge="http://144.34.175.242/api/manager_food_shop_api/",ve="http://144.34.175.242/api/manager_food_item_api/",ye="http://144.34.175.242/api/manager_order_api/",Te="http://144.34.175.242/api/manager_report_api/",Se={DEFAULT_URL:_e,APPLICATION_URL:"http://144.34.175.242/manager/",REGISTER_URL:_e+"manager_register/",LOGIN_URL:_e+"manager_login/",LOGOUT_URL:_e+"manager_logout/",RESET_PASSWORD:_e+"manager_password_reset/",GET_MANAGER_DETAIL:_e+"manager_detail",UPDATE_MANAGER_ACCOUNT:_e+"manager_update_account",UPDATE_MANAGER_PROFILE:_e+"manager_update_profile",MANAGER_UPLOAD_AVATAR:_e+"manager_upload_avatar",ADD_FOOD_SHOP_URL:ge+"add_food_shop",ADD_FOOD_CATEGORY:ge+"add_food_category",GET_FOOD_SHOP_LIST:ge+"get_food_shops_by_manager",GET_FOOD_SHOP_DETAIL:ge+"get_food_shops_by_food_shop",GET_FOOD_SHOP_CATEGORY_LIST:ge+"get_all_food_shop_category",GET_ALL_MATCH_FOOD_CATEGORY:ge+"get_match_food_category",UPDATE_FOOD_SHOP_ACTIVE:ge+"update_food_shop_active",UPDATE_FOOD_SHOP:ge+"update_food_shop",UPLOAD_FOOD_SHOP_IMAGE:ge+"upload_food_shop_image",ADD_FOOD_ITEM_URL:ve+"add_food_item",GET_FOOD_ITEM_LIST:ve+"get_all_food_item_by_category",GET_FOOD_ITEM_CATEGORY_LIST:ge+"get_food_category_by_food_shop",GET_FOOD_ITEM_DETAIL:ve+"get_food_item_by_food_item_id",UPDATE_FOOD_ITEM:ve+"update_food_item",UPLOAD_FOOD_ITEM_IMAGE:ve+"upload_food_item_image",DELETE_FOOD_ITEM:ve+"delete_food_item",GET_CURRENT_ORDERS:ye+"get_current_orders",GET_ORDER_HISTORY:ye+"get_order_history",GET_ORDER_DETAIL:ye+"get_order_detail",COMPLETE_ORDER:ye+"complete_order",GET_COMMENT_LIST:"http://144.34.175.242/api/manager_comment_api/get_comment_list_by_item_id",GET_REPORT_INITIAL_STATE:Te+"get_initial_state",GET_SALES_BY_TIME_PERIOD:Te+"get_sales_by_time_period",GET_SALES_BY_REGION:Te+"get_sales_by_region",GET_SALES_BY_USER_ID:Te+"get_sales_by_user_id"},we=function(){return Object(I.jsxs)("div",{className:"footer-div",children:["Copyright \xa9 ",Object(I.jsx)(o.b,{to:{pathname:Se.APPLICATION_URL},target:"_blank",children:"Charlie's Food Shop for Managers"}),Object(I.jsx)("div",{children:(new Date).getFullYear()})]})},Ee=function(e){var t=Object(a.useState)(!1),r=Object(l.a)(t,2),n=r[0],c=r[1],s=Object(a.useRef)(),i=Object(a.useRef)(),f=Object(a.useRef)(),g=D.reCAPTCHA_site_key,S=null;Object(a.useEffect)((function(){if(localStorage.getItem("sessionId"))return e.history.push("/manager")}),[]);var w=function(t){c(!0);var r={email_address:s.current.state.value,password:i.current.state.value,captcha:t};v()({method:"post",url:Se.LOGIN_URL,data:r,withCredentials:!0}).then((function(t){return c(!1),t.data.success?(f.current.state.checked&&(localStorage.setItem("rememberEmail",s.current.state.value),localStorage.setItem("rememberPass",i.current.state.value)),localStorage.setItem("sessionId",t.data.sessionId),localStorage.setItem("managerEmail",s.current.state.value),u.b.success(t.data.message),e.history.push("/manager")):u.b.error(t.data.message)})).catch((function(e){return c(!1),u.b.error(e.response.data.message)}))};return Object(I.jsx)("div",{className:"login-div",children:Object(I.jsxs)(d.a,{tip:"Loading...",spinning:n,children:[Object(I.jsx)(j.a,{title:"Welcome to Charlie's Food Shop for Managers",style:{width:400},bordered:!0,children:Object(I.jsxs)(b.a,{children:[Object(I.jsx)(p.a,{id:"emailAddress",size:"large",type:"email",prefix:Object(I.jsx)(y.a,{style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Enter Your Email Address",autoFocus:!0,defaultValue:localStorage.getItem("rememberEmail")?localStorage.getItem("rememberEmail"):null,ref:s,required:!0}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(p.a.Password,{id:"password",size:"large",placeholder:"Enter Your Password",required:!0,defaultValue:localStorage.getItem("rememberPass")?localStorage.getItem("rememberPass"):null,ref:i,prefix:Object(I.jsx)(T.a,{style:{color:"rgba(0,0,0,.25)"}})}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(O.a,{ref:f,children:"Remember me"}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(h.a,{type:"primary",size:"large",block:!0,htmlType:"submit",onClick:function(e){if(e.preventDefault(),!s.current.state.value||!i.current.state.value)return u.b.error("Please complete all the information!");S&&S.execute(g,{action:"login"}).then((function(e){w(e)}))},children:"LOG IN"}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsxs)(x.a,{children:[Object(I.jsx)(m.a,{span:12,children:Object(I.jsx)(o.b,{to:"/manager/register",children:"Do not have account?"})}),Object(I.jsx)(m.a,{span:12,style:{textAlign:"right"},children:Object(I.jsx)(o.b,{to:"/manager/reset-password",children:"Forget password?"})})]})]})}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(_.a,{ref:function(e){return S=e},sitekey:g,onResolved:function(){return console.log("Human detected.")}}),Object(I.jsx)(we,{})]})})},ke=(r(309),function(e){var t=Object(a.useState)(!1),r=Object(l.a)(t,2),n=r[0],c=r[1],s=Object(a.useRef)(),i=Object(a.useRef)(),O=Object(a.useRef)(),f=Object(a.useRef)(),g=Object(a.useRef)(),y=Object(a.useRef)(),T=D.reCAPTCHA_site_key,S=null,w=function(t){c(!0);var r={first_name:s.current.state.value,last_name:i.current.state.value,email_address:O.current.state.value,phone:f.current.state.value,password:g.current.state.value,captcha:t};v()({method:"post",url:Se.REGISTER_URL,data:r}).then((function(t){return c(!1),t.data.success?(u.b.success(t.data.message),e.history.push("/manager/login")):u.b.error(t.data.message)})).catch((function(e){return c(!1),u.b.error(e.response.data.message)}))};return Object(I.jsx)("div",{className:"register-div",children:Object(I.jsxs)(d.a,{tip:"Loading...",spinning:n,children:[Object(I.jsx)(j.a,{title:"Create Your Own Manager Account",style:{width:600},bordered:!0,children:Object(I.jsxs)(b.a,{children:[Object(I.jsxs)(x.a,{children:[Object(I.jsxs)(m.a,{span:12,children:[Object(I.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"First Name"}),Object(I.jsx)(p.a,{size:"large",style:{width:"90%"},type:"text",id:"firstName",placeholder:"Java",ref:s,required:!0})]}),Object(I.jsxs)(m.a,{span:12,children:[Object(I.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Last Name"}),Object(I.jsx)(p.a,{size:"large",style:{width:"90%"},type:"text",id:"lastName",placeholder:"JavaScript",ref:i,required:!0})]})]}),Object(I.jsx)("br",{}),Object(I.jsxs)(x.a,{children:[Object(I.jsxs)(m.a,{span:12,children:[Object(I.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Email Address"}),Object(I.jsx)(p.a,{size:"large",style:{width:"90%"},type:"email",id:"emailAddress",placeholder:"abc@abc.com",ref:O,required:!0})]}),Object(I.jsxs)(m.a,{span:12,children:[Object(I.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Phone Number"}),Object(I.jsx)(p.a,{size:"large",style:{width:"90%"},type:"tel",pattern:"\\([0-9]{3}\\) [0-9]{3}-[0-9]{4}",id:"phone",placeholder:"(111) 111-1111",ref:f,required:!0})]})]}),Object(I.jsx)("br",{}),Object(I.jsxs)(x.a,{children:[Object(I.jsxs)(m.a,{span:12,children:[Object(I.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Password"}),Object(I.jsx)(p.a.Password,{size:"large",style:{width:"90%"},id:"password",placeholder:"Password",ref:g,required:!0})]}),Object(I.jsxs)(m.a,{span:12,children:[Object(I.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Confirm Your Password"}),Object(I.jsx)(p.a,{size:"large",style:{width:"90%"},type:"password",id:"confirmPassword",placeholder:"Confirm Password",ref:y,required:!0})]})]}),Object(I.jsx)("br",{}),Object(I.jsx)(L.a.Text,{type:"danger",children:"Note: Password should be at least 8 characters, with 1 Uppercase, 1 Lowercase, 1 Number and 1 Symbol."}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(h.a,{type:"primary",size:"large",block:!0,htmlType:"submit",onClick:function(e){return e.preventDefault(),s.current.state.value&&i.current.state.value&&O.current.state.value&&f.current.state.value&&g.current.state.value&&y.current.state.value?g.current.state.value!==y.current.state.value?u.b.error("Confirm password is not same as the password you set. Please try again!"):void(S&&S.execute(T,{action:"register"}).then((function(e){w(e)}))):u.b.error("Please complete all the information!")},children:"Submit"}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)("div",{span:12,style:{textAlign:"right"},children:Object(I.jsx)(o.b,{to:"/manager/login",children:"Already have account?"})})]})}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(_.a,{ref:function(e){return S=e},sitekey:T,onResolved:function(){return console.log("Human detected.")}}),Object(I.jsx)(we,{})]})})}),Ce=(r(180),function(e){var t=Object(a.useState)(!1),r=Object(l.a)(t,2),n=r[0],c=r[1],s=Object(a.useRef)(),i=D.reCAPTCHA_site_key,O=null,x=function(t){c(!0);var r={email_address:s.current.state.value,captcha:t};v()({method:"post",url:Se.RESET_PASSWORD,data:r}).then((function(t){return c(!1),u.b.success(t.data.message),e.history.push("/manager/login")})).catch((function(e){return c(!1),u.b.error(e.response.data.message)}))};return Object(I.jsx)("div",{className:"reset-password-div",children:Object(I.jsxs)(d.a,{tip:"Loading...",spinning:n,children:[Object(I.jsx)(j.a,{title:"Give your email address to reset password",style:{width:400},bordered:!0,children:Object(I.jsxs)(b.a,{children:[Object(I.jsx)(p.a,{id:"emailAddress",size:"large",type:"email",prefix:Object(I.jsx)(G.a,{style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Your Email Address",ref:s,required:!0}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(h.a,{type:"primary",size:"large",block:!0,htmlType:"submit",onClick:function(e){if(e.preventDefault(),!s.current.state.value)return u.b.error("Please complete all the information!");O&&O.execute(i,{action:"reset-password"}).then((function(e){x(e)}))},children:"Submit"}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(o.b,{to:"/manager/login",children:"Go Back"})]})}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(_.a,{ref:function(e){return O=e},sitekey:i,onResolved:function(){return console.log("Human detected.")}}),Object(I.jsx)(we,{})]})})}),Ae=function(e){var t=Object(a.useState)(!1),r=Object(l.a)(t,2),n=r[0],c=r[1],s=Object(a.useRef)(),o=Object(a.useRef)(),i=D.reCAPTCHA_site_key,O=null,x=function(t){c(!0);var r={password:s.current.state.value,captcha:t};v()({method:"post",url:Se.RESET_PASSWORD+e.match.params.token,data:r}).then((function(t){return c(!1),u.b.success(t.data.message),e.history.push("/manager/login")})).catch((function(t){return c(!1),"Invalid link or expired"===t.response.data.message?(u.b.error(t.response.data.message),e.history.push("/manager/login")):u.b.error(t.response.data.message)}))};return Object(I.jsx)("div",{className:"reset-password-div",children:Object(I.jsxs)(d.a,{tip:"Loading...",spinning:n,children:[Object(I.jsx)(j.a,{title:"Reset your password",style:{width:400},bordered:!0,children:Object(I.jsxs)(b.a,{children:[Object(I.jsx)(p.a.Password,{id:"resetPassword",size:"large",placeholder:"New Password Here",ref:s,required:!0}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(p.a,{id:"confirmResetPassword",size:"large",type:"password",placeholder:"Confirm Password",ref:o,required:!0}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(h.a,{type:"primary",size:"large",block:!0,htmlType:"submit",onClick:function(e){return e.preventDefault(),s.current.state.value&&o.current.state.value?s.current.state.value!==o.current.state.value?u.b.error("Confirm password is not same to the password you reset, please try again."):void(O&&O.execute(i,{action:"reset-password-final"}).then((function(e){x(e)}))):u.b.error("Please complete all the information!")},children:"Submit"})]})}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(_.a,{ref:function(e){return O=e},sitekey:i,onResolved:function(){return console.log("Human detected.")}}),Object(I.jsx)(we,{})]})})},Ie=r(331),Re=r(332),De=r(333),Pe=r(145),Le=r(334),Fe=function(e){var t=Object(a.useState)(""),r=Object(l.a)(t,2),n=r[0],c=r[1],s=Object(a.useState)([]),i=Object(l.a)(s,2),d=i[0],b=i[1],p=Object(a.useState)(null),O=Object(l.a)(p,2),f=O[0],_=O[1];Object(a.useEffect)(Object(H.a)(z.a.mark((function e(){var t,r,a,n,s,o;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g();case 3:return t=e.sent,r=t.data.data.first_name,a=t.data.data.last_name,n=t.data.data.manager_id,_(n),s=T(),c(s+", "+r+" "+a),e.next=12,y(n);case 12:o=e.sent,b(o.data.data),e.next=19;break;case 16:return e.prev=16,e.t0=e.catch(0),e.abrupt("return");case 19:case"end":return e.stop()}}),e,null,[[0,16]])}))),[]);var g=function(){var e=Object(H.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:Se.GET_MANAGER_DETAIL+"?email_address="+localStorage.getItem("managerEmail")});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(H.a)(z.a.mark((function e(t){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:Se.GET_FOOD_SHOP_LIST+"?manager_id="+t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=(new Date).getHours();return e>=6&&e<=12?"Good Morning":e>12&&e<=18?"Good Afternoon":"Good Night"};return Object(I.jsxs)("div",{children:[Object(I.jsxs)(x.a,{children:[Object(I.jsx)(m.a,{span:12,children:Object(I.jsx)(L.a.Title,{level:5,children:n})}),Object(I.jsx)(m.a,{span:12,children:Object(I.jsx)(h.a,{style:{float:"right"},type:"primary",onClick:function(){return f?e.history.push("/manager/add_food_shop/"+f):u.b.error("Manager ID not exist.")},children:"ADD NEW FOOD SHOP"})})]}),Object(I.jsx)(W.a,{}),d.map((function(e,t){return Object(I.jsx)("div",{style:{width:220,float:"left",margin:"2%"},children:Object(I.jsx)(o.b,{to:"/manager/food_shop_detail/"+e.food_shop_id,children:Object(I.jsx)(j.a,{hoverable:!0,cover:Object(I.jsx)("img",{style:{height:200},alt:"food_shop",src:e.image_url}),bordered:!1,children:Object(I.jsx)(j.a.Meta,{title:e.food_shop_name,description:e.food_shop_description})})})},t)}))]})},Ge=r(71),Me=r(316),Ne=function(e){var t=Object(a.useState)([]),r=Object(l.a)(t,2),n=r[0],c=r[1],s=Object(a.useState)([]),o=Object(l.a)(s,2),i=o[0],d=o[1],j=Object(a.useState)(1),O=Object(l.a)(j,2),f=O[0],_=O[1],g=Object(a.useState)(null),y=Object(l.a)(g,2),T=y[0],S=y[1],w=Object(a.useState)(null),E=Object(l.a)(w,2),k=E[0],C=E[1],A=Object(a.useState)(null),R=Object(l.a)(A,2),P=R[0],F=R[1],G=Object(a.useState)(null),M=Object(l.a)(G,2),N=M[0],U=M[1],q=Object(a.useState)(null),B=Object(l.a)(q,2),Y=B[0],$=B[1],V=Object(a.useState)(null),J=Object(l.a)(V,2),Q=J[0],X=J[1],K=Object(a.useRef)(),Z=Object(a.useRef)();Object(a.useEffect)(Object(H.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re();case 3:t=e.sent,c(t.data.data),ee(),e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",u.b.error(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[]);var ee=function(){if(!navigator.geolocation)return u.b.error("Sorry, your location can not be get.");try{navigator.geolocation.getCurrentPosition((function(e){$(e.coords.latitude),X(e.coords.longitude),ae(e.coords.latitude,e.coords.longitude)}),(function(e){return u.b.error(e.message)}))}catch(e){return u.b.error("Sorry, something wrong happened when getting location.")}},te=function(){var e=Object(H.a)(z.a.mark((function e(t){var r,a,n,c,s;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0," "!==t[t.length-1]&&""!==t){e.next=5;break}return e.abrupt("return");case 5:return r=t.replace(" ","%20"),e.next=8,v()({method:"get",url:"http://dev.virtualearth.net/REST/v1/Locations/"+r+"?key="+D.BingMap_key});case 8:for(a=e.sent,n=a.data.resourceSets[0].resources,c=[],s=0;s<n.length;s++)c.push({value:n[s].name,key:s});d(c);case 13:e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return");case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(H.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:Se.GET_FOOD_SHOP_CATEGORY_LIST});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(H.a)(z.a.mark((function e(t,r){var a,n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v()({method:"get",url:"http://dev.virtualearth.net/REST/v1/Locations/".concat(t,",").concat(r,"?key=").concat(D.BingMap_key)});case 3:if(a=e.sent,1!==(n=a.data.resourceSets[0].resources).length){e.next=9;break}U(n[0].name),e.next=10;break;case 9:return e.abrupt("return");case 10:e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return");case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r){return e.apply(this,arguments)}}(),ne=function(){var e=Object(H.a)(z.a.mark((function e(t){var r,a,n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0," "!==t[t.length-1]&&""!==t){e.next=5;break}return e.abrupt("return");case 5:return r=t.replace(" ","%20"),e.next=8,v()({method:"get",url:"http://dev.virtualearth.net/REST/v1/Locations/"+r+"?key="+D.BingMap_key});case 8:if(a=e.sent,1!==(n=a.data.resourceSets[0].resources).length){e.next=16;break}U(t),$(n[0].point.coordinates[0]),X(n[0].point.coordinates[1]),e.next=17;break;case 16:return e.abrupt("return");case 17:e.next=22;break;case 19:return e.prev=19,e.t0=e.catch(0),e.abrupt("return");case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var t=Object(H.a)(z.a.mark((function t(r){var a,n;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),t.prev=1,!(K.current.state.value&&Z.current.resizableTextArea.props.value&&f&&T&&N&&Y&&Q&&k&&P)){t.next=18;break}return a={manager_id:e.match.params.manager_id,food_shop_category_id:f,food_shop_name:K.current.state.value,food_shop_description:Z.current.resizableTextArea.props.value,working_address:N,lat:Y,lon:Q,open_time:k,close_time:P},t.next=6,v()({method:"post",url:Se.ADD_FOOD_SHOP_URL,data:a});case 6:return n=t.sent,t.next=9,v()({method:"post",url:Se.UPLOAD_FOOD_SHOP_IMAGE+"?id="+n.data.food_shop_id,data:T,headers:{"Content-Type":"multipart/form-data;charset=UTF-8"}});case 9:if(!t.sent.data.success){t.next=15;break}return u.b.success("Add Food Shop Successful!"),t.abrupt("return",e.history.push("/manager/"));case 15:return t.abrupt("return",u.b.error("Something wrong happened, please try again!"));case 16:t.next=19;break;case 18:return t.abrupt("return",u.b.error("Please complete all the information!"));case 19:t.next=24;break;case 21:return t.prev=21,t.t0=t.catch(1),t.abrupt("return",u.b.error("Something wrong happened, please try again!"));case 24:case"end":return t.stop()}}),t,null,[[1,21]])})));return function(e){return t.apply(this,arguments)}}();return Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{children:Object(I.jsx)(h.a,{type:"primary",style:{float:"left"},onClick:function(){return e.history.push("/manager/")},children:"Go Back"})}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(L.a.Title,{level:5,children:"Please Add New Food Shop Here"}),Object(I.jsx)(W.a,{}),Object(I.jsxs)(b.a,{children:[Object(I.jsxs)(x.a,{children:[Object(I.jsxs)(m.a,{span:8,children:[Object(I.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Food Shop Name"}),Object(I.jsx)(p.a,{size:"large",style:{width:"80%"},id:"foodShopName",ref:K,required:!0})]}),Object(I.jsx)(m.a,{span:7}),Object(I.jsxs)(m.a,{span:8,children:[Object(I.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Food Shop Category"}),Object(I.jsx)(Ge.a,{size:"large",style:{width:"80%"},id:"shopCategoryId",onChange:function(e){return _(e)},defaultValue:1,required:!0,children:n.map((function(e,t){return Object(I.jsx)(Ge.a.Option,{value:e.food_shop_category_id,children:e.food_shop_category_name},t)}))})]})]}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Please Select Your Working Address"}),Object(I.jsxs)(x.a,{children:[Object(I.jsx)(m.a,{span:12,children:Y&&Q&&Object(I.jsx)("img",{style:{width:"90%"},src:"https://dev.virtualearth.net/REST/v1/Imagery/Map/Road/".concat(Y,",").concat(Q,"/15?mapSize=500,300&format=png&pushpin=").concat(Y,",").concat(Q,";64;&key=").concat(D.BingMap_key),alt:"map"})}),Object(I.jsxs)(m.a,{span:12,children:[Object(I.jsx)(oe.a,{size:"large",style:{width:"80%"},id:"workingAddressText",options:i,onSearch:te,onSelect:ne,required:!0}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsxs)(L.a.Title,{level:5,style:{marginLeft:"20px"},children:["Working Address: ",N||""]}),Object(I.jsxs)(L.a.Title,{level:5,style:{marginLeft:"20px"},children:["Latitude: ",Y||""]}),Object(I.jsxs)(L.a.Title,{level:5,style:{marginLeft:"20px"},children:["Longitude: ",Q||""]})]})]}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsxs)(x.a,{children:[Object(I.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Food Shop Description"}),Object(I.jsx)(p.a.TextArea,{id:"description",rows:5,ref:Z,required:!0})]}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsxs)(x.a,{children:[Object(I.jsxs)(m.a,{span:8,children:[Object(I.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Food Shop Image"}),Object(I.jsx)(p.a,{required:!0,size:"large",style:{width:"80%"},type:"file",accept:"image/jpeg,image/jpg,image/png",id:"imageFile",onChange:function(e){var t=e.target.files[0],r=new FormData;r.append("image",t),S(r)}})]}),Object(I.jsxs)(m.a,{span:8,children:[Object(I.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Open Time"}),Object(I.jsx)(Me.a,{required:!0,size:"large",style:{width:"80%"},id:"openTime",onChange:function(e,t){return C(t)}})]}),Object(I.jsxs)(m.a,{span:8,children:[Object(I.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Close Time"}),Object(I.jsx)(Me.a,{required:!0,size:"large",style:{width:"80%"},id:"closeTime",onChange:function(e,t){return F(t)}})]})]}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(h.a,{type:"primary",size:"large",block:!0,htmlType:"submit",onClick:ce,children:"Submit"})]})]})},Ue=r(324),ze=function(e){var t=Object(a.useState)([]),r=Object(l.a)(t,2),n=r[0],c=r[1],s=Object(a.useState)([]),o=Object(l.a)(s,2),i=o[0],d=o[1],j=Object(a.useState)(!1),b=Object(l.a)(j,2),p=b[0],O=b[1],f=Object(a.useState)(""),_=Object(l.a)(f,2),g=_[0],y=_[1],T=Object(a.useState)(""),S=Object(l.a)(T,2),w=S[0],E=S[1],k=Object(a.useState)(""),C=Object(l.a)(k,2),A=C[0],R=C[1],D=Object(a.useState)(""),P=Object(l.a)(D,2),F=P[0],G=P[1],M=Object(a.useState)(""),N=Object(l.a)(M,2),U=N[0],q=N[1],B=Object(a.useState)(""),Y=Object(l.a)(B,2),$=Y[0],V=Y[1],J=Object(a.useState)(""),Q=Object(l.a)(J,2),X=Q[0],ee=Q[1],te=Object(a.useState)(null),re=Object(l.a)(te,2),ae=re[0],ne=re[1],ce=Object(a.useState)(""),se=Object(l.a)(ce,2),oe=se[0],ie=se[1],le=Object(a.useState)(""),ue=Object(l.a)(le,2),de=ue[0],je=ue[1];Object(a.useEffect)(Object(H.a)(z.a.mark((function t(){var r,a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,be(e.match.params.food_shop_id);case 3:return r=t.sent,t.next=6,pe(e.match.params.food_shop_id);case 6:a=t.sent,ie(r.image_url),O(r.active),y(r.close_time),E(r.open_time),R(r.created_at),G(r.updated_at),q(r.food_shop_category_name),V(r.food_shop_description),ee(r.food_shop_name),ne(r.food_shop_rating),je(r.working_address),c(a),t.next=24;break;case 21:return t.prev=21,t.t0=t.catch(0),t.abrupt("return",u.b.error(t.t0.message));case 24:case"end":return t.stop()}}),t,null,[[0,21]])}))),[]);var be=function(){var e=Object(H.a)(z.a.mark((function e(t){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:Se.GET_FOOD_SHOP_DETAIL+"?food_shop_id="+t});case 2:return r=e.sent,e.abrupt("return",r.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=Object(H.a)(z.a.mark((function e(t){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:Se.GET_FOOD_ITEM_CATEGORY_LIST+"?food_shop_id="+t});case 2:return r=e.sent,e.abrupt("return",r.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=Object(H.a)(z.a.mark((function e(t){var r,a,n,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:Se.GET_FOOD_ITEM_LIST+"?food_category_id="+t});case 2:for(r=e.sent,a=r.data.data,n=[],c=0;c<a.length;c++)n.push({key:c,food_name:a[c].food_name,food_description:a[c].food_description,food_item_id:a[c].food_item_id,image_url:a[c].image_url});return e.abrupt("return",d(n));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var t=Object(H.a)(z.a.mark((function t(r){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v()({method:"post",url:Se.UPDATE_FOOD_SHOP_ACTIVE,data:{food_shop_id:e.match.params.food_shop_id,active:r}});case 3:t.next=8;break;case 5:return t.prev=5,t.t0=t.catch(0),t.abrupt("return",u.b.error("Sorry, fail to update active status"));case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}();return Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{children:Object(I.jsx)(h.a,{type:"primary",style:{float:"left"},onClick:function(){return e.history.push("/manager/")},children:"Go Back"})}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)("div",{style:{width:"100%",height:"150px",overflow:"hidden"},children:Object(I.jsx)("img",{alt:"shop-image",src:oe,style:{width:"100%",marginTop:"-50%"}})}),Object(I.jsx)("br",{}),Object(I.jsxs)(x.a,{children:[Object(I.jsx)(m.a,{span:12,children:Object(I.jsx)(L.a.Title,{level:3,children:X})}),Object(I.jsx)(m.a,{span:12,children:Object(I.jsx)(L.a.Title,{level:4,children:de})})]}),Object(I.jsx)(W.a,{}),Object(I.jsxs)(L.a.Text,{children:["Description: ",$]}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsxs)(x.a,{children:[Object(I.jsx)(m.a,{span:8,children:Object(I.jsxs)(L.a.Title,{level:5,children:["Open At: ",w]})}),Object(I.jsx)(m.a,{span:8,children:Object(I.jsxs)(L.a.Title,{level:5,children:["Close At: ",g]})}),Object(I.jsx)(m.a,{span:8,children:Object(I.jsxs)(L.a.Title,{level:5,children:["On Active:",Object(I.jsx)(Ue.a,{style:{marginLeft:"5%"},defaultChecked:p,onChange:xe},X)]})})]}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsxs)(x.a,{children:[Object(I.jsx)(m.a,{span:8,children:Object(I.jsxs)(L.a.Title,{level:5,children:["Created At: ",A]})}),Object(I.jsx)(m.a,{span:8,children:Object(I.jsxs)(L.a.Title,{level:5,children:["Updated At: ",F||"No Updation Record"]})}),Object(I.jsxs)(m.a,{span:8,children:[Object(I.jsxs)(L.a.Title,{level:5,children:["Rating: ",ae||"Not Available"]}),Object(I.jsx)(K.a,{disabled:!0,defaultValue:ae||0})]})]}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsxs)(x.a,{children:[Object(I.jsx)(m.a,{span:12,children:Object(I.jsxs)(L.a.Title,{level:5,children:["Shop Category: ",U]})}),Object(I.jsx)(m.a,{span:12,children:Object(I.jsx)("div",{style:{float:"right"},children:Object(I.jsx)(h.a,{type:"primary",onClick:function(){return e.history.push("/manager/edit_food_shop/"+e.match.params.food_shop_id)},children:"Edit Food Shop Profile"})})})]}),Object(I.jsx)(W.a,{}),Object(I.jsxs)(x.a,{children:[Object(I.jsx)(m.a,{span:12,children:Object(I.jsx)(h.a,{type:"primary",onClick:function(){return e.history.push("/manager/add_food_item_category/"+e.match.params.food_shop_id)},children:"Add Item Category"})}),Object(I.jsx)(m.a,{span:12,children:Object(I.jsx)("div",{style:{float:"right"},children:Object(I.jsx)(h.a,{type:"primary",onClick:function(){return e.history.push("/manager/add_food_item/"+e.match.params.food_shop_id)},children:"Add New Food Item"})})})]}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsxs)("div",{children:[Object(I.jsx)(L.a.Text,{children:"Food Item Category: "}),Object(I.jsx)(Z.a.Group,{onChange:function(e){return he(e.target.value)},children:n.map((function(e,t){return Object(I.jsx)(Z.a.Button,{value:e.food_category_id,children:e.food_category_name},t)}))}),Object(I.jsx)("br",{}),Object(I.jsx)(Oe.a,{bordered:!0,columns:[{title:"Food Name",dataIndex:"food_name"},{title:"Food Description",dataIndex:"food_description"},{title:"Food Image",dataIndex:"image_url",render:function(e){return Object(I.jsx)("img",{alt:"food_img",src:e,style:{width:"100px"}})}},{title:"Action",dataIndex:"food_item_id",render:function(t){return Object(I.jsx)(h.a,{type:"primary",onClick:function(){return function(t){return e.history.push("/manager/food_item_detail/"+t)}(t)},children:"Detail"})}}],dataSource:i})]})]})},He=function(e){var t=Object(a.useState)(""),r=Object(l.a)(t,2),n=r[0],c=r[1],s=Object(a.useState)(""),o=Object(l.a)(s,2),i=o[0],d=o[1],j=Object(a.useState)(0),b=Object(l.a)(j,2),p=b[0],O=b[1],f=Object(a.useState)(""),_=Object(l.a)(f,2),g=_[0],y=_[1],T=Object(a.useState)(""),S=Object(l.a)(T,2),w=S[0],E=S[1],k=Object(a.useState)(""),C=Object(l.a)(k,2),A=C[0],R=C[1],D=Object(a.useState)(0),P=Object(l.a)(D,2),F=P[0],G=P[1],M=Object(a.useState)(0),N=Object(l.a)(M,2),U=N[0],q=N[1],B=Object(a.useState)(""),Y=Object(l.a)(B,2),$=Y[0],V=Y[1];Object(a.useEffect)(Object(H.a)(z.a.mark((function t(){var r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,J(e.match.params.food_item_id);case 3:r=t.sent,c(r.created_at),d(r.updated_at),O(r.food_average_rating),y(r.food_category_name),E(r.food_description),R(r.food_name),G(r.food_price),q(r.food_shop_id),V(r.image_url),t.next=18;break;case 15:return t.prev=15,t.t0=t.catch(0),t.abrupt("return",u.b.error(t.t0.message));case 18:case"end":return t.stop()}}),t,null,[[0,15]])}))),[]);var J=function(){var e=Object(H.a)(z.a.mark((function e(t){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:Se.GET_FOOD_ITEM_DETAIL+"?food_item_id="+t});case 2:return r=e.sent,e.abrupt("return",r.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){return e.history.push("/manager/food_shop_detail/"+U)},X=function(){var t=Object(H.a)(z.a.mark((function t(){var r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r={food_item_id:e.match.params.food_item_id},t.next=4,v()({method:"post",url:Se.DELETE_FOOD_ITEM,data:r});case 4:if(!t.sent.data.success){t.next=10;break}return u.b.success("Delete food item successful!"),t.abrupt("return",Q());case 10:return t.abrupt("return",u.b.error("Sorry, fail to delete item, please try again!"));case 11:t.next=16;break;case 13:return t.prev=13,t.t0=t.catch(0),t.abrupt("return",u.b.error("Action failed, please try again!"));case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(){return t.apply(this,arguments)}}();return Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{children:Object(I.jsx)(h.a,{type:"primary",style:{float:"left"},onClick:Q,children:"Go Back"})}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(L.a.Title,{level:4,children:A}),Object(I.jsx)(W.a,{}),Object(I.jsxs)(x.a,{children:[Object(I.jsx)(m.a,{span:12,children:Object(I.jsx)("img",{alt:"food_image",src:$,style:{width:"80%"}})}),Object(I.jsx)(m.a,{span:12,children:Object(I.jsxs)(L.a.Text,{children:["Description: ",w]})})]}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsxs)(x.a,{children:[Object(I.jsx)(m.a,{span:8,children:Object(I.jsxs)(L.a.Title,{level:5,children:["Food Category: ",g]})}),Object(I.jsx)(m.a,{span:8,children:Object(I.jsxs)(L.a.Title,{level:5,children:["Created At: ",n]})}),Object(I.jsx)(m.a,{span:8,children:Object(I.jsxs)(L.a.Title,{level:5,children:["Last Updated At: ",i||"Not Available"]})})]}),Object(I.jsx)(W.a,{}),Object(I.jsxs)(x.a,{children:[Object(I.jsx)(m.a,{span:12,children:Object(I.jsxs)(L.a.Title,{level:5,children:["Price: $",F]})}),Object(I.jsx)(m.a,{span:12,children:Object(I.jsx)("div",{style:{float:"right"},children:Object(I.jsxs)(L.a.Title,{level:5,children:["Rating: ",p||"Not Available",Object(I.jsx)(K.a,{disabled:!0,defaultValue:p||0})]})})})]}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsxs)(x.a,{children:[Object(I.jsx)(m.a,{span:8,children:Object(I.jsx)(h.a,{type:"primary",onClick:function(){return e.history.push("/manager/food_comments/"+e.match.params.food_item_id)},children:"See Comments"})}),Object(I.jsx)(m.a,{span:8,children:Object(I.jsx)(h.a,{type:"primary",onClick:function(){return e.history.push("/manager/edit_food_item/"+e.match.params.food_item_id)},children:"Edit Food Profile"})}),Object(I.jsx)(m.a,{span:8,children:Object(I.jsx)(h.a,{type:"primary",onClick:X,children:"Delete Food Item"})})]})]})},qe=function(e){var t=Object(a.useState)([]),r=Object(l.a)(t,2),n=r[0],c=r[1],s=Object(a.useState)(null),o=Object(l.a)(s,2),i=o[0],d=o[1],j=Object(a.useState)(""),O=Object(l.a)(j,2),f=O[0],_=O[1],g=Object(a.useState)(0),y=Object(l.a)(g,2),T=y[0],S=y[1],w=Object(a.useState)(""),E=Object(l.a)(w,2),k=E[0],C=E[1],A=Object(a.useState)(null),R=Object(l.a)(A,2),D=R[0],P=R[1];Object(a.useEffect)(Object(H.a)(z.a.mark((function t(){var r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F(e.match.params.food_shop_id);case 2:r=t.sent,c(r);case 4:case"end":return t.stop()}}),t)}))),[]);var F=function(){var e=Object(H.a)(z.a.mark((function e(t){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v()({method:"get",url:Se.GET_FOOD_ITEM_CATEGORY_LIST+"?food_shop_id="+t});case 3:return r=e.sent,e.abrupt("return",r.data.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),G=function(){var t=Object(H.a)(z.a.mark((function t(r){var a,n;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),t.prev=1,!(i&&f&&T&&k&&D)){t.next=18;break}return a={food_category_id:i,food_name:f,food_price:T,food_description:k},t.next=6,v()({method:"post",url:Se.ADD_FOOD_ITEM_URL,data:a});case 6:return n=t.sent,t.next=9,v()({method:"post",url:Se.UPLOAD_FOOD_ITEM_IMAGE+"?id="+n.data.food_item_id,data:D,headers:{"Content-Type":"multipart/form-data;charset=UTF-8"}});case 9:if(!t.sent.data.success){t.next=15;break}return u.b.success("Add Food Item Successful!"),t.abrupt("return",e.history.push("/manager/food_shop_detail/"+e.match.params.food_shop_id));case 15:return t.abrupt("return",u.b.error("Something wrong happened, please try again!"));case 16:t.next=19;break;case 18:return t.abrupt("return",u.b.error("Please complete all the information!"));case 19:t.next=24;break;case 21:return t.prev=21,t.t0=t.catch(1),t.abrupt("return",u.b.error("Something wrong happened, please try again!"));case 24:case"end":return t.stop()}}),t,null,[[1,21]])})));return function(e){return t.apply(this,arguments)}}();return Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{children:Object(I.jsx)(h.a,{type:"primary",style:{float:"left"},onClick:function(){return e.history.push("/manager/food_shop_detail/"+e.match.params.food_shop_id)},children:"Go Back"})}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(L.a.Title,{level:3,children:"Add New Food Item"}),Object(I.jsx)(W.a,{}),Object(I.jsxs)(b.a,{children:[Object(I.jsxs)(x.a,{children:[Object(I.jsxs)(m.a,{span:8,children:[Object(I.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Food Name"}),Object(I.jsx)(p.a,{size:"large",type:"text",id:"foodName",style:{width:"80%"},onChange:function(e){return _(e.target.value)},required:!0})]}),Object(I.jsxs)(m.a,{span:8,children:[Object(I.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Food Price"}),Object(I.jsx)(p.a,{size:"large",prefix:"$",type:"number",id:"foodPrice",style:{width:"80%",textAlign:"right"},onChange:function(e){return S(e.target.value)},required:!0})]}),Object(I.jsxs)(m.a,{span:8,children:[Object(I.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Category"}),Object(I.jsx)(Ge.a,{size:"large",style:{width:"80%"},id:"itemCategoryId",onChange:function(e){return d(e)},required:!0,children:n.map((function(e,t){return Object(I.jsx)(Ge.a.Option,{value:e.food_category_id,children:e.food_category_name},t)}))})]})]}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Food Description"}),Object(I.jsx)(p.a.TextArea,{id:"foodDescription",rows:5,onChange:function(e){return C(e.target.value)},required:!0}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(x.a,{children:Object(I.jsxs)(m.a,{span:8,children:[Object(I.jsx)(L.a.Title,{level:5,children:"Food Image"}),Object(I.jsx)(p.a,{required:!0,size:"large",style:{width:"80%"},type:"file",accept:"image/jpeg,image/jpg,image/png",id:"imageFile",onChange:function(e){var t=e.target.files[0],r=new FormData;r.append("image",t),P(r)}})]})}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(h.a,{type:"primary",size:"large",block:!0,htmlType:"submit",onClick:G,children:"Add New Food Item"})]})]})},Be=function(e){var t=Object(a.useState)([]),r=Object(l.a)(t,2),n=r[0],c=r[1],s=Object(a.useState)(""),o=Object(l.a)(s,2),i=o[0],d=o[1],j=function(){var e=Object(H.a)(z.a.mark((function e(t){var r,a,n,s;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=9;break}return e.next=4,v()({method:"get",url:Se.GET_ALL_MATCH_FOOD_CATEGORY+"?content="+t});case 4:for(r=e.sent,a=r.data.data,n=[],s=0;s<a.length;s++)n.push({value:a[s].food_category_example_name,key:s});c(n);case 9:e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return");case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var t=Object(H.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(i),t.prev=1,!i){t.next=14;break}return t.next=5,v()({method:"post",url:Se.ADD_FOOD_CATEGORY,data:{food_shop_id:e.match.params.food_shop_id,food_category_name:i}});case 5:if(!t.sent.data.success){t.next=11;break}return u.b.success("Add food category successful!"),t.abrupt("return",e.history.push("/manager/food_shop_detail/"+e.match.params.food_shop_id));case 11:return t.abrupt("return",u.b.error("Fail to add item category, please try again"));case 12:t.next=15;break;case 14:return t.abrupt("return",u.b.error("Please complete the information"));case 15:t.next=20;break;case 17:return t.prev=17,t.t0=t.catch(1),t.abrupt("return",u.b.error("Fail to add item category, please try again"));case 20:case"end":return t.stop()}}),t,null,[[1,17]])})));return function(){return t.apply(this,arguments)}}();return Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{children:Object(I.jsx)(h.a,{type:"primary",style:{float:"left"},onClick:function(){return e.history.push("/manager/food_shop_detail/"+e.match.params.food_shop_id)},children:"Go Back"})}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(L.a.Title,{level:4,children:"Add New Food Category"}),Object(I.jsx)(W.a,{}),Object(I.jsxs)(x.a,{children:[Object(I.jsx)(m.a,{span:12,children:Object(I.jsx)(oe.a,{style:{width:"80%"},id:"categoryText",options:n,onSearch:j,onChange:function(e){return d(e)},onSelect:function(e){return d(e)}})}),Object(I.jsx)(m.a,{span:12,children:Object(I.jsx)(h.a,{style:{width:"50%"},type:"primary",onClick:b,children:"Add"})})]})]})},Ye=r(61),$e=r.n(Ye),Ve=function(e){var t=Object(a.useState)([]),r=Object(l.a)(t,2),n=r[0],c=r[1],s=Object(a.useState)([]),o=Object(l.a)(s,2),i=o[0],d=o[1],j=Object(a.useState)(1),O=Object(l.a)(j,2),f=O[0],_=O[1],g=Object(a.useState)(null),y=Object(l.a)(g,2),T=y[0],S=y[1],w=Object(a.useState)(null),E=Object(l.a)(w,2),k=E[0],C=E[1],A=Object(a.useState)(null),R=Object(l.a)(A,2),P=R[0],F=R[1],G=Object(a.useState)(null),M=Object(l.a)(G,2),N=M[0],U=M[1],q=Object(a.useState)(null),B=Object(l.a)(q,2),Y=B[0],$=B[1],V=Object(a.useState)(""),J=Object(l.a)(V,2),Q=J[0],X=J[1],K=Object(a.useState)(""),Z=Object(l.a)(K,2),ee=Z[0],te=Z[1],re=Object(a.useState)(""),ae=Object(l.a)(re,2),ne=ae[0],ce=ae[1];Object(a.useEffect)(Object(H.a)(z.a.mark((function t(){var r,a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,se(e.match.params.food_shop_id);case 3:return r=t.sent,t.next=6,le();case 6:a=t.sent,c(a.data.data),_(r.food_shop_category_id),ce(r.image_url),S(r.open_time),C(r.close_time),F(r.working_address),U(r.lat),$(r.lon),X(r.food_shop_name),te(r.food_shop_description),t.next=22;break;case 19:return t.prev=19,t.t0=t.catch(0),t.abrupt("return",u.b.error(t.t0.message));case 22:case"end":return t.stop()}}),t,null,[[0,19]])}))),[]);var se=function(){var e=Object(H.a)(z.a.mark((function e(t){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:Se.GET_FOOD_SHOP_DETAIL+"?food_shop_id="+t});case 2:return r=e.sent,e.abrupt("return",r.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(H.a)(z.a.mark((function e(t){var r,a,n,c,s;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0," "!==t[t.length-1]&&""!==t){e.next=5;break}return e.abrupt("return");case 5:return r=t.replace(" ","%20"),e.next=8,v()({method:"get",url:"http://dev.virtualearth.net/REST/v1/Locations/"+r+"?key="+D.BingMap_key});case 8:for(a=e.sent,n=a.data.resourceSets[0].resources,c=[],s=0;s<n.length;s++)c.push({value:n[s].name,key:s});d(c);case 13:e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return");case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(H.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:Se.GET_FOOD_SHOP_CATEGORY_LIST});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=Object(H.a)(z.a.mark((function e(t){var r,a,n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0," "!==t[t.length-1]&&""!==t){e.next=5;break}return e.abrupt("return");case 5:return r=t.replace(" ","%20"),e.next=8,v()({method:"get",url:"http://dev.virtualearth.net/REST/v1/Locations/"+r+"?key="+D.BingMap_key});case 8:if(a=e.sent,1!==(n=a.data.resourceSets[0].resources).length){e.next=16;break}F(t),U(n[0].point.coordinates[0]),$(n[0].point.coordinates[1]),e.next=17;break;case 16:return e.abrupt("return");case 17:e.next=22;break;case 19:return e.prev=19,e.t0=e.catch(0),e.abrupt("return");case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t){return e.apply(this,arguments)}}(),de=function(){var t=Object(H.a)(z.a.mark((function t(r){var a,n,c;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=r.target.files[0],(n=new FormData).append("image",a),t.next=6,v()({method:"post",url:Se.UPLOAD_FOOD_SHOP_IMAGE+"?id="+e.match.params.food_shop_id,data:n,headers:{"Content-Type":"multipart/form-data;charset=UTF-8"}});case 6:if(!(c=t.sent).data.success){t.next=12;break}return u.b.success("Upload Image Successful"),t.abrupt("return",ce(c.data.message));case 12:return t.abrupt("return",u.b.error("Upload Image fail, please try again!"));case 13:t.next=18;break;case 15:return t.prev=15,t.t0=t.catch(0),t.abrupt("return",u.b.error(t.t0.message));case 18:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e){return t.apply(this,arguments)}}(),je=function(){var t=Object(H.a)(z.a.mark((function t(r){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),t.prev=1,!(f&&Q&&ee&&P&&N&&Y&&T&&k&&ne)){t.next=15;break}return a={food_shop_id:e.match.params.food_shop_id,food_shop_category_id:f,food_shop_name:Q,food_shop_description:ee,working_address:P,lat:N,lon:Y,open_time:T,close_time:k,image_url:ne},t.next=6,v()({method:"post",url:Se.UPDATE_FOOD_SHOP,data:a});case 6:if(!t.sent.data.success){t.next=12;break}return u.b.success("Update food shop successful!"),t.abrupt("return",e.history.push("/manager/food_shop_detail/"+e.match.params.food_shop_id));case 12:return t.abrupt("return",u.b.error("Update fail, pleaes try again!"));case 13:t.next=16;break;case 15:return t.abrupt("return",u.b.error("Please complete information!"));case 16:t.next=21;break;case 18:return t.prev=18,t.t0=t.catch(1),t.abrupt("return",u.b.error("Something wrong happened, please try again!"));case 21:case"end":return t.stop()}}),t,null,[[1,18]])})));return function(e){return t.apply(this,arguments)}}();return Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{children:Object(I.jsx)(h.a,{type:"primary",style:{float:"left"},onClick:function(){return e.history.push("/manager/food_shop_detail/"+e.match.params.food_shop_id)},children:"Go Back"})}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(L.a.Title,{level:5,children:"Edit Food Shop"}),Object(I.jsx)(W.a,{}),Object(I.jsxs)(b.a,{children:[Object(I.jsxs)(x.a,{children:[Object(I.jsxs)(m.a,{span:8,children:[Object(I.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Food Shop Name"}),Object(I.jsx)(p.a,{size:"large",style:{width:"80%"},id:"foodShopName",value:Q,onChange:function(e){return X(e.target.value)},required:!0})]}),Object(I.jsx)(m.a,{span:7}),Object(I.jsxs)(m.a,{span:8,children:[Object(I.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Food Shop Category"}),Object(I.jsx)(Ge.a,{size:"large",style:{width:"80%"},id:"shopCategoryId",onChange:function(e){return _(e)},value:f,required:!0,children:n.map((function(e,t){return Object(I.jsx)(Ge.a.Option,{value:e.food_shop_category_id,children:e.food_shop_category_name},t)}))})]})]}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Please Select Your Working Address"}),Object(I.jsxs)(x.a,{children:[Object(I.jsx)(m.a,{span:12,children:N&&Y&&Object(I.jsx)("img",{style:{width:"90%"},src:"https://dev.virtualearth.net/REST/v1/Imagery/Map/Road/".concat(N,",").concat(Y,"/15?mapSize=500,300&format=png&pushpin=").concat(N,",").concat(Y,";64;&key=").concat(D.BingMap_key),alt:"map"})}),Object(I.jsxs)(m.a,{span:12,children:[Object(I.jsx)(oe.a,{size:"large",style:{width:"80%"},id:"workingAddressText",options:i,onSearch:ie,onSelect:ue,required:!0}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsxs)(L.a.Title,{level:5,style:{marginLeft:"20px"},children:["Working Address: ",P||""]}),Object(I.jsxs)(L.a.Title,{level:5,style:{marginLeft:"20px"},children:["Latitude: ",N||""]}),Object(I.jsxs)(L.a.Title,{level:5,style:{marginLeft:"20px"},children:["Longitude: ",Y||""]})]})]}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsxs)(x.a,{children:[Object(I.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Food Shop Description"}),Object(I.jsx)(p.a.TextArea,{id:"description",rows:5,value:ee,onChange:function(e){return te(e.target.value)},required:!0})]}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsxs)(x.a,{children:[Object(I.jsxs)(m.a,{span:8,children:[Object(I.jsx)("img",{alt:"img",src:ne,style:{width:"60%"}}),Object(I.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Food Shop Image"}),Object(I.jsx)(p.a,{required:!0,size:"large",style:{width:"80%"},type:"file",accept:"image/jpeg,image/jpg,image/png",id:"imageFile",onChange:de})]}),Object(I.jsxs)(m.a,{span:8,children:[Object(I.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Open Time"}),Object(I.jsx)(Me.a,{required:!0,size:"large",style:{width:"80%"},id:"openTime",value:$e()(T,"HH:mm:ss"),onChange:function(e,t){return S(t)}})]}),Object(I.jsxs)(m.a,{span:8,children:[Object(I.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Close Time"}),Object(I.jsx)(Me.a,{required:!0,size:"large",style:{width:"80%"},id:"closeTime",value:$e()(k,"HH:mm:ss"),onChange:function(e,t){return C(t)}})]})]}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(h.a,{type:"primary",size:"large",block:!0,htmlType:"submit",onClick:je,children:"Submit"})]})]})},We=function(e){var t=Object(a.useState)([]),r=Object(l.a)(t,2),n=r[0],c=r[1],s=Object(a.useState)(null),o=Object(l.a)(s,2),i=o[0],d=o[1],j=Object(a.useState)(""),O=Object(l.a)(j,2),f=O[0],_=O[1],g=Object(a.useState)(0),y=Object(l.a)(g,2),T=y[0],S=y[1],w=Object(a.useState)(""),E=Object(l.a)(w,2),k=E[0],C=E[1],A=Object(a.useState)(""),R=Object(l.a)(A,2),D=R[0],P=R[1];Object(a.useEffect)(Object(H.a)(z.a.mark((function t(){var r,a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,G(e.match.params.food_item_id);case 3:return r=t.sent,d(r.food_category_id),_(r.food_name),S(r.food_price),C(r.food_description),P(r.image_url),t.next=11,F(r.food_shop_id);case 11:a=t.sent,c(a),t.next=18;break;case 15:return t.prev=15,t.t0=t.catch(0),t.abrupt("return",u.b.error(t.t0.message));case 18:case"end":return t.stop()}}),t,null,[[0,15]])}))),[]);var F=function(){var e=Object(H.a)(z.a.mark((function e(t){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v()({method:"get",url:Se.GET_FOOD_ITEM_CATEGORY_LIST+"?food_shop_id="+t});case 3:return r=e.sent,e.abrupt("return",r.data.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(H.a)(z.a.mark((function e(t){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:Se.GET_FOOD_ITEM_DETAIL+"?food_item_id="+t});case 2:return r=e.sent,e.abrupt("return",r.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var t=Object(H.a)(z.a.mark((function t(r){var a,n,c;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=r.target.files[0],(n=new FormData).append("image",a),t.next=6,v()({method:"post",url:Se.UPLOAD_FOOD_ITEM_IMAGE+"?id="+e.match.params.food_item_id,data:n,headers:{"Content-Type":"multipart/form-data;charset=UTF-8"}});case 6:if(!(c=t.sent).data.success){t.next=12;break}return u.b.success("Upload Image Successful"),t.abrupt("return",P(c.data.message));case 12:return t.abrupt("return",u.b.error("Upload Image fail, please try again!"));case 13:t.next=18;break;case 15:return t.prev=15,t.t0=t.catch(0),t.abrupt("return",u.b.error("Something wrong happened, please try again!"));case 18:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e){return t.apply(this,arguments)}}(),N=function(){var t=Object(H.a)(z.a.mark((function t(r){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),t.prev=1,!(i&&f&&T&&k&&D)){t.next=15;break}return a={food_item_id:e.match.params.food_item_id,food_category_id:i,food_name:f,food_price:T,food_description:k,image_url:D},t.next=6,v()({method:"post",url:Se.UPDATE_FOOD_ITEM,data:a});case 6:if(!t.sent.data.success){t.next=12;break}return u.b.success("Update food item successful!"),t.abrupt("return",e.history.push("/manager/food_item_detail/"+e.match.params.food_item_id));case 12:return t.abrupt("return",u.b.error("Update fail, pleaes try again!"));case 13:t.next=16;break;case 15:return t.abrupt("return",u.b.error("Please complete information!"));case 16:t.next=21;break;case 18:return t.prev=18,t.t0=t.catch(1),t.abrupt("return",u.b.error("Something wrong happened, please try again!"));case 21:case"end":return t.stop()}}),t,null,[[1,18]])})));return function(e){return t.apply(this,arguments)}}();return Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{children:Object(I.jsx)(h.a,{type:"primary",style:{float:"left"},onClick:function(){return e.history.push("/manager/food_item_detail/"+e.match.params.food_item_id)},children:"Go Back"})}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(L.a.Title,{level:3,children:"Edit Food Item Profile"}),Object(I.jsx)(W.a,{}),Object(I.jsxs)(b.a,{children:[Object(I.jsxs)(x.a,{children:[Object(I.jsxs)(m.a,{span:8,children:[Object(I.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Food Name"}),Object(I.jsx)(p.a,{size:"large",type:"text",id:"foodName",style:{width:"80%"},onChange:function(e){return _(e.target.value)},value:f,required:!0})]}),Object(I.jsxs)(m.a,{span:8,children:[Object(I.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Food Price"}),Object(I.jsx)(p.a,{size:"large",prefix:"$",type:"number",id:"foodPrice",style:{width:"80%",textAlign:"right"},onChange:function(e){return S(e.target.value)},value:T,required:!0})]}),Object(I.jsxs)(m.a,{span:8,children:[Object(I.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Category"}),Object(I.jsx)(Ge.a,{size:"large",style:{width:"80%"},id:"itemCategoryId",onChange:function(e){return d(e)},value:i,required:!0,children:n.map((function(e,t){return Object(I.jsx)(Ge.a.Option,{value:e.food_category_id,children:e.food_category_name},t)}))})]})]}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Food Description"}),Object(I.jsx)(p.a.TextArea,{id:"foodDescription",rows:5,onChange:function(e){return C(e.target.value)},value:k,required:!0}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(x.a,{children:Object(I.jsxs)(m.a,{span:8,children:[Object(I.jsx)("img",{src:D,alt:"img",style:{width:"60%"}}),Object(I.jsx)(L.a.Title,{level:5,children:"Food Image"}),Object(I.jsx)(p.a,{required:!0,size:"large",style:{width:"80%"},type:"file",accept:"image/jpeg,image/jpg,image/png",id:"imageFile",onChange:M})]})}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(h.a,{type:"primary",size:"large",block:!0,htmlType:"submit",onClick:N,children:"Edit Food Item"})]})]})},Je=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),r=t[0],n=t[1],c=Object(a.useState)(null),s=Object(l.a)(c,2),o=s[0],i=s[1],d=Object(a.useState)(null),j=Object(l.a)(d,2),O=j[0],x=j[1];Object(a.useEffect)(Object(H.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m();case 3:t=e.sent,n(t.client_id),i(t.client_secret),x(t.manager_id),e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",u.b.error(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),[]);var m=function(){var e=Object(H.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:Se.GET_MANAGER_DETAIL+"?email_address="+localStorage.getItem("managerEmail")});case 2:return t=e.sent,e.abrupt("return",t.data.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(H.a)(z.a.mark((function e(t){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!(r&&o&&O)){e.next=14;break}return a={client_id:r,client_secret:o,manager_id:O},e.next=6,v()({method:"post",url:Se.UPDATE_MANAGER_ACCOUNT,data:a});case 6:if(!e.sent.data.success){e.next=11;break}u.b.success("Update account successful!"),e.next=12;break;case 11:return e.abrupt("return",u.b.error("Update fail, pleaes try again!"));case 12:e.next=15;break;case 14:return e.abrupt("return",u.b.error("Please complete information!"));case 15:e.next=20;break;case 17:return e.prev=17,e.t0=e.catch(1),e.abrupt("return",u.b.error("Something wrong happened, please try again!"));case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsxs)("div",{children:[Object(I.jsx)(L.a.Title,{level:5,children:"Edit Your Paypal Detail Here"}),Object(I.jsx)(W.a,{}),Object(I.jsxs)(b.a,{children:[Object(I.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Client ID"}),Object(I.jsx)(p.a,{size:"large",style:{width:"80%"},id:"clientId",value:r,onChange:function(e){return n(e.target.value)},required:!0}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Client Secret"}),Object(I.jsx)(p.a.TextArea,{id:"clientSecret",rows:5,value:o,onChange:function(e){return i(e.target.value)},required:!0}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(h.a,{type:"primary",size:"large",block:!0,htmlType:"submit",onClick:f,children:"Submit"})]})]})},Qe=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),r=t[0],n=t[1],c=Object(a.useState)(null),s=Object(l.a)(c,2),o=s[0],i=s[1],d=Object(a.useState)(null),j=Object(l.a)(d,2),O=j[0],f=j[1],_=Object(a.useState)(null),g=Object(l.a)(_,2),T=g[0],S=g[1],w=Object(a.useState)(null),E=Object(l.a)(w,2),k=E[0],C=E[1],A=Object(a.useState)(null),R=Object(l.a)(A,2),D=R[0],P=R[1],F=Object(a.useState)(null),G=Object(l.a)(F,2),M=G[0],N=G[1],U=Object(a.useState)(null),q=Object(l.a)(U,2),B=q[0],$=q[1],V=Object(a.useState)(null),J=Object(l.a)(V,2),Q=J[0],X=J[1],K=Object(a.useState)(null),Z=Object(l.a)(K,2),ee=Z[0],te=Z[1];Object(a.useEffect)(Object(H.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re();case 3:t=e.sent,n(t.first_name),i(t.last_name),f(t.email_address),S(t.email_address),C(t.phone),P(t.phone),X(t.manager_id),te(t.avatar_url),e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",u.b.error(e.t0.message));case 17:case"end":return e.stop()}}),e,null,[[0,14]])}))),[]);var re=function(){var e=Object(H.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:Se.GET_MANAGER_DETAIL+"?email_address="+localStorage.getItem("managerEmail")});case 2:return t=e.sent,e.abrupt("return",t.data.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(H.a)(z.a.mark((function e(t){var r,a,n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.target.files[0],(a=new FormData).append("image",r),e.next=6,v()({method:"post",url:Se.MANAGER_UPLOAD_AVATAR+"?id="+Q,data:a,headers:{"Content-Type":"multipart/form-data;charset=UTF-8"}});case 6:if(!(n=e.sent).data.success){e.next=12;break}return u.b.success("Upload Avatar Successful"),e.abrupt("return",te(n.data.message));case 12:return e.abrupt("return",u.b.error("Upload Avatar fail, please try again!"));case 13:e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return",u.b.error("Something wrong happened, please try again!"));case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(H.a)(z.a.mark((function e(t){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!(r&&o&&O&&T&&k&&D&&M&&B&&Q)){e.next=18;break}if(M===B){e.next=7;break}return e.abrupt("return",u.b.error("Confirm password is not same as the new password you set. Please try again!"));case 7:return a={first_name:r,last_name:o,old_email_address:O,new_email_address:T,old_phone:k,new_phone:D,password:M,manager_id:Q,avatar_url:ee},e.next=10,v()({method:"post",url:Se.UPDATE_MANAGER_PROFILE,data:a});case 10:if(!e.sent.data.success){e.next=15;break}return e.abrupt("return",u.b.success("Update profile successful!"));case 15:return e.abrupt("return",u.b.error("Update fail, pleaes try again!"));case 16:e.next=19;break;case 18:return e.abrupt("return",u.b.error("Please complete information!"));case 19:e.next=24;break;case 21:return e.prev=21,e.t0=e.catch(1),e.abrupt("return",u.b.error(e.t0.response.data.message));case 24:case"end":return e.stop()}}),e,null,[[1,21]])})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsxs)("div",{children:[Object(I.jsx)(L.a.Title,{level:5,children:"Edit Your Profile Here"}),Object(I.jsx)(W.a,{}),Object(I.jsxs)(b.a,{children:[Object(I.jsx)(L.a.Title,{level:5,children:"Set Avatar"}),Object(I.jsxs)("div",{style:{textAlign:"center"},children:[ee?Object(I.jsx)(Y.a,{size:128,src:ee}):Object(I.jsx)(Y.a,{size:128,icon:Object(I.jsx)(y.a,{})}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(p.a,{required:!0,size:"large",style:{width:"90%"},type:"file",accept:"image/jpeg,image/jpg,image/png",id:"imageFile",onChange:ae})]}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsxs)(x.a,{children:[Object(I.jsxs)(m.a,{span:12,children:[Object(I.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"First Name"}),Object(I.jsx)(p.a,{size:"large",type:"text",id:"firstName",style:{width:"80%"},onChange:function(e){return n(e.target.value)},value:r,required:!0})]}),Object(I.jsxs)(m.a,{span:12,children:[Object(I.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Last Name"}),Object(I.jsx)(p.a,{size:"large",type:"text",id:"lastName",style:{width:"80%"},onChange:function(e){return i(e.target.value)},value:o,required:!0})]})]}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsxs)(x.a,{children:[Object(I.jsxs)(m.a,{span:12,children:[Object(I.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Email Address"}),Object(I.jsx)(p.a,{size:"large",type:"email",placeholder:"abc@abc.com",id:"emailAddress",style:{width:"80%"},onChange:function(e){return S(e.target.value)},value:T,required:!0})]}),Object(I.jsxs)(m.a,{span:12,children:[Object(I.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Phone Number"}),Object(I.jsx)(p.a,{size:"large",type:"tel",pattern:"\\([0-9]{3}\\) [0-9]{3}-[0-9]{4}",placeholder:"(111) 111-1111",id:"phone",style:{width:"80%"},onChange:function(e){return P(e.target.value)},value:D,required:!0})]})]}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsxs)(x.a,{children:[Object(I.jsxs)(m.a,{span:12,children:[Object(I.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"New Password"}),Object(I.jsx)(p.a.Password,{size:"large",style:{width:"80%"},id:"newPassword",placeholder:"New Password",value:M,onChange:function(e){return N(e.target.value)},required:!0})]}),Object(I.jsxs)(m.a,{span:12,children:[Object(I.jsx)(L.a.Title,{level:5,style:{marginLeft:"5px"},children:"Confirm Your Password"}),Object(I.jsx)(p.a,{size:"large",style:{width:"80%"},type:"password",id:"confirmNewPassword",placeholder:"Confirm New Password",value:B,onChange:function(e){return $(e.target.value)},required:!0})]})]}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(h.a,{type:"primary",size:"large",block:!0,htmlType:"submit",onClick:ne,children:"Submit"})]})]})},Xe=function(e){var t=Object(a.useState)([]),r=Object(l.a)(t,2),n=r[0],c=r[1];Object(a.useEffect)(Object(H.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s(localStorage.getItem("managerEmail"));case 3:t=e.sent,c(t),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",u.b.error("Sorry, fail to get current orders!"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]);var s=function(){var e=Object(H.a)(z.a.mark((function e(t){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:Se.GET_CURRENT_ORDERS+"?email_address="+t});case 2:return r=e.sent,e.abrupt("return",r.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){console.log("send message")},i=function(){var e=Object(H.a)(z.a.mark((function e(t){var r,a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={order_id:t},e.next=4,v()({method:"post",url:Se.COMPLETE_ORDER,data:r});case 4:if(!e.sent.data.success){e.next=13;break}return e.next=8,s(localStorage.getItem("managerEmail"));case 8:return a=e.sent,c(a),e.abrupt("return",u.b.success("Complete order successful!"));case 13:return e.abrupt("return",u.b.error("Action failed, please try again!"));case 14:e.next=19;break;case 16:return e.prev=16,e.t0=e.catch(0),e.abrupt("return",u.b.error("Action failed, please try again!"));case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsx)("div",{children:0===n.length?Object(I.jsx)(L.a.Title,{level:3,children:"You don't have new orders yet"}):Object(I.jsx)("div",{children:n.map((function(e,t){return Object(I.jsxs)("div",{children:[Object(I.jsxs)(L.a.Title,{level:4,children:["Customer: ",e.first_name+" "+e.last_name]}),Object(I.jsxs)(L.a.Title,{level:4,children:["Address: ",e.address]}),Object(I.jsxs)(L.a.Title,{level:4,children:["Created At: ",e.created_at]}),Object(I.jsx)("br",{}),Object(I.jsxs)(L.a.Text,{children:["Note: ",e.note]}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsxs)("div",{style:{border:"1px solid black",padding:"2%"},children:[Object(I.jsxs)(x.a,{children:[Object(I.jsx)(m.a,{span:6,children:Object(I.jsx)(L.a.Title,{level:4,children:"Food Name"})}),Object(I.jsx)(m.a,{span:6,children:Object(I.jsx)(L.a.Title,{level:4,children:"Food Price"})}),Object(I.jsx)(m.a,{span:6,children:Object(I.jsx)(L.a.Title,{level:4,children:"Quantity"})}),Object(I.jsx)(m.a,{span:6,children:Object(I.jsx)(L.a.Title,{level:4,children:"Sub Total"})})]}),Object(I.jsx)("br",{}),e.items.map((function(e,t){return Object(I.jsxs)("div",{children:[Object(I.jsxs)(x.a,{children:[Object(I.jsx)(m.a,{span:6,children:Object(I.jsx)(L.a.Text,{children:e.food_name})}),Object(I.jsx)(m.a,{span:6,children:Object(I.jsxs)(L.a.Text,{children:["$ ",Math.floor(100*e.food_price)/100]})}),Object(I.jsx)(m.a,{span:6,children:Object(I.jsx)(L.a.Text,{children:e.quantity})}),Object(I.jsx)(m.a,{span:6,children:Object(I.jsxs)(L.a.Text,{children:["$ ",Math.floor(100*e.sub_total)/100]})})]}),Object(I.jsx)("br",{})]},t)}))]}),Object(I.jsx)("br",{}),Object(I.jsxs)(L.a.Title,{level:5,children:["Food Total: $ ",Math.floor(100*e.total)/100]}),Object(I.jsxs)(L.a.Title,{level:5,children:["HST: $ ",Math.floor(100*e.hst)/100]}),Object(I.jsxs)(L.a.Title,{level:4,children:["Total: $ ",Math.floor(100*(e.total+e.hst))/100]}),Object(I.jsx)("br",{}),Object(I.jsx)(h.a,{type:"primary",onClick:o,children:"Send Message"}),Object(I.jsx)(h.a,{style:{float:"right"},type:"primary",onClick:function(){return i(e.order_id)},children:"Complete Order"}),Object(I.jsx)(W.a,{})]},t)}))})})},Ke=function(e){var t=Object(a.useState)([]),r=Object(l.a)(t,2),n=r[0],c=r[1];Object(a.useEffect)(Object(H.a)(z.a.mark((function e(){var t,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s(localStorage.getItem("managerEmail"));case 3:for(t=e.sent,r=0;r<t.length;r++)t[r].key=r;c(t),e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",u.b.error("Sorry, fail to get order history!"));case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[]);var s=function(){var e=Object(H.a)(z.a.mark((function e(t){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:Se.GET_ORDER_HISTORY+"?email_address="+t});case 2:return r=e.sent,e.abrupt("return",r.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsx)("div",{children:Object(I.jsx)(Oe.a,{bordered:!0,dataSource:n,columns:[{title:"Customer",dataIndex:"customer_name"},{title:"Time",dataIndex:"created_at"},{title:"Status",dataIndex:"order_status_name",render:function(e){return"COMPLETE"===e?Object(I.jsx)("span",{style:{color:"green",fontWeight:"bold"},children:e}):Object(I.jsx)("span",{children:e})}},{title:"Action",dataIndex:"order_id",render:function(t){return Object(I.jsx)(h.a,{type:"primary",onClick:function(){return function(t){return e.history.push("/manager/order_detail/"+t)}(t)},children:"See Detail"})}}]})})},Ze=function(e){var t=Object(a.useState)(null),r=Object(l.a)(t,2),n=r[0],c=r[1],s=Object(a.useState)(null),o=Object(l.a)(s,2),i=o[0],d=o[1],j=Object(a.useState)(null),b=Object(l.a)(j,2),p=b[0],O=b[1],f=Object(a.useState)(null),_=Object(l.a)(f,2),g=_[0],y=_[1],T=Object(a.useState)(null),S=Object(l.a)(T,2),w=S[0],E=S[1],k=Object(a.useState)(0),C=Object(l.a)(k,2),A=C[0],R=C[1],D=Object(a.useState)(0),P=Object(l.a)(D,2),F=P[0],G=P[1],M=Object(a.useState)([]),N=Object(l.a)(M,2),U=N[0],q=N[1],B=Object(a.useState)(null),Y=Object(l.a)(B,2),$=Y[0],V=Y[1],J=Object(a.useState)(null),Q=Object(l.a)(J,2),X=Q[0],K=Q[1];Object(a.useEffect)(Object(H.a)(z.a.mark((function t(){var r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Z(e.match.params.order_id);case 3:r=t.sent,c(r.address),d(r.created_at),O(r.completed_at),y(r.first_name),E(r.last_name),R(r.hst),G(r.total),q(r.items),V(r.note),K(r.order_status_name),t.next=19;break;case 16:return t.prev=16,t.t0=t.catch(0),t.abrupt("return",u.b.error("Sorry, fail to get order detail!"));case 19:case"end":return t.stop()}}),t,null,[[0,16]])}))),[]);var Z=function(){var e=Object(H.a)(z.a.mark((function e(t){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:Se.GET_ORDER_DETAIL+"?order_id="+t});case 2:return r=e.sent,e.abrupt("return",r.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{children:Object(I.jsx)(h.a,{type:"primary",onClick:function(){return e.history.push("/manager/order_history")},children:"Go Back"})}),Object(I.jsx)(W.a,{}),Object(I.jsxs)(x.a,{children:[Object(I.jsx)(m.a,{span:8,children:Object(I.jsxs)(L.a.Title,{level:4,children:["Customer: ",g+" "+w]})}),Object(I.jsx)(m.a,{span:8,children:Object(I.jsxs)(L.a.Title,{level:4,children:["Address: ",n]})}),Object(I.jsx)(m.a,{span:8,children:Object(I.jsxs)(L.a.Title,{level:4,children:["Status: ","COMPLETE"===X?Object(I.jsx)("span",{style:{color:"green",fontWeight:"bold"},children:X}):Object(I.jsx)("span",{children:X})]})})]}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsxs)(L.a.Title,{level:4,children:["Created At: ",i]}),Object(I.jsxs)(L.a.Title,{level:4,children:["Completed At: ",p||"Not Available"]}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsxs)(L.a.Text,{children:["Note: ",$]}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsxs)("div",{style:{border:"1px solid black",padding:"3%"},children:[Object(I.jsxs)(x.a,{children:[Object(I.jsx)(m.a,{span:6,children:Object(I.jsx)(L.a.Title,{level:4,children:"Food Name"})}),Object(I.jsx)(m.a,{span:6,children:Object(I.jsx)(L.a.Title,{level:4,children:"Food Price"})}),Object(I.jsx)(m.a,{span:6,children:Object(I.jsx)(L.a.Title,{level:4,children:"Quantity"})}),Object(I.jsx)(m.a,{span:6,children:Object(I.jsx)(L.a.Title,{level:4,children:"Sub Total"})})]}),Object(I.jsx)("br",{}),U.map((function(e,t){return Object(I.jsxs)("div",{children:[Object(I.jsxs)(x.a,{children:[Object(I.jsx)(m.a,{span:6,children:Object(I.jsx)(L.a.Text,{children:e.food_name})}),Object(I.jsx)(m.a,{span:6,children:Object(I.jsxs)(L.a.Text,{children:["$ ",Math.floor(100*e.food_price)/100]})}),Object(I.jsx)(m.a,{span:6,children:Object(I.jsx)(L.a.Text,{children:e.quantity})}),Object(I.jsx)(m.a,{span:6,children:Object(I.jsxs)(L.a.Text,{children:["$ ",Math.floor(100*e.sub_total)/100]})})]}),Object(I.jsx)("br",{})]},t)}))]}),Object(I.jsx)("br",{}),Object(I.jsxs)(L.a.Title,{level:5,children:["Food Total: $ ",Math.floor(100*F)/100]}),Object(I.jsxs)(L.a.Title,{level:5,children:["HST: $ ",Math.floor(100*A)/100]}),Object(I.jsxs)(L.a.Title,{level:4,children:["Total: $ ",Math.floor(100*(F+A))/100]})]})},et=function(e){var t=Object(a.useState)([]),r=Object(l.a)(t,2),n=r[0],c=r[1];Object(a.useEffect)(Object(H.a)(z.a.mark((function t(){var r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s(e.match.params.food_item_id);case 3:r=t.sent,c(r),t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",u.b.error("Sorry, fail to get comment list!"));case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),[]);var s=function(){var e=Object(H.a)(z.a.mark((function e(t){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:Se.GET_COMMENT_LIST+"?food_item_id="+t});case 2:return r=e.sent,e.abrupt("return",r.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{children:Object(I.jsx)(h.a,{type:"primary",style:{float:"left"},onClick:function(){return e.history.push("/manager/food_item_detail/"+e.match.params.food_item_id)},children:"Go Back"})}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),n.map((function(e,t){return Object(I.jsxs)("div",{children:[Object(I.jsxs)(j.a,{style:{width:"80%"},children:[Object(I.jsxs)(x.a,{children:[Object(I.jsxs)(m.a,{span:6,children:[e.avatar_url?Object(I.jsx)(Y.a,{style:{marginLeft:"5%"},size:64,src:e.avatar_url}):Object(I.jsx)(Y.a,{style:{marginLeft:"5%"},size:64,icon:Object(I.jsx)(y.a,{})}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(L.a.Title,{level:5,children:e.first_name+" "+e.last_name})]}),Object(I.jsxs)(m.a,{span:18,children:[Object(I.jsx)(L.a.Text,{children:e.created_at}),Object(I.jsx)("br",{}),Object(I.jsx)(K.a,{disabled:!0,value:e.rating}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsxs)(L.a.Text,{children:["Comment: ",e.comment?e.comment:"No Comment"]})]})]}),Object(I.jsx)("br",{})]}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{})]},t)}))]})},tt=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),r=t[0],n=t[1],c=Object(a.useState)(0),s=Object(l.a)(c,2),o=s[0],i=s[1],d=Object(a.useState)(0),j=Object(l.a)(d,2),b=j[0],p=j[1],O=Object(a.useState)(0),h=Object(l.a)(O,2),f=h[0],_=h[1],g=Object(a.useState)(""),y=Object(l.a)(g,2),T=y[0],S=y[1],w=Object(a.useState)(""),E=Object(l.a)(w,2),k=E[0],C=E[1],A=Object(a.useState)([{start_time:"0:00:00",end_time:"1:00:00"},{start_time:"1:00:00",end_time:"2:00:00"},{start_time:"2:00:00",end_time:"3:00:00"},{start_time:"3:00:00",end_time:"4:00:00"},{start_time:"4:00:00",end_time:"5:00:00"},{start_time:"5:00:00",end_time:"6:00:00"},{start_time:"6:00:00",end_time:"7:00:00"},{start_time:"7:00:00",end_time:"8:00:00"},{start_time:"8:00:00",end_time:"9:00:00"},{start_time:"9:00:00",end_time:"10:00:00"},{start_time:"10:00:00",end_time:"11:00:00"},{start_time:"11:00:00",end_time:"12:00:00"},{start_time:"12:00:00",end_time:"13:00:00"},{start_time:"13:00:00",end_time:"14:00:00"},{start_time:"14:00:00",end_time:"15:00:00"},{start_time:"15:00:00",end_time:"16:00:00"},{start_time:"16:00:00",end_time:"17:00:00"},{start_time:"17:00:00",end_time:"18:00:00"},{start_time:"18:00:00",end_time:"19:00:00"},{start_time:"19:00:00",end_time:"20:00:00"},{start_time:"20:00:00",end_time:"21:00:00"},{start_time:"21:00:00",end_time:"22:00:00"},{start_time:"22:00:00",end_time:"23:00:00"},{start_time:"23:00:00",end_time:"24:00:00"}]),R=Object(l.a)(A,2),D=R[0],P=(R[1],Object(a.useState)([])),F=Object(l.a)(P,2),G=F[0],M=F[1],N=Object(a.useState)([]),U=Object(l.a)(N,2),q=U[0],B=U[1],Y=Object(a.useState)(""),$=Object(l.a)(Y,2),V=$[0],J=$[1],Q=Object(a.useState)(""),X=Object(l.a)(Q,2),K=X[0],Z=X[1],ee=Object(a.useState)(""),te=Object(l.a)(ee,2),re=te[0],ae=te[1];Object(a.useEffect)(Object(H.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne(localStorage.getItem("managerEmail"));case 3:t=e.sent,n(t.recent_sales_list),i(t.recent_food_total),p(t.recent_hst_total),_(t.recent_total),S(t.most_prolific_seller.food_shop_name),C(t.most_prolific_seller.name),M(t.region_list),B(t.user_list),e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",u.b.error("Sorry, error occured!"));case 17:case"end":return e.stop()}}),e,null,[[0,14]])}))),[]);var ne=function(){var e=Object(H.a)(z.a.mark((function e(t){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:"get",url:Se.GET_REPORT_INITIAL_STATE+"?email_address="+t});case 2:return r=e.sent,e.abrupt("return",r.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(H.a)(z.a.mark((function e(t){var r,a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v()({method:"get",url:Se.GET_SALES_BY_TIME_PERIOD+"?email_address="+localStorage.getItem("managerEmail")+"&&start_time="+D[t].start_time+"&&end_time="+D[t].end_time});case 3:r=e.sent,a=r.data.data,J("Food Total: $ "+a.food_total+",    HST Total: $ "+a.hst_total+",    Total: $ "+a.total),e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",u.b.error("Sorry, action failed!"));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(H.a)(z.a.mark((function e(t){var r,a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v()({method:"get",url:Se.GET_SALES_BY_REGION+"?email_address="+localStorage.getItem("managerEmail")+"&&region="+G[t].address});case 3:r=e.sent,a=r.data.data,Z("Food Total: $ "+a.food_total+",    HST Total: $ "+a.hst_total+",    Total: $ "+a.total),e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",u.b.error("Sorry, action failed!"));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(H.a)(z.a.mark((function e(t){var r,a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v()({method:"get",url:Se.GET_SALES_BY_USER_ID+"?email_address="+localStorage.getItem("managerEmail")+"&&user_id="+q[t].customer_id});case 3:r=e.sent,a=r.data.data,ae("Food Total: $ "+a.food_total+",    HST Total: $ "+a.hst_total+",    Total: $ "+a.total),e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",u.b.error("Sorry, action failed!"));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsxs)("div",{children:[Object(I.jsx)(L.a.Title,{level:3,children:"Reports and Filters"}),Object(I.jsx)(W.a,{}),Object(I.jsx)(L.a.Title,{level:4,children:"Recent Sales (within one week)"}),Object(I.jsxs)(x.a,{children:[Object(I.jsx)(m.a,{span:4,children:Object(I.jsx)(L.a.Title,{level:5,children:"Order ID"})}),Object(I.jsx)(m.a,{span:5,children:Object(I.jsx)(L.a.Title,{level:5,children:"Completed At"})}),Object(I.jsx)(m.a,{span:5,children:Object(I.jsx)(L.a.Title,{level:5,children:"Food Total"})}),Object(I.jsx)(m.a,{span:5,children:Object(I.jsx)(L.a.Title,{level:5,children:"HST"})}),Object(I.jsx)(m.a,{span:5,children:Object(I.jsx)(L.a.Title,{level:5,children:"Total"})})]}),Object(I.jsx)("br",{}),r.map((function(e,t){return Object(I.jsxs)("div",{children:[Object(I.jsxs)(x.a,{children:[Object(I.jsx)(m.a,{span:4,children:Object(I.jsx)(L.a.Text,{children:e.order_id})}),Object(I.jsx)(m.a,{span:5,children:Object(I.jsx)(L.a.Text,{children:e.completed_at})}),Object(I.jsx)(m.a,{span:5,children:Object(I.jsxs)(L.a.Text,{children:["$ ",Math.floor(100*e.total)/100]})}),Object(I.jsx)(m.a,{span:5,children:Object(I.jsxs)(L.a.Text,{children:["$ ",Math.floor(100*e.hst)/100]})}),Object(I.jsx)(m.a,{span:5,children:Object(I.jsxs)(L.a.Text,{children:["$ ",Math.floor(100*(e.total+e.hst))/100]})})]}),Object(I.jsx)("br",{})]},t)})),Object(I.jsx)("br",{}),Object(I.jsxs)(L.a.Title,{level:5,children:["Recent Food Total: $ ",Math.floor(100*o)/100]}),Object(I.jsxs)(L.a.Title,{level:5,children:["Recent HST Total: $ ",Math.floor(100*b)/100]}),Object(I.jsxs)(L.a.Title,{level:4,children:["Recent Total: $ ",Math.floor(100*f)/100]}),Object(I.jsx)(W.a,{}),Object(I.jsxs)(L.a.Title,{level:4,children:["Most Prolific Sellers (Food Shop): ",k," (",T,")"]}),Object(I.jsx)(W.a,{}),Object(I.jsx)(L.a.Title,{level:4,children:"Total Sales: "}),Object(I.jsx)("br",{}),Object(I.jsx)(Ge.a,{placeholder:"Choose Time Period Here",size:"large",style:{width:"40%"},onChange:ce,children:D.map((function(e,t){return Object(I.jsxs)(Ge.a.Option,{value:t,children:[e.start_time," - ",e.end_time]},t)}))}),Object(I.jsx)("br",{}),Object(I.jsxs)(L.a.Title,{level:5,children:["For Time Period: ",V]}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(Ge.a,{placeholder:"Choose Region Here",size:"large",style:{width:"40%"},onChange:se,children:G.map((function(e,t){return Object(I.jsx)(Ge.a.Option,{value:t,children:e.address},t)}))}),Object(I.jsx)("br",{}),Object(I.jsxs)(L.a.Title,{level:5,children:["For Region: ",K]}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(Ge.a,{placeholder:"Choose User Name Here",size:"large",style:{width:"40%"},onChange:oe,children:q.map((function(e,t){return Object(I.jsx)(Ge.a.Option,{value:t,children:e.first_name+" "+e.last_name},t)}))}),Object(I.jsx)("br",{}),Object(I.jsxs)(L.a.Title,{level:5,children:["For User: ",re]}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{})]})},rt=function(e){var t=Object(a.useState)(!1),r=Object(l.a)(t,2),n=r[0],c=r[1];Object(a.useEffect)((function(){localStorage.getItem("sessionId")&&localStorage.getItem("managerEmail")||e.history.push("/manager/login")}),[]);return Object(I.jsx)("div",{children:Object(I.jsx)(d.a,{tip:"Loading...",spinning:n,children:Object(I.jsxs)(V.a,{style:{minHeight:"100vh"},children:[Object(I.jsx)(V.a.Sider,{collapsible:!0,children:Object(I.jsxs)(q.a,{mode:"inline",theme:"dark",onClick:function(t){switch(t.key){case"1":e.history.push("/manager/");break;case"2":e.history.push("/manager/report");break;case"3":e.history.push("/manager/current_orders");break;case"4":e.history.push("/manager/order_history");break;case"5":e.history.push("/manager/setting_account");break;case"6":e.history.push("/manager/edit_profile");break;case"7":c(!0),v()({method:"post",url:Se.LOGOUT_URL,withCredentials:!0}).then((function(t){return c(!1),t.data.success?(localStorage.removeItem("sessionId"),localStorage.removeItem("managerEmail"),u.b.success(t.data.message),e.history.push("/manager/login")):u.b.error(t.data.message)})).catch((function(e){return c(!1),u.b.error(e.response.data.message)}))}},children:[Object(I.jsx)(q.a.Item,{icon:Object(I.jsx)(Ie.a,{}),children:"Food Shops"},"1"),Object(I.jsx)(q.a.Item,{icon:Object(I.jsx)(Re.a,{}),children:"Report"},"2"),Object(I.jsx)(q.a.Item,{icon:Object(I.jsx)(De.a,{}),children:"Current Order"},"3"),Object(I.jsx)(q.a.Item,{icon:Object(I.jsx)(Pe.a,{}),children:"Order History"},"4"),Object(I.jsx)(q.a.Item,{icon:Object(I.jsx)(Le.a,{}),children:"Setting Account"},"5"),Object(I.jsxs)(q.a.SubMenu,{title:"Account",icon:Object(I.jsx)(y.a,{}),children:[Object(I.jsx)(q.a.Item,{children:"Edit Profile"},"6"),Object(I.jsx)(q.a.Item,{children:"Logout"},"7")]},"sub1")]})}),Object(I.jsxs)(V.a,{className:"site-layout",children:[Object(I.jsx)(V.a.Content,{style:{margin:"0 16px"},children:Object(I.jsxs)("div",{className:"site-layout-background",style:{padding:24,minHeight:360},children:[Object(I.jsx)(i.b,{path:"/manager/",exact:!0,component:Fe}),Object(I.jsx)(i.b,{path:"/manager/add_food_shop/:manager_id",exact:!0,component:Ne}),Object(I.jsx)(i.b,{path:"/manager/food_shop_detail/:food_shop_id",exact:!0,component:ze}),Object(I.jsx)(i.b,{path:"/manager/food_item_detail/:food_item_id",exact:!0,component:He}),Object(I.jsx)(i.b,{path:"/manager/add_food_item/:food_shop_id",exact:!0,component:qe}),Object(I.jsx)(i.b,{path:"/manager/add_food_item_category/:food_shop_id",exact:!0,component:Be}),Object(I.jsx)(i.b,{path:"/manager/edit_food_shop/:food_shop_id",exact:!0,component:Ve}),Object(I.jsx)(i.b,{path:"/manager/edit_food_item/:food_item_id",exact:!0,component:We}),Object(I.jsx)(i.b,{path:"/manager/setting_account",exact:!0,component:Je}),Object(I.jsx)(i.b,{path:"/manager/edit_profile",exact:!0,component:Qe}),Object(I.jsx)(i.b,{path:"/manager/current_orders",exact:!0,component:Xe}),Object(I.jsx)(i.b,{path:"/manager/order_history",exact:!0,component:Ke}),Object(I.jsx)(i.b,{path:"/manager/order_detail/:order_id",exact:!0,component:Ze}),Object(I.jsx)(i.b,{path:"/manager/food_comments/:food_item_id",exact:!0,component:et}),Object(I.jsx)(i.b,{path:"/manager/report",exact:!0,component:tt})]})}),Object(I.jsx)(we,{})]})]})})})},at=r(63),nt=r(115),ct="ADD_PRODUCT",st="REMOVE_PRODUCT",ot="ADD_PRODUCT_BY_ONE",it="DELETE_PRODUCT_BY_ONE",lt="CLEAR_CART",ut=function(e,t){switch(t.type){case ct:return function(e,t){console.log("adding product",e);var r=Object(nt.a)(t.cart),a=r.findIndex((function(t){return t.food_item_id===e.food_item_id}));if(a<0)r.push(e);else{var n=r[a];n.quantity+=e.quantity,r[a]=n}return Object(at.a)(Object(at.a)({},t),{},{cart:r})}(t.product,e);case ot:return function(e,t){console.log("adding product by one",e);var r=Object(nt.a)(t.cart),a=r.findIndex((function(t){return t.food_item_id===e.food_item_id}));if(a>=0){var n=r[a];n.quantity++,r[a]=n}return Object(at.a)(Object(at.a)({},t),{},{cart:r})}(t.product,e);case it:return function(e,t){console.log("deleting product by one",e);var r=Object(nt.a)(t.cart),a=r.findIndex((function(t){return t.food_item_id===e.food_item_id}));if(a>=0){var n=r[a];n.quantity--,0===n.quantity?r.splice(a,1):r[a]=n}return Object(at.a)(Object(at.a)({},t),{},{cart:r})}(t.product,e);case st:return function(e,t){console.log("remove product: "+e);var r=Object(nt.a)(t.cart),a=r.findIndex((function(t){return t.food_item_id===e.food_item_id}));return a>=0&&r.splice(a,1),Object(at.a)(Object(at.a)({},t),{},{cart:r})}(t.product,e);case lt:return function(e){return console.log("clear cart"),Object(at.a)(Object(at.a)({},e),{},{cart:[]})}(e);default:return e}},dt=function(e){var t=Object(a.useReducer)(ut,{cart:[]}),r=Object(l.a)(t,2),n=r[0],c=r[1];return Object(I.jsx)(ae.Provider,{value:{cart:n.cart,addProductToCart:function(e){c({type:ct,product:e})},removeProductFromCart:function(e){c({type:st,product:e})},addProductToCartByOne:function(e){c({type:ot,product:e})},deleteProductFromCartByOne:function(e){c({type:it,product:e})},clearCart:function(){c({type:lt})}},children:e.children})};var jt=function(){return Object(I.jsx)(dt,{children:Object(I.jsx)(o.a,{children:Object(I.jsxs)(i.d,{children:[Object(I.jsx)(i.b,{path:"/customer/login",exact:!0,component:P}),Object(I.jsx)(i.b,{path:"/customer/register",exact:!0,component:F}),Object(I.jsx)(i.b,{path:"/customer/reset-password/",exact:!0,component:M}),Object(I.jsx)(i.b,{path:"/customer/reset-password/:token",exact:!0,component:N}),Object(I.jsx)(i.b,{path:"/customer/",component:fe}),Object(I.jsx)(i.b,{path:"/manager/login",exact:!0,component:Ee}),Object(I.jsx)(i.b,{path:"/manager/register",exact:!0,component:ke}),Object(I.jsx)(i.b,{path:"/manager/reset-password/",exact:!0,component:Ce}),Object(I.jsx)(i.b,{path:"/manager/reset-password/:token",exact:!0,component:Ae}),Object(I.jsx)(i.b,{path:"/manager/",component:rt}),Object(I.jsx)(i.a,{to:"/customer/login"})]})})})};s.a.render(Object(I.jsx)(jt,{}),document.getElementById("root"))}},[[310,1,2]]]);
//# sourceMappingURL=main.fe726eb9.chunk.js.map